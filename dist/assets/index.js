var cA=Object.defineProperty,fA=Object.defineProperties;var hA=Object.getOwnPropertyDescriptors;var Sy=Object.getOwnPropertySymbols;var dA=Object.prototype.hasOwnProperty,pA=Object.prototype.propertyIsEnumerable;var Yd=(t,e,r)=>e in t?cA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Se=(t,e)=>{for(var r in e||(e={}))dA.call(e,r)&&Yd(t,r,e[r]);if(Sy)for(var r of Sy(e))pA.call(e,r)&&Yd(t,r,e[r]);return t},Nr=(t,e)=>fA(t,hA(e));var Ay=(t,e,r)=>(Yd(t,typeof e!="symbol"?e+"":e,r),r);import{react as be,objectAssign as vA,scheduler as mA,React as X,ioManager as mn,aiHost as gA,camera as qa,world as Tt,gameManager as Ht,makeId as yA,getAugmentedNamespace as Ft,commonjsGlobal as re,commonjsRequire as bA,getMainnetAddress as _A,walletHost as Ha,parseQuery as Xd,discordClientId as wA,tokensHost as xA,universe as DA,sceneNames as ky,handleUrlUpdate as Cy,cameraManager as Qd,WSRTC as EA,Avatar as Zd,physx as SA,waitForLoad as AA,transformControls as My,waitForLoad$1 as kA,getRenderer as vc,scene as CA,sceneHighPriority as MA,sceneLowPriority as IA,bindInterface as TA,bindCanvas as PA,postProcessing as NA,getComposer as FA,dioramaManager as e0,physicsManager as OA,playersManager as $A,hpManager as LA,dolly as RA,defaultAvatarUrl as BA}from"./metaversefile-api.js";import{metaversefile as zr}from"./metaversefile.js";import{Vector3 as Qn,Euler as UA,Matrix4 as Iy,Quaternion as t0}from"./three.js";import"./web3.js";import"https://contracts.webaverse.com/config/addresses.js";import"https://contracts.webaverse.com/config/abi.js";const jA=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};jA();var Ty={exports:{}},gn={};/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=be.exports,It=vA,Xt=mA.exports;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!mc)throw Error(ve(227));var Py=new Set,ps={};function Bo(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(ps[t]=e,t=0;t<e.length;t++)Py.add(e[t])}var Ci=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny=Object.prototype.hasOwnProperty,Fy={},Oy={};function qA(t){return Ny.call(Oy,t)?!0:Ny.call(Fy,t)?!1:zA.test(t)?Oy[t]=!0:(Fy[t]=!0,!1)}function HA(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WA(t,e,r,n){if(e===null||typeof e=="undefined"||HA(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fr(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sr[t]=new Fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sr[e]=new Fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sr[t]=new Fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sr[t]=new Fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sr[t]=new Fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sr[t]=new Fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sr[t]=new Fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sr[t]=new Fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sr[t]=new Fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var r0=/[\-:]([a-z])/g;function n0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(r0,n0);sr[e]=new Fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(r0,n0);sr[e]=new Fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(r0,n0);sr[e]=new Fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function i0(t,e,r,n){var i=sr.hasOwnProperty(e)?sr[e]:null,o=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(WA(e,r,i,n)&&(r=null),n||i===null?qA(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Uo=mc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=60103,jo=60106,Xi=60107,o0=60108,ms=60114,a0=60109,u0=60110,gc=60112,gs=60113,yc=60120,bc=60115,s0=60116,l0=60121,c0=60128,$y=60129,f0=60130,h0=60131;if(typeof Symbol=="function"&&Symbol.for){var Qt=Symbol.for;vs=Qt("react.element"),jo=Qt("react.portal"),Xi=Qt("react.fragment"),o0=Qt("react.strict_mode"),ms=Qt("react.profiler"),a0=Qt("react.provider"),u0=Qt("react.context"),gc=Qt("react.forward_ref"),gs=Qt("react.suspense"),yc=Qt("react.suspense_list"),bc=Qt("react.memo"),s0=Qt("react.lazy"),l0=Qt("react.block"),Qt("react.scope"),c0=Qt("react.opaque.id"),$y=Qt("react.debug_trace_mode"),f0=Qt("react.offscreen"),h0=Qt("react.legacy_hidden")}var Ly=typeof Symbol=="function"&&Symbol.iterator;function ys(t){return t===null||typeof t!="object"?null:(t=Ly&&t[Ly]||t["@@iterator"],typeof t=="function"?t:null)}var d0;function bs(t){if(d0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);d0=e&&e[1]||""}return`
`+d0+t}var p0=!1;function _c(t,e){if(!t||p0)return"";p0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(s){var n=s}Reflect.construct(t,[],e)}else{try{e.call()}catch(s){n=s}t.call(e.prototype)}else{try{throw Error()}catch(s){n=s}t()}}catch(s){if(s&&n&&typeof s.stack=="string"){for(var i=s.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=u);break}}}finally{p0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?bs(t):""}function GA(t){switch(t.tag){case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 2:case 15:return t=_c(t.type,!1),t;case 11:return t=_c(t.type.render,!1),t;case 22:return t=_c(t.type._render,!1),t;case 1:return t=_c(t.type,!0),t;default:return""}}function Ga(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case jo:return"Portal";case ms:return"Profiler";case o0:return"StrictMode";case gs:return"Suspense";case yc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u0:return(t.displayName||"Context")+".Consumer";case a0:return(t._context.displayName||"Context")+".Provider";case gc:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case bc:return Ga(t.type);case l0:return Ga(t._render);case s0:e=t._payload,t=t._init;try{return Ga(t(e))}catch{}}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VA(t){var e=Ry(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=VA(t))}function By(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Ry(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xc(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function v0(t,e){var r=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function Uy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jy(t,e){e=e.checked,e!=null&&i0(t,"checked",e,!1)}function m0(t,e){jy(t,e);var r=Qi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?g0(t,e.type,r):e.hasOwnProperty("defaultValue")&&g0(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function g0(t,e,r){(e!=="number"||xc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function KA(t){var e="";return mc.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function y0(t,e){return t=It({children:void 0},e),(e=KA(e.children))&&(t.children=e),t}function Va(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ve(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ve(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qi(r)}}function Hy(t,e){var r=Qi(e.value),n=Qi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Wy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var _0={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Gy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dc,Vy=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==_0.svg||"innerHTML"in t)t.innerHTML=e;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _s(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ws={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JA=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(t){JA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ws[e]=ws[t]})});function Ky(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ws.hasOwnProperty(t)&&ws[t]?(""+e).trim():e+"px"}function Jy(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Ky(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var YA=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x0(t,e){if(e){if(YA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function D0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function E0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var S0=null,Ka=null,Ja=null;function Yy(t){if(t=Us(t)){if(typeof S0!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=jc(e),S0(t.stateNode,t.type,e))}}function Xy(t){Ka?Ja?Ja.push(t):Ja=[t]:Ka=t}function Qy(){if(Ka){var t=Ka,e=Ja;if(Ja=Ka=null,Yy(t),e)for(t=0;t<e.length;t++)Yy(e[t])}}function A0(t,e){return t(e)}function Zy(t,e,r,n,i){return t(e,r,n,i)}function k0(){}var e2=A0,zo=!1,C0=!1;function M0(){(Ka!==null||Ja!==null)&&(k0(),Qy())}function XA(t,e,r){if(C0)return t(e,r);C0=!0;try{return e2(t,e,r)}finally{C0=!1,M0()}}function xs(t,e){var r=t.stateNode;if(r===null)return null;var n=jc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ve(231,e,typeof r));return r}var I0=!1;if(Ci)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){I0=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{I0=!1}function QA(t,e,r,n,i,o,a,u,s){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Es=!1,Ec=null,Sc=!1,T0=null,ZA={onError:function(t){Es=!0,Ec=t}};function e7(t,e,r,n,i,o,a,u,s){Es=!1,Ec=null,QA.apply(ZA,arguments)}function t7(t,e,r,n,i,o,a,u,s){if(e7.apply(this,arguments),Es){if(Es){var l=Ec;Es=!1,Ec=null}else throw Error(ve(198));Sc||(Sc=!0,T0=l)}}function qo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!=0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function t2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function r2(t){if(qo(t)!==t)throw Error(ve(188))}function r7(t){var e=t.alternate;if(!e){if(e=qo(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return r2(i),t;if(o===n)return r2(i),e;o=o.sibling}throw Error(ve(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=o;break}if(u===n){a=!0,n=i,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,n=i;break}if(u===n){a=!0,n=o,r=i;break}u=u.sibling}if(!a)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?t:e}function n2(t){if(t=r7(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function i2(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var o2,P0,a2,u2,N0=!1,Zn=[],Zi=null,eo=null,to=null,Ss=new Map,As=new Map,ks=[],s2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F0(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function l2(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":Ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Cs(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t=F0(e,r,n,i,o),e!==null&&(e=Us(e),e!==null&&P0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function n7(t,e,r,n,i){switch(e){case"focusin":return Zi=Cs(Zi,t,e,r,n,i),!0;case"dragenter":return eo=Cs(eo,t,e,r,n,i),!0;case"mouseover":return to=Cs(to,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ss.set(o,Cs(Ss.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,As.set(o,Cs(As.get(o)||null,t,e,r,n,i)),!0}return!1}function i7(t){var e=Ho(t.target);if(e!==null){var r=qo(e);if(r!==null){if(e=r.tag,e===13){if(e=t2(r),e!==null){t.blockedOn=e,u2(t.lanePriority,function(){Xt.unstable_runWithPriority(t.priority,function(){a2(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ac(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=U0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Us(r),e!==null&&P0(e),t.blockedOn=r,!1;e.shift()}return!0}function c2(t,e,r){Ac(t)&&r.delete(e)}function o7(){for(N0=!1;0<Zn.length;){var t=Zn[0];if(t.blockedOn!==null){t=Us(t.blockedOn),t!==null&&o2(t);break}for(var e=t.targetContainers;0<e.length;){var r=U0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Zn.shift()}Zi!==null&&Ac(Zi)&&(Zi=null),eo!==null&&Ac(eo)&&(eo=null),to!==null&&Ac(to)&&(to=null),Ss.forEach(c2),As.forEach(c2)}function Ms(t,e){t.blockedOn===e&&(t.blockedOn=null,N0||(N0=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,o7)))}function f2(t){function e(i){return Ms(i,t)}if(0<Zn.length){Ms(Zn[0],t);for(var r=1;r<Zn.length;r++){var n=Zn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zi!==null&&Ms(Zi,t),eo!==null&&Ms(eo,t),to!==null&&Ms(to,t),Ss.forEach(e),As.forEach(e),r=0;r<ks.length;r++)n=ks[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ks.length&&(r=ks[0],r.blockedOn===null);)i7(r),r.blockedOn===null&&ks.shift()}function kc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ya={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},O0={},h2={};Ci&&(h2=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Cc(t){if(O0[t])return O0[t];if(!Ya[t])return t;var e=Ya[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in h2)return O0[t]=e[r];return t}var d2=Cc("animationend"),p2=Cc("animationiteration"),v2=Cc("animationstart"),m2=Cc("transitionend"),g2=new Map,$0=new Map,a7=["abort","abort",d2,"animationEnd",p2,"animationIteration",v2,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",m2,"transitionEnd","waiting","waiting"];function L0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),$0.set(n,e),g2.set(n,i),Bo(i,[n])}}var u7=Xt.unstable_now;u7();var At=8;function Xa(t){if((1&t)!=0)return At=15,1;if((2&t)!=0)return At=14,2;if((4&t)!=0)return At=13,4;var e=24&t;return e!==0?(At=12,e):(t&32)!=0?(At=11,32):(e=192&t,e!==0?(At=10,e):(t&256)!=0?(At=9,256):(e=3584&t,e!==0?(At=8,e):(t&4096)!=0?(At=7,4096):(e=4186112&t,e!==0?(At=6,e):(e=62914560&t,e!==0?(At=5,e):t&67108864?(At=4,67108864):(t&134217728)!=0?(At=3,134217728):(e=805306368&t,e!==0?(At=2,e):(1073741824&t)!=0?(At=1,1073741824):(At=8,t))))))}function s7(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function l7(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ve(358,t))}}function Is(t,e){var r=t.pendingLanes;if(r===0)return At=0;var n=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,u=t.pingedLanes;if(o!==0)n=o,i=At=15;else if(o=r&134217727,o!==0){var s=o&~a;s!==0?(n=Xa(s),i=At):(u&=o,u!==0&&(n=Xa(u),i=At))}else o=r&~a,o!==0?(n=Xa(o),i=At):u!==0&&(n=Xa(u),i=At);if(n===0)return 0;if(n=31-ro(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&a)==0){if(Xa(e),i<=At)return e;At=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ro(e),i=1<<r,n|=t[r],e&=~i;return n}function y2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mc(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Qa(24&~e),t===0?Mc(10,e):t;case 10:return t=Qa(192&~e),t===0?Mc(8,e):t;case 8:return t=Qa(3584&~e),t===0&&(t=Qa(4186112&~e),t===0&&(t=512)),t;case 2:return e=Qa(805306368&~e),e===0&&(e=268435456),e}throw Error(ve(358,t))}function Qa(t){return t&-t}function R0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ic(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-ro(e),t[e]=r}var ro=Math.clz32?Math.clz32:h7,c7=Math.log,f7=Math.LN2;function h7(t){return t===0?32:31-(c7(t)/f7|0)|0}var d7=Xt.unstable_UserBlockingPriority,p7=Xt.unstable_runWithPriority,Tc=!0;function v7(t,e,r,n){zo||k0();var i=B0,o=zo;zo=!0;try{Zy(i,t,e,r,n)}finally{(zo=o)||M0()}}function m7(t,e,r,n){p7(d7,B0.bind(null,t,e,r,n))}function B0(t,e,r,n){if(Tc){var i;if((i=(e&4)==0)&&0<Zn.length&&-1<s2.indexOf(t))t=F0(null,t,e,r,n),Zn.push(t);else{var o=U0(t,e,r,n);if(o===null)i&&l2(t,n);else{if(i){if(-1<s2.indexOf(t)){t=F0(o,t,e,r,n),Zn.push(t);return}if(n7(o,t,e,r,n))return;l2(t,n)}K2(t,e,n,null,r)}}}}function U0(t,e,r,n){var i=E0(n);if(i=Ho(i),i!==null){var o=qo(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=t2(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return K2(t,e,n,i,r),null}var no=null,j0=null,Pc=null;function b2(){if(Pc)return Pc;var t,e=j0,r=e.length,n,i="value"in no?no.value:no.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return Pc=i.slice(t,1<n?1-n:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function _2(){return!1}function rn(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fc:_2,this.isPropagationStopped=_2,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},z0=rn(Za),Ts=It({},Za,{view:0,detail:0}),g7=rn(Ts),q0,H0,Ps,Oc=It({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ps&&(Ps&&t.type==="mousemove"?(q0=t.screenX-Ps.screenX,H0=t.screenY-Ps.screenY):H0=q0=0,Ps=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:H0}}),w2=rn(Oc),y7=It({},Oc,{dataTransfer:0}),b7=rn(y7),_7=It({},Ts,{relatedTarget:0}),W0=rn(_7),w7=It({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),x7=rn(w7),D7=It({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),E7=rn(D7),S7=It({},Za,{data:0}),x2=rn(S7),A7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C7[t])?!!e[t]:!1}function G0(){return M7}var I7=It({},Ts,{key:function(t){if(t.key){var e=A7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G0,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T7=rn(I7),P7=It({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D2=rn(P7),N7=It({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G0}),F7=rn(N7),O7=It({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),$7=rn(O7),L7=It({},Oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R7=rn(L7),B7=[9,13,27,32],V0=Ci&&"CompositionEvent"in window,Ns=null;Ci&&"documentMode"in document&&(Ns=document.documentMode);var U7=Ci&&"TextEvent"in window&&!Ns,E2=Ci&&(!V0||Ns&&8<Ns&&11>=Ns),S2=String.fromCharCode(32),A2=!1;function k2(t,e){switch(t){case"keyup":return B7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eu=!1;function j7(t,e){switch(t){case"compositionend":return C2(e);case"keypress":return e.which!==32?null:(A2=!0,S2);case"textInput":return t=e.data,t===S2&&A2?null:t;default:return null}}function z7(t,e){if(eu)return t==="compositionend"||!V0&&k2(t,e)?(t=b2(),Pc=j0=no=null,eu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E2&&e.locale!=="ko"?null:e.data;default:return null}}var q7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q7[t.type]:e==="textarea"}function I2(t,e,r,n){Xy(n),e=Lc(e,"onChange"),0<e.length&&(r=new z0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Fs=null,Os=null;function H7(t){q2(t,0)}function $c(t){var e=ou(t);if(By(e))return t}function W7(t,e){if(t==="change")return e}var T2=!1;if(Ci){var K0;if(Ci){var J0="oninput"in document;if(!J0){var P2=document.createElement("div");P2.setAttribute("oninput","return;"),J0=typeof P2.oninput=="function"}K0=J0}else K0=!1;T2=K0&&(!document.documentMode||9<document.documentMode)}function N2(){Fs&&(Fs.detachEvent("onpropertychange",F2),Os=Fs=null)}function F2(t){if(t.propertyName==="value"&&$c(Os)){var e=[];if(I2(e,Os,t,E0(t)),t=H7,zo)t(e);else{zo=!0;try{A0(t,e)}finally{zo=!1,M0()}}}}function G7(t,e,r){t==="focusin"?(N2(),Fs=e,Os=r,Fs.attachEvent("onpropertychange",F2)):t==="focusout"&&N2()}function V7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(Os)}function K7(t,e){if(t==="click")return $c(e)}function J7(t,e){if(t==="input"||t==="change")return $c(e)}function Y7(t,e){return t===e&&(t!==0||1/t==1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:Y7,X7=Object.prototype.hasOwnProperty;function $s(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!X7.call(e,r[n])||!yn(t[r[n]],e[r[n]]))return!1;return!0}function O2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $2(t,e){var r=O2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=O2(r)}}function L2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R2(){for(var t=window,e=xc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xc(t.document)}return e}function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Q7=Ci&&"documentMode"in document&&11>=document.documentMode,tu=null,X0=null,Ls=null,Q0=!1;function B2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q0||tu==null||tu!==xc(n)||(n=tu,"selectionStart"in n&&Y0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ls&&$s(Ls,n)||(Ls=n,n=Lc(X0,"onSelect"),0<n.length&&(e=new z0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=tu)))}L0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);L0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);L0(a7,2);for(var U2="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Z0=0;Z0<U2.length;Z0++)$0.set(U2[Z0],0);Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function z2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,t7(n,e,void 0,t),t.currentTarget=null}function q2(t,e){e=(e&4)!=0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var u=n[a],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;z2(i,u,l),o=s}else for(a=0;a<n.length;a++){if(u=n[a],s=u.instance,l=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;z2(i,u,l),o=s}}}if(Sc)throw t=T0,Sc=!1,T0=null,t}function Ct(t,e){var r=eb(e),n=t+"__bubble";r.has(n)||(V2(e,t,2,!1),r.add(n))}var H2="_reactListening"+Math.random().toString(36).slice(2);function W2(t){t[H2]||(t[H2]=!0,Py.forEach(function(e){j2.has(e)||G2(e,!1,t,null),G2(e,!0,t,null)}))}function G2(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(t==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!e&&j2.has(t)){if(t!=="scroll")return;i|=2,o=n}var a=eb(o),u=t+"__"+(e?"capture":"bubble");a.has(u)||(e&&(i|=4),V2(o,t,i,e),a.add(u))}function V2(t,e,r,n){var i=$0.get(e);switch(i===void 0?2:i){case 0:i=v7;break;case 1:i=m7;break;default:i=B0}r=i.bind(null,e,r,t),i=void 0,!I0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function K2(t,e,r,n,i){var o=n;if((e&1)==0&&(e&2)==0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var s=a.tag;if((s===3||s===4)&&(s=a.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Ho(u),a===null)return;if(s=a.tag,s===5||s===6){n=o=a;continue e}u=u.parentNode}}n=n.return}XA(function(){var l=o,c=E0(r),h=[];e:{var v=g2.get(t);if(v!==void 0){var y=z0,k=t;switch(t){case"keypress":if(Nc(r)===0)break e;case"keydown":case"keyup":y=T7;break;case"focusin":k="focus",y=W0;break;case"focusout":k="blur",y=W0;break;case"beforeblur":case"afterblur":y=W0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=w2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=b7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=F7;break;case d2:case p2:case v2:y=x7;break;case m2:y=$7;break;case"scroll":y=g7;break;case"wheel":y=R7;break;case"copy":case"cut":case"paste":y=E7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=D2}var _=(e&4)!=0,S=!_&&t==="scroll",w=_?v!==null?v+"Capture":null:v;_=[];for(var C=l,L;C!==null;){L=C;var P=L.stateNode;if(L.tag===5&&P!==null&&(L=P,w!==null&&(P=xs(C,w),P!=null&&_.push(Bs(C,P,L)))),S)break;C=C.return}0<_.length&&(v=new y(v,k,null,r,c),h.push({event:v,listeners:_}))}}if((e&7)==0){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&(e&16)==0&&(k=r.relatedTarget||r.fromElement)&&(Ho(k)||k[iu]))break e;if((y||v)&&(v=c.window===c?c:(v=c.ownerDocument)?v.defaultView||v.parentWindow:window,y?(k=r.relatedTarget||r.toElement,y=l,k=k?Ho(k):null,k!==null&&(S=qo(k),k!==S||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=l),y!==k)){if(_=w2,P="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(_=D2,P="onPointerLeave",w="onPointerEnter",C="pointer"),S=y==null?v:ou(y),L=k==null?v:ou(k),v=new _(P,C+"leave",y,r,c),v.target=S,v.relatedTarget=L,P=null,Ho(c)===l&&(_=new _(w,C+"enter",k,r,c),_.target=L,_.relatedTarget=S,P=_),S=P,y&&k)t:{for(_=y,w=k,C=0,L=_;L;L=ru(L))C++;for(L=0,P=w;P;P=ru(P))L++;for(;0<C-L;)_=ru(_),C--;for(;0<L-C;)w=ru(w),L--;for(;C--;){if(_===w||w!==null&&_===w.alternate)break t;_=ru(_),w=ru(w)}_=null}else _=null;y!==null&&J2(h,v,y,_,!1),k!==null&&S!==null&&J2(h,S,k,_,!0)}}e:{if(v=l?ou(l):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var B=W7;else if(M2(v))if(T2)B=J7;else{B=V7;var U=G7}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(B=K7);if(B&&(B=B(t,l))){I2(h,B,r,c);break e}U&&U(t,v,l),t==="focusout"&&(U=v._wrapperState)&&U.controlled&&v.type==="number"&&g0(v,"number",v.value)}switch(U=l?ou(l):window,t){case"focusin":(M2(U)||U.contentEditable==="true")&&(tu=U,X0=l,Ls=null);break;case"focusout":Ls=X0=tu=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,B2(h,r,c);break;case"selectionchange":if(Q7)break;case"keydown":case"keyup":B2(h,r,c)}var f;if(V0)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else eu?k2(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(E2&&r.locale!=="ko"&&(eu||D!=="onCompositionStart"?D==="onCompositionEnd"&&eu&&(f=b2()):(no=c,j0="value"in no?no.value:no.textContent,eu=!0)),U=Lc(l,D),0<U.length&&(D=new x2(D,t,null,r,c),h.push({event:D,listeners:U}),f?D.data=f:(f=C2(r),f!==null&&(D.data=f)))),(f=U7?j7(t,r):z7(t,r))&&(l=Lc(l,"onBeforeInput"),0<l.length&&(c=new x2("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:l}),c.data=f))}q2(h,e)})}function Bs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Lc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xs(t,r),o!=null&&n.unshift(Bs(t,o,i)),o=xs(t,e),o!=null&&n.push(Bs(t,o,i))),t=t.return}return n}function ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J2(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var u=r,s=u.alternate,l=u.stateNode;if(s!==null&&s===n)break;u.tag===5&&l!==null&&(u=l,i?(s=xs(r,o),s!=null&&a.unshift(Bs(r,s,u))):i||(s=xs(r,o),s!=null&&a.push(Bs(r,s,u)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}function Rc(){}var ep=null,tp=null;function Y2(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function rp(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X2=typeof setTimeout=="function"?setTimeout:void 0,Z7=typeof clearTimeout=="function"?clearTimeout:void 0;function np(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Q2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ip=0;function ek(t){return{$$typeof:c0,toString:t,valueOf:t}}var Bc=Math.random().toString(36).slice(2),io="__reactFiber$"+Bc,Uc="__reactProps$"+Bc,iu="__reactContainer$"+Bc,Z2="__reactEvents$"+Bc;function Ho(t){var e=t[io];if(e)return e;for(var r=t.parentNode;r;){if(e=r[iu]||r[io]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Q2(t);t!==null;){if(r=t[io])return r;t=Q2(t)}return e}t=r,r=t.parentNode}return null}function Us(t){return t=t[io]||t[iu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ou(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function jc(t){return t[Uc]||null}function eb(t){var e=t[Z2];return e===void 0&&(e=t[Z2]=new Set),e}var op=[],au=-1;function oo(t){return{current:t}}function Mt(t){0>au||(t.current=op[au],op[au]=null,au--)}function Ot(t,e){au++,op[au]=t.current,t.current=e}var ao={},_r=oo(ao),qr=oo(!1),Wo=ao;function uu(t,e){var r=t.type.contextTypes;if(!r)return ao;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function zc(){Mt(qr),Mt(_r)}function tb(t,e,r){if(_r.current!==ao)throw Error(ve(168));Ot(_r,e),Ot(qr,r)}function rb(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ve(108,Ga(e)||"Unknown",i));return It({},r,n)}function qc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ao,Wo=_r.current,Ot(_r,t),Ot(qr,qr.current),!0}function nb(t,e,r){var n=t.stateNode;if(!n)throw Error(ve(169));r?(t=rb(t,e,Wo),n.__reactInternalMemoizedMergedChildContext=t,Mt(qr),Mt(_r),Ot(_r,t)):Mt(qr),Ot(qr,r)}var ap=null,Go=null,tk=Xt.unstable_runWithPriority,up=Xt.unstable_scheduleCallback,sp=Xt.unstable_cancelCallback,rk=Xt.unstable_shouldYield,ib=Xt.unstable_requestPaint,lp=Xt.unstable_now,nk=Xt.unstable_getCurrentPriorityLevel,Hc=Xt.unstable_ImmediatePriority,ob=Xt.unstable_UserBlockingPriority,ab=Xt.unstable_NormalPriority,ub=Xt.unstable_LowPriority,sb=Xt.unstable_IdlePriority,cp={},ik=ib!==void 0?ib:function(){},Mi=null,Wc=null,fp=!1,lb=lp(),wr=1e4>lb?lp:function(){return lp()-lb};function su(){switch(nk()){case Hc:return 99;case ob:return 98;case ab:return 97;case ub:return 96;case sb:return 95;default:throw Error(ve(332))}}function cb(t){switch(t){case 99:return Hc;case 98:return ob;case 97:return ab;case 96:return ub;case 95:return sb;default:throw Error(ve(332))}}function Vo(t,e){return t=cb(t),tk(t,e)}function js(t,e,r){return t=cb(t),up(t,e,r)}function ei(){if(Wc!==null){var t=Wc;Wc=null,sp(t)}fb()}function fb(){if(!fp&&Mi!==null){fp=!0;var t=0;try{var e=Mi;Vo(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Mi=null}catch(r){throw Mi!==null&&(Mi=Mi.slice(t+1)),up(Hc,ei),r}finally{fp=!1}}}var ok=Uo.ReactCurrentBatchConfig;function Rn(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Gc=oo(null),Vc=null,lu=null,Kc=null;function hp(){Kc=lu=Vc=null}function dp(t){var e=Gc.current;Mt(Gc),t.type._context._currentValue=e}function hb(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function cu(t,e){Vc=t,Kc=lu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!=0&&(Bn=!0),t.firstContext=null)}function bn(t,e){if(Kc!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Kc=t,e=1073741823),e={context:t,observedBits:e,next:null},lu===null){if(Vc===null)throw Error(ve(308));lu=e,Vc.dependencies={lanes:0,firstContext:e,responders:null}}else lu=lu.next=e;return t._currentValue}var uo=!1;function pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function db(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function pb(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zs(t,e,r,n){var i=t.updateQueue;uo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var s=u,l=s.next;s.next=null,a===null?o=l:a.next=l,a=s;var c=t.alternate;if(c!==null){c=c.updateQueue;var h=c.lastBaseUpdate;h!==a&&(h===null?c.firstBaseUpdate=l:h.next=l,c.lastBaseUpdate=s)}}if(o!==null){h=i.baseState,a=0,c=l=s=null;do{u=o.lane;var v=o.eventTime;if((n&u)===u){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,k=o;switch(u=e,v=r,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(v,h,u);break e}h=y;break e;case 3:y.flags=y.flags&-4097|64;case 0:if(y=k.payload,u=typeof y=="function"?y.call(v,h,u):y,u==null)break e;h=It({},h,u);break e;case 2:uo=!0}}o.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[o]:u.push(o))}else v={eventTime:v,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=v,s=h):c=c.next=v,a|=u;if(o=o.next,o===null){if(u=i.shared.pending,u===null)break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);c===null&&(s=h),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,el|=a,t.lanes=a,t.memoizedState=h}}function vb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ve(191,i));i.call(n)}}}var mb=new mc.Component().refs;function Jc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:It({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yc={isMounted:function(t){return(t=t._reactInternals)?qo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nn(),i=ho(t),o=so(n,i);o.payload=e,r!=null&&(o.callback=r),lo(t,o),po(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nn(),i=ho(t),o=so(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),lo(t,o),po(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nn(),n=ho(t),i=so(r,n);i.tag=2,e!=null&&(i.callback=e),lo(t,i),po(t,n,r)}};function gb(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!$s(r,n)||!$s(i,o):!0}function yb(t,e,r){var n=!1,i=ao,o=e.contextType;return typeof o=="object"&&o!==null?o=bn(o):(i=Hr(e)?Wo:_r.current,n=e.contextTypes,o=(n=n!=null)?uu(t,i):ao),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function vp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=mb,pp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bn(o):(o=Hr(e)?Wo:_r.current,i.context=uu(t,o)),zs(t,r,i,n),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jc(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yc.enqueueReplaceState(i,i.state,null),zs(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Xc=Array.isArray;function qs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=n.refs;a===mb&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,t))}return t}function Qc(t,e){if(t.type!=="textarea")throw Error(ve(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function _b(t){function e(S,w){if(t){var C=S.lastEffect;C!==null?(C.nextEffect=w,S.lastEffect=w):S.firstEffect=S.lastEffect=w,w.nextEffect=null,w.flags=8}}function r(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function n(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=go(S,w),S.index=0,S.sibling=null,S}function o(S,w,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<w?(S.flags=2,w):C):(S.flags=2,w)):w}function a(S){return t&&S.alternate===null&&(S.flags=2),S}function u(S,w,C,L){return w===null||w.tag!==6?(w=Xp(C,S.mode,L),w.return=S,w):(w=i(w,C),w.return=S,w)}function s(S,w,C,L){return w!==null&&w.elementType===C.type?(L=i(w,C.props),L.ref=qs(S,w,C),L.return=S,L):(L=gf(C.type,C.key,C.props,null,S.mode,L),L.ref=qs(S,w,C),L.return=S,L)}function l(S,w,C,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Qp(C,S.mode,L),w.return=S,w):(w=i(w,C.children||[]),w.return=S,w)}function c(S,w,C,L,P){return w===null||w.tag!==7?(w=yu(C,S.mode,L,P),w.return=S,w):(w=i(w,C),w.return=S,w)}function h(S,w,C){if(typeof w=="string"||typeof w=="number")return w=Xp(""+w,S.mode,C),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vs:return C=gf(w.type,w.key,w.props,null,S.mode,C),C.ref=qs(S,null,w),C.return=S,C;case jo:return w=Qp(w,S.mode,C),w.return=S,w}if(Xc(w)||ys(w))return w=yu(w,S.mode,C,null),w.return=S,w;Qc(S,w)}return null}function v(S,w,C,L){var P=w!==null?w.key:null;if(typeof C=="string"||typeof C=="number")return P!==null?null:u(S,w,""+C,L);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vs:return C.key===P?C.type===Xi?c(S,w,C.props.children,L,P):s(S,w,C,L):null;case jo:return C.key===P?l(S,w,C,L):null}if(Xc(C)||ys(C))return P!==null?null:c(S,w,C,L,null);Qc(S,C)}return null}function y(S,w,C,L,P){if(typeof L=="string"||typeof L=="number")return S=S.get(C)||null,u(w,S,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case vs:return S=S.get(L.key===null?C:L.key)||null,L.type===Xi?c(w,S,L.props.children,P,L.key):s(w,S,L,P);case jo:return S=S.get(L.key===null?C:L.key)||null,l(w,S,L,P)}if(Xc(L)||ys(L))return S=S.get(C)||null,c(w,S,L,P,null);Qc(w,L)}return null}function k(S,w,C,L){for(var P=null,B=null,U=w,f=w=0,D=null;U!==null&&f<C.length;f++){U.index>f?(D=U,U=null):D=U.sibling;var $=v(S,U,C[f],L);if($===null){U===null&&(U=D);break}t&&U&&$.alternate===null&&e(S,U),w=o($,w,f),B===null?P=$:B.sibling=$,B=$,U=D}if(f===C.length)return r(S,U),P;if(U===null){for(;f<C.length;f++)U=h(S,C[f],L),U!==null&&(w=o(U,w,f),B===null?P=U:B.sibling=U,B=U);return P}for(U=n(S,U);f<C.length;f++)D=y(U,S,f,C[f],L),D!==null&&(t&&D.alternate!==null&&U.delete(D.key===null?f:D.key),w=o(D,w,f),B===null?P=D:B.sibling=D,B=D);return t&&U.forEach(function(G){return e(S,G)}),P}function _(S,w,C,L){var P=ys(C);if(typeof P!="function")throw Error(ve(150));if(C=P.call(C),C==null)throw Error(ve(151));for(var B=P=null,U=w,f=w=0,D=null,$=C.next();U!==null&&!$.done;f++,$=C.next()){U.index>f?(D=U,U=null):D=U.sibling;var G=v(S,U,$.value,L);if(G===null){U===null&&(U=D);break}t&&U&&G.alternate===null&&e(S,U),w=o(G,w,f),B===null?P=G:B.sibling=G,B=G,U=D}if($.done)return r(S,U),P;if(U===null){for(;!$.done;f++,$=C.next())$=h(S,$.value,L),$!==null&&(w=o($,w,f),B===null?P=$:B.sibling=$,B=$);return P}for(U=n(S,U);!$.done;f++,$=C.next())$=y(U,S,f,$.value,L),$!==null&&(t&&$.alternate!==null&&U.delete($.key===null?f:$.key),w=o($,w,f),B===null?P=$:B.sibling=$,B=$);return t&&U.forEach(function(O){return e(S,O)}),P}return function(S,w,C,L){var P=typeof C=="object"&&C!==null&&C.type===Xi&&C.key===null;P&&(C=C.props.children);var B=typeof C=="object"&&C!==null;if(B)switch(C.$$typeof){case vs:e:{for(B=C.key,P=w;P!==null;){if(P.key===B){switch(P.tag){case 7:if(C.type===Xi){r(S,P.sibling),w=i(P,C.props.children),w.return=S,S=w;break e}break;default:if(P.elementType===C.type){r(S,P.sibling),w=i(P,C.props),w.ref=qs(S,P,C),w.return=S,S=w;break e}}r(S,P);break}else e(S,P);P=P.sibling}C.type===Xi?(w=yu(C.props.children,S.mode,L,C.key),w.return=S,S=w):(L=gf(C.type,C.key,C.props,null,S.mode,L),L.ref=qs(S,w,C),L.return=S,S=L)}return a(S);case jo:e:{for(P=C.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){r(S,w.sibling),w=i(w,C.children||[]),w.return=S,S=w;break e}else{r(S,w);break}else e(S,w);w=w.sibling}w=Qp(C,S.mode,L),w.return=S,S=w}return a(S)}if(typeof C=="string"||typeof C=="number")return C=""+C,w!==null&&w.tag===6?(r(S,w.sibling),w=i(w,C),w.return=S,S=w):(r(S,w),w=Xp(C,S.mode,L),w.return=S,S=w),a(S);if(Xc(C))return k(S,w,C,L);if(ys(C))return _(S,w,C,L);if(B&&Qc(S,C),typeof C=="undefined"&&!P)switch(S.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ve(152,Ga(S.type)||"Component"))}return r(S,w)}}var Zc=_b(!0),wb=_b(!1),Hs={},ti=oo(Hs),Ws=oo(Hs),Gs=oo(Hs);function Ko(t){if(t===Hs)throw Error(ve(174));return t}function mp(t,e){switch(Ot(Gs,e),Ot(Ws,t),Ot(ti,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w0(e,t)}Mt(ti),Ot(ti,e)}function fu(){Mt(ti),Mt(Ws),Mt(Gs)}function xb(t){Ko(Gs.current);var e=Ko(ti.current),r=w0(e,t.type);e!==r&&(Ot(Ws,t),Ot(ti,r))}function gp(t){Ws.current===t&&(Mt(ti),Mt(Ws))}var $t=oo(0);function ef(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ii=null,co=null,ri=!1;function Db(t,e){var r=xn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Eb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function yp(t){if(ri){var e=co;if(e){var r=e;if(!Eb(t,e)){if(e=nu(r.nextSibling),!e||!Eb(t,e)){t.flags=t.flags&-1025|2,ri=!1,Ii=t;return}Db(Ii,r)}Ii=t,co=nu(e.firstChild)}else t.flags=t.flags&-1025|2,ri=!1,Ii=t}}function Sb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ii=t}function tf(t){if(t!==Ii)return!1;if(!ri)return Sb(t),ri=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!rp(e,t.memoizedProps))for(e=co;e;)Db(t,e),e=nu(e.nextSibling);if(Sb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){co=nu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}co=null}}else co=Ii?nu(t.stateNode.nextSibling):null;return!0}function bp(){co=Ii=null,ri=!1}var hu=[];function _p(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var Vs=Uo.ReactCurrentDispatcher,_n=Uo.ReactCurrentBatchConfig,Ks=0,Ut=null,xr=null,lr=null,rf=!1,Js=!1;function Wr(){throw Error(ve(321))}function wp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function xp(t,e,r,n,i,o){if(Ks=o,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vs.current=t===null||t.memoizedState===null?uk:sk,t=r(n,i),Js){o=0;do{if(Js=!1,!(25>o))throw Error(ve(301));o+=1,lr=xr=null,e.updateQueue=null,Vs.current=lk,t=r(n,i)}while(Js)}if(Vs.current=uf,e=xr!==null&&xr.next!==null,Ks=0,lr=xr=Ut=null,rf=!1,e)throw Error(ve(300));return t}function Jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Ut.memoizedState=lr=t:lr=lr.next=t,lr}function Yo(){if(xr===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=xr.next;var e=lr===null?Ut.memoizedState:lr.next;if(e!==null)lr=e,xr=t;else{if(t===null)throw Error(ve(310));xr=t,t={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},lr===null?Ut.memoizedState=lr=t:lr=lr.next=t}return lr}function ni(t,e){return typeof e=="function"?e(t):e}function Ys(t){var e=Yo(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=xr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var u=a=o=null,s=i;do{var l=s.lane;if((Ks&l)===l)u!==null&&(u=u.next={lane:0,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),n=s.eagerReducer===t?s.eagerState:t(n,s.action);else{var c={lane:l,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};u===null?(a=u=c,o=n):u=u.next=c,Ut.lanes|=l,el|=l}s=s.next}while(s!==null&&s!==i);u===null?o=n:u.next=a,yn(n,e.memoizedState)||(Bn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Xs(t){var e=Yo(),r=e.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);yn(o,e.memoizedState)||(Bn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Ab(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(Ks&t)===t)&&(e._workInProgressVersionPrimary=n,hu.push(e))),t)return r(e._source);throw hu.push(e),Error(ve(350))}function kb(t,e,r,n){var i=Or;if(i===null)throw Error(ve(349));var o=e._getVersion,a=o(e._source),u=Vs.current,s=u.useState(function(){return Ab(i,e,r)}),l=s[1],c=s[0];s=lr;var h=t.memoizedState,v=h.refs,y=v.getSnapshot,k=h.source;h=h.subscribe;var _=Ut;return t.memoizedState={refs:v,source:e,subscribe:n},u.useEffect(function(){v.getSnapshot=r,v.setSnapshot=l;var S=o(e._source);if(!yn(a,S)){S=r(e._source),yn(c,S)||(l(S),S=ho(_),i.mutableReadLanes|=S&i.pendingLanes),S=i.mutableReadLanes,i.entangledLanes|=S;for(var w=i.entanglements,C=S;0<C;){var L=31-ro(C),P=1<<L;w[L]|=S,C&=~P}}},[r,e,n]),u.useEffect(function(){return n(e._source,function(){var S=v.getSnapshot,w=v.setSnapshot;try{w(S(e._source));var C=ho(_);i.mutableReadLanes|=C&i.pendingLanes}catch(L){w(function(){throw L})}})},[e,n]),yn(y,r)&&yn(k,e)&&yn(h,n)||(t={pending:null,dispatch:null,lastRenderedReducer:ni,lastRenderedState:c},t.dispatch=l=Ap.bind(null,Ut,t),s.queue=t,s.baseQueue=null,c=Ab(i,e,r),s.memoizedState=s.baseState=c),c}function Cb(t,e,r){var n=Yo();return kb(n,t,e,r)}function Qs(t){var e=Jo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},t=t.dispatch=Ap.bind(null,Ut,t),[e.memoizedState,t]}function nf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Mb(t){var e=Jo();return t={current:t},e.memoizedState=t}function of(){return Yo().memoizedState}function Dp(t,e,r,n){var i=Jo();Ut.flags|=t,i.memoizedState=nf(1|e,r,void 0,n===void 0?null:n)}function Ep(t,e,r,n){var i=Yo();n=n===void 0?null:n;var o=void 0;if(xr!==null){var a=xr.memoizedState;if(o=a.destroy,n!==null&&wp(n,a.deps)){nf(e,r,o,n);return}}Ut.flags|=t,i.memoizedState=nf(1|e,r,o,n)}function Ib(t,e){return Dp(516,4,t,e)}function af(t,e){return Ep(516,4,t,e)}function Tb(t,e){return Ep(4,2,t,e)}function Pb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nb(t,e,r){return r=r!=null?r.concat([t]):null,Ep(4,2,Pb.bind(null,e,t),r)}function Sp(){}function Fb(t,e){var r=Yo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ob(t,e){var r=Yo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ak(t,e){var r=su();Vo(98>r?98:r,function(){t(!0)}),Vo(97<r?97:r,function(){var n=_n.transition;_n.transition=1;try{t(!1),e()}finally{_n.transition=n}})}function Ap(t,e,r){var n=nn(),i=ho(t),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===Ut||a!==null&&a===Ut)Js=rf=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,s=a(u,r);if(o.eagerReducer=a,o.eagerState=s,yn(s,u))return}catch{}finally{}po(t,i,n)}}var uf={readContext:bn,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useOpaqueIdentifier:Wr,unstable_isNewReconciler:!1},uk={readContext:bn,useCallback:function(t,e){return Jo().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:Ib,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Dp(4,2,Pb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Dp(4,2,t,e)},useMemo:function(t,e){var r=Jo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Jo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Ap.bind(null,Ut,t),[n.memoizedState,t]},useRef:Mb,useState:Qs,useDebugValue:Sp,useDeferredValue:function(t){var e=Qs(t),r=e[0],n=e[1];return Ib(function(){var i=_n.transition;_n.transition=1;try{n(t)}finally{_n.transition=i}},[t]),r},useTransition:function(){var t=Qs(!1),e=t[0];return t=ak.bind(null,t[1]),Mb(t),[t,e]},useMutableSource:function(t,e,r){var n=Jo();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},kb(n,t,e,r)},useOpaqueIdentifier:function(){if(ri){var t=!1,e=ek(function(){throw t||(t=!0,r("r:"+(ip++).toString(36))),Error(ve(355))}),r=Qs(e)[1];return(Ut.mode&2)==0&&(Ut.flags|=516,nf(5,function(){r("r:"+(ip++).toString(36))},void 0,null)),e}return e="r:"+(ip++).toString(36),Qs(e),e},unstable_isNewReconciler:!1},sk={readContext:bn,useCallback:Fb,useContext:bn,useEffect:af,useImperativeHandle:Nb,useLayoutEffect:Tb,useMemo:Ob,useReducer:Ys,useRef:of,useState:function(){return Ys(ni)},useDebugValue:Sp,useDeferredValue:function(t){var e=Ys(ni),r=e[0],n=e[1];return af(function(){var i=_n.transition;_n.transition=1;try{n(t)}finally{_n.transition=i}},[t]),r},useTransition:function(){var t=Ys(ni)[0];return[of().current,t]},useMutableSource:Cb,useOpaqueIdentifier:function(){return Ys(ni)[0]},unstable_isNewReconciler:!1},lk={readContext:bn,useCallback:Fb,useContext:bn,useEffect:af,useImperativeHandle:Nb,useLayoutEffect:Tb,useMemo:Ob,useReducer:Xs,useRef:of,useState:function(){return Xs(ni)},useDebugValue:Sp,useDeferredValue:function(t){var e=Xs(ni),r=e[0],n=e[1];return af(function(){var i=_n.transition;_n.transition=1;try{n(t)}finally{_n.transition=i}},[t]),r},useTransition:function(){var t=Xs(ni)[0];return[of().current,t]},useMutableSource:Cb,useOpaqueIdentifier:function(){return Xs(ni)[0]},unstable_isNewReconciler:!1},ck=Uo.ReactCurrentOwner,Bn=!1;function Gr(t,e,r,n){e.child=t===null?wb(e,null,r,n):Zc(e,t.child,r,n)}function $b(t,e,r,n,i){r=r.render;var o=e.ref;return cu(e,i),n=xp(t,e,r,n,o,i),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ti(t,e,i)):(e.flags|=1,Gr(t,e,n,i),e.child)}function Lb(t,e,r,n,i,o){if(t===null){var a=r.type;return typeof a=="function"&&!Jp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,Rb(t,e,a,n,i,o)):(t=gf(r.type,null,n,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(i&o)==0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:$s,r(i,n)&&t.ref===e.ref)?Ti(t,e,o):(e.flags|=1,t=go(a,n),t.ref=e.ref,t.return=e,e.child=t)}function Rb(t,e,r,n,i,o){if(t!==null&&$s(t.memoizedProps,n)&&t.ref===e.ref)if(Bn=!1,(o&i)!=0)(t.flags&16384)!=0&&(Bn=!0);else return e.lanes=t.lanes,Ti(t,e,o);return Cp(t,e,r,n,o)}function kp(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},mf(e,r);else if((r&1073741824)!=0)e.memoizedState={baseLanes:0},mf(e,o!==null?o.baseLanes:r);else return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},mf(e,t),null;else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,mf(e,n);return Gr(t,e,i,r),e.child}function Bb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Cp(t,e,r,n,i){var o=Hr(r)?Wo:_r.current;return o=uu(e,o),cu(e,i),r=xp(t,e,r,n,o,i),t!==null&&!Bn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Ti(t,e,i)):(e.flags|=1,Gr(t,e,r,i),e.child)}function Ub(t,e,r,n,i){if(Hr(r)){var o=!0;qc(e)}else o=!1;if(cu(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),yb(e,r,n),vp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var s=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=bn(l):(l=Hr(r)?Wo:_r.current,l=uu(e,l));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||s!==l)&&bb(e,a,n,l),uo=!1;var v=e.memoizedState;a.state=v,zs(e,n,a,i),s=e.memoizedState,u!==n||v!==s||qr.current||uo?(typeof c=="function"&&(Jc(e,r,c,n),s=e.memoizedState),(u=uo||gb(e,r,u,n,v,s,l))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=s),a.props=n,a.state=s,a.context=l,n=u):(typeof a.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{a=e.stateNode,db(t,e),u=e.memoizedProps,l=e.type===e.elementType?u:Rn(e.type,u),a.props=l,h=e.pendingProps,v=a.context,s=r.contextType,typeof s=="object"&&s!==null?s=bn(s):(s=Hr(r)?Wo:_r.current,s=uu(e,s));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==h||v!==s)&&bb(e,a,n,s),uo=!1,v=e.memoizedState,a.state=v,zs(e,n,a,i);var k=e.memoizedState;u!==h||v!==k||qr.current||uo?(typeof y=="function"&&(Jc(e,r,y,n),k=e.memoizedState),(l=uo||gb(e,r,l,n,v,k,s))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,k,s),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,k,s)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=k),a.props=n,a.state=k,a.context=s,n=l):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),n=!1)}return Mp(t,e,r,n,o,i)}function Mp(t,e,r,n,i,o){Bb(t,e);var a=(e.flags&64)!=0;if(!n&&!a)return i&&nb(e,r,!1),Ti(t,e,o);n=e.stateNode,ck.current=e;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zc(e,t.child,null,o),e.child=Zc(e,null,u,o)):Gr(t,e,u,o),e.memoizedState=n.state,i&&nb(e,r,!0),e.child}function jb(t){var e=t.stateNode;e.pendingContext?tb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tb(t,e.context,!1),mp(t,e.containerInfo)}var sf={dehydrated:null,retryLane:0};function zb(t,e,r){var n=e.pendingProps,i=$t.current,o=!1,a;return(a=(e.flags&64)!=0)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!=0),a?(o=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Ot($t,i&1),t===null?(n.fallback!==void 0&&yp(e),t=n.children,i=n.fallback,o?(t=qb(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=sf,t):typeof n.unstable_expectedLoadTime=="number"?(t=qb(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=sf,e.lanes=33554432,t):(r=Yp({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?o?(n=Wb(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=sf,n):(r=Hb(t,e,n.children,r),e.memoizedState=null,r):o?(n=Wb(t,e,n.children,n.fallback,r),o=e.child,i=t.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=t.childLanes&~r,e.memoizedState=sf,n):(r=Hb(t,e,n.children,r),e.memoizedState=null,r)}function qb(t,e,r,n){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},(i&2)==0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=Yp(e,i,0,null),r=yu(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,r}function Hb(t,e,r,n){var i=t.child;return t=i.sibling,r=go(i,{mode:"visible",children:r}),(e.mode&2)==0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function Wb(t,e,r,n,i){var o=e.mode,a=t.child;t=a.sibling;var u={mode:"hidden",children:r};return(o&2)==0&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=u,a=r.lastEffect,a!==null?(e.firstEffect=r.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):r=go(a,u),t!==null?n=go(t,n):(n=yu(n,o,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function Gb(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hb(t.return,e)}function Ip(t,e,r,n,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function Vb(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Gr(t,e,n.children,r),n=$t.current,(n&2)!=0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!=0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gb(t,r);else if(t.tag===19)Gb(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ot($t,n),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&ef(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ip(e,!1,i,r,o,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ef(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ip(e,!0,r,null,o,e.lastEffect);break;case"together":Ip(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ti(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),el|=e.lanes,(r&e.childLanes)!=0){if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,r=go(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=go(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var Kb,Tp,Jb,Yb;Kb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tp=function(){};Jb=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ko(ti.current);var o=null;switch(r){case"input":i=v0(t,i),n=v0(t,n),o=[];break;case"option":i=y0(t,i),n=y0(t,n),o=[];break;case"select":i=It({},i,{value:void 0}),n=It({},n,{value:void 0}),o=[];break;case"textarea":i=b0(t,i),n=b0(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rc)}x0(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ps.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var s=n[l];if(u=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&s!==u&&(s!=null||u!=null))if(l==="style")if(u){for(a in u)!u.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in s)s.hasOwnProperty(a)&&u[a]!==s[a]&&(r||(r={}),r[a]=s[a])}else r||(o||(o=[]),o.push(l,r)),r=s;else l==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,u=u?u.__html:void 0,s!=null&&u!==s&&(o=o||[]).push(l,s)):l==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(l,""+s):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(ps.hasOwnProperty(l)?(s!=null&&l==="onScroll"&&Ct("scroll",t),o||u===s||(o=[])):typeof s=="object"&&s!==null&&s.$$typeof===c0?s.toString():(o=o||[]).push(l,s))}r&&(o=o||[]).push("style",r);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};Yb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Zs(t,e){if(!ri)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fk(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Hr(e.type)&&zc(),null;case 3:return fu(),Mt(qr),Mt(_r),_p(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(tf(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Tp(e),null;case 5:gp(e);var i=Ko(Gs.current);if(r=e.type,t!==null&&e.stateNode!=null)Jb(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(ve(166));return null}if(t=Ko(ti.current),tf(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[io]=e,n[Uc]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(t=0;t<Rs.length;t++)Ct(Rs[t],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Uy(n,o),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",n);break;case"textarea":qy(n,o),Ct("invalid",n)}x0(r,o),t=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):ps.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&Ct("scroll",n));switch(r){case"input":wc(n),zy(n,o,!0);break;case"textarea":wc(n),Wy(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Rc)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,t===_0.html&&(t=Gy(r)),t===_0.html?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[io]=e,t[Uc]=n,Kb(t,e,!1,!1),e.stateNode=t,a=D0(r,n),r){case"dialog":Ct("cancel",t),Ct("close",t),i=n;break;case"iframe":case"object":case"embed":Ct("load",t),i=n;break;case"video":case"audio":for(i=0;i<Rs.length;i++)Ct(Rs[i],t);i=n;break;case"source":Ct("error",t),i=n;break;case"img":case"image":case"link":Ct("error",t),Ct("load",t),i=n;break;case"details":Ct("toggle",t),i=n;break;case"input":Uy(t,n),i=v0(t,n),Ct("invalid",t);break;case"option":i=y0(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=It({},n,{value:void 0}),Ct("invalid",t);break;case"textarea":qy(t,n),i=b0(t,n),Ct("invalid",t);break;default:i=n}x0(r,i);var u=i;for(o in u)if(u.hasOwnProperty(o)){var s=u[o];o==="style"?Jy(t,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Vy(t,s)):o==="children"?typeof s=="string"?(r!=="textarea"||s!=="")&&_s(t,s):typeof s=="number"&&_s(t,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ps.hasOwnProperty(o)?s!=null&&o==="onScroll"&&Ct("scroll",t):s!=null&&i0(t,o,s,a))}switch(r){case"input":wc(t),zy(t,n,!1);break;case"textarea":wc(t),Wy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qi(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Va(t,!!n.multiple,o,!1):n.defaultValue!=null&&Va(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rc)}Y2(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Yb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ve(166));r=Ko(Gs.current),Ko(ti.current),tf(e)?(n=e.stateNode,r=e.memoizedProps,n[io]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[io]=e,e.stateNode=n)}return null;case 13:return Mt($t),n=e.memoizedState,(e.flags&64)!=0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&tf(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!=0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||($t.current&1)!=0?cr===0&&(cr=3):((cr===0||cr===3)&&(cr=4),Or===null||(el&134217727)==0&&(pu&134217727)==0||mu(Or,Dr))),(n||r)&&(e.flags|=4),null);case 4:return fu(),Tp(e),t===null&&W2(e.stateNode.containerInfo),null;case 10:return dp(e),null;case 17:return Hr(e.type)&&zc(),null;case 19:if(Mt($t),n=e.memoizedState,n===null)return null;if(o=(e.flags&64)!=0,a=n.rendering,a===null)if(o)Zs(n,!1);else{if(cr!==0||t!==null&&(t.flags&64)!=0)for(t=e.child;t!==null;){if(a=ef(t),a!==null){for(e.flags|=64,Zs(n,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ot($t,$t.current&1|2),e.child}t=t.sibling}n.tail!==null&&wr()>zp&&(e.flags|=64,o=!0,Zs(n,!1),e.lanes=33554432)}else{if(!o)if(t=ef(a),t!==null){if(e.flags|=64,o=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Zs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!ri)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*wr()-n.renderingStartTime>zp&&r!==1073741824&&(e.flags|=64,o=!0,Zs(n,!1),e.lanes=33554432);n.isBackwards?(a.sibling=e.child,e.child=a):(r=n.last,r!==null?r.sibling=a:e.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=wr(),r.sibling=null,e=$t.current,Ot($t,o?e&1|2:e&1),r):null;case 23:case 24:return Kp(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(ve(156,e.tag))}function hk(t){switch(t.tag){case 1:Hr(t.type)&&zc();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(fu(),Mt(qr),Mt(_r),_p(),e=t.flags,(e&64)!=0)throw Error(ve(285));return t.flags=e&-4097|64,t;case 5:return gp(t),null;case 13:return Mt($t),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Mt($t),null;case 4:return fu(),null;case 10:return dp(t),null;case 23:case 24:return Kp(),null;default:return null}}function Pp(t,e){try{var r="",n=e;do r+=GA(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i}}function Np(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dk=typeof WeakMap=="function"?WeakMap:Map;function Xb(t,e,r){r=so(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ff||(ff=!0,qp=n),Np(t,e)},r}function Qb(t,e,r){r=so(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Np(t,e),n(i)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ii===null?ii=new Set([this]):ii.add(this),Np(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}var pk=typeof WeakSet=="function"?WeakSet:Set;function Zb(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){mo(t,r)}else e.current=null}function vk(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:Rn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&np(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ve(163))}function mk(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)==3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(p3(r,t),Ek(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:Rn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&vb(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}vb(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&Y2(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&f2(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ve(163))}function e3(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=Ky("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function t3(t,e){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(ap,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!=0)p3(e,r);else{n=e;try{i()}catch(o){mo(n,o)}}r=r.next}while(r!==t)}break;case 1:if(Zb(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){mo(e,o)}break;case 5:Zb(e);break;case 4:o3(t,e)}}function r3(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function n3(t){return t.tag===5||t.tag===3||t.tag===4}function i3(t){e:{for(var e=t.return;e!==null;){if(n3(e))break e;e=e.return}throw Error(ve(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(ve(161))}r.flags&16&&(_s(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||n3(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Fp(t,r,e):Op(t,r,e)}function Fp(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rc));else if(n!==4&&(t=t.child,t!==null))for(Fp(t,e,r),t=t.sibling;t!==null;)Fp(t,e,r),t=t.sibling}function Op(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Op(t,e,r),t=t.sibling;t!==null;)Op(t,e,r),t=t.sibling}function o3(t,e){for(var r=e,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ve(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=t,u=r,s=u;;)if(t3(a,s),s.child!==null&&s.tag!==4)s.child.return=s,s=s.child;else{if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=i,u=r.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(t3(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function $p(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)==3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(r[Uc]=n,t==="input"&&n.type==="radio"&&n.name!=null&&jy(r,n),D0(t,i),e=D0(t,n),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];a==="style"?Jy(r,u):a==="dangerouslySetInnerHTML"?Vy(r,u):a==="children"?_s(r,u):i0(r,a,u,e)}switch(t){case"input":m0(r,n);break;case"textarea":Hy(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Va(r,!!n.multiple,o,!1):t!==!!n.multiple&&(n.defaultValue!=null?Va(r,!!n.multiple,n.defaultValue,!0):Va(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(ve(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,f2(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(jp=wr(),e3(e.child,!0)),a3(e);return;case 19:a3(e);return;case 17:return;case 23:case 24:e3(e,e.memoizedState!==null);return}throw Error(ve(163))}function a3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new pk),e.forEach(function(n){var i=kk.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gk(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var yk=Math.ceil,lf=Uo.ReactCurrentDispatcher,Lp=Uo.ReactCurrentOwner,qe=0,Or=null,Wt=null,Dr=0,Xo=0,Rp=oo(0),cr=0,cf=null,du=0,el=0,pu=0,Bp=0,Up=null,jp=0,zp=1/0;function vu(){zp=wr()+500}var ke=null,ff=!1,qp=null,ii=null,fo=!1,tl=null,rl=90,Hp=[],Wp=[],Pi=null,nl=0,Gp=null,hf=-1,Ni=0,df=0,il=null,pf=!1;function nn(){return(qe&48)!=0?wr():hf!==-1?hf:hf=wr()}function ho(t){if(t=t.mode,(t&2)==0)return 1;if((t&4)==0)return su()===99?1:2;if(Ni===0&&(Ni=du),ok.transition!==0){df!==0&&(df=Up!==null?Up.pendingLanes:0),t=Ni;var e=4186112&~df;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=su(),(qe&4)!=0&&t===98?t=Mc(12,Ni):(t=s7(t),t=Mc(t,Ni)),t}function po(t,e,r){if(50<nl)throw nl=0,Gp=null,Error(ve(185));if(t=vf(t,e),t===null)return null;Ic(t,e,r),t===Or&&(pu|=e,cr===4&&mu(t,Dr));var n=su();e===1?(qe&8)!=0&&(qe&48)==0?Vp(t):(wn(t,r),qe===0&&(vu(),ei())):((qe&4)==0||n!==98&&n!==99||(Pi===null?Pi=new Set([t]):Pi.add(t)),wn(t,r)),Up=t}function vf(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function wn(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-ro(a),s=1<<u,l=o[u];if(l===-1){if((s&n)==0||(s&i)!=0){l=e,Xa(s);var c=At;o[u]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=e&&(t.expiredLanes|=s);a&=~s}if(n=Is(t,t===Or?Dr:0),e=At,n===0)r!==null&&(r!==cp&&sp(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==cp&&sp(r)}e===15?(r=Vp.bind(null,t),Mi===null?(Mi=[r],Wc=up(Hc,fb)):Mi.push(r),r=cp):e===14?r=js(99,Vp.bind(null,t)):(r=l7(e),r=js(r,u3.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function u3(t){if(hf=-1,df=Ni=0,(qe&48)!=0)throw Error(ve(327));var e=t.callbackNode;if(vo()&&t.callbackNode!==e)return null;var r=Is(t,t===Or?Dr:0);if(r===0)return null;var n=r,i=qe;qe|=16;var o=f3();(Or!==t||Dr!==n)&&(vu(),gu(t,n));do try{wk();break}catch(u){c3(t,u)}while(1);if(hp(),lf.current=o,qe=i,Wt!==null?n=0:(Or=null,Dr=0,n=cr),(du&pu)!=0)gu(t,0);else if(n!==0){if(n===2&&(qe|=64,t.hydrate&&(t.hydrate=!1,np(t.containerInfo)),r=y2(t),r!==0&&(n=ol(t,r))),n===1)throw e=cf,gu(t,0),mu(t,r),wn(t,wr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(ve(345));case 2:Qo(t);break;case 3:if(mu(t,r),(r&62914560)===r&&(n=jp+500-wr(),10<n)){if(Is(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=X2(Qo.bind(null,t),n);break}Qo(t);break;case 4:if(mu(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var a=31-ro(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=wr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yk(r/1960))-r,10<r){t.timeoutHandle=X2(Qo.bind(null,t),r);break}Qo(t);break;case 5:Qo(t);break;default:throw Error(ve(329))}}return wn(t,wr()),t.callbackNode===e?u3.bind(null,t):null}function mu(t,e){for(e&=~Bp,e&=~pu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ro(e),n=1<<r;t[r]=-1,e&=~n}}function Vp(t){if((qe&48)!=0)throw Error(ve(327));if(vo(),t===Or&&(t.expiredLanes&Dr)!=0){var e=Dr,r=ol(t,e);(du&pu)!=0&&(e=Is(t,e),r=ol(t,e))}else e=Is(t,0),r=ol(t,e);if(t.tag!==0&&r===2&&(qe|=64,t.hydrate&&(t.hydrate=!1,np(t.containerInfo)),e=y2(t),e!==0&&(r=ol(t,e))),r===1)throw r=cf,gu(t,0),mu(t,e),wn(t,wr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qo(t),wn(t,wr()),null}function bk(){if(Pi!==null){var t=Pi;Pi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,wn(e,wr())})}ei()}function s3(t,e){var r=qe;qe|=1;try{return t(e)}finally{qe=r,qe===0&&(vu(),ei())}}function l3(t,e){var r=qe;qe&=-2,qe|=8;try{return t(e)}finally{qe=r,qe===0&&(vu(),ei())}}function mf(t,e){Ot(Rp,Xo),Xo|=e,du|=e}function Kp(){Xo=Rp.current,Mt(Rp)}function gu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Z7(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&zc();break;case 3:fu(),Mt(qr),Mt(_r),_p();break;case 5:gp(n);break;case 4:fu();break;case 13:Mt($t);break;case 19:Mt($t);break;case 10:dp(n);break;case 23:case 24:Kp()}r=r.return}Or=t,Wt=go(t.current,null),Dr=Xo=du=e,cr=0,cf=null,Bp=pu=el=0}function c3(t,e){do{var r=Wt;try{if(hp(),Vs.current=uf,rf){for(var n=Ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rf=!1}if(Ks=0,lr=xr=Ut=null,Js=!1,Lp.current=null,r===null||r.return===null){cr=1,cf=e,Wt=null;break}e:{var o=t,a=r.return,u=r,s=e;if(e=Dr,u.flags|=2048,u.firstEffect=u.lastEffect=null,s!==null&&typeof s=="object"&&typeof s.then=="function"){var l=s;if((u.mode&2)==0){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=($t.current&1)!=0,v=a;do{var y;if(y=v.tag===13){var k=v.memoizedState;if(k!==null)y=k.dehydrated!==null;else{var _=v.memoizedProps;y=_.fallback===void 0?!1:_.unstable_avoidThisFallback!==!0?!0:!h}}if(y){var S=v.updateQueue;if(S===null){var w=new Set;w.add(l),v.updateQueue=w}else S.add(l);if((v.mode&2)==0){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var C=so(-1,1);C.tag=2,lo(u,C)}u.lanes|=1;break e}s=void 0,u=e;var L=o.pingCache;if(L===null?(L=o.pingCache=new dk,s=new Set,L.set(l,s)):(s=L.get(l),s===void 0&&(s=new Set,L.set(l,s))),!s.has(u)){s.add(u);var P=Ak.bind(null,o,l,u);l.then(P,P)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);s=Error((Ga(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}cr!==5&&(cr=2),s=Pp(s,u),v=a;do{switch(v.tag){case 3:o=s,v.flags|=4096,e&=-e,v.lanes|=e;var B=Xb(v,o,e);pb(v,B);break e;case 1:o=s;var U=v.type,f=v.stateNode;if((v.flags&64)==0&&(typeof U.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ii===null||!ii.has(f)))){v.flags|=4096,e&=-e,v.lanes|=e;var D=Qb(v,o,e);pb(v,D);break e}}v=v.return}while(v!==null)}d3(r)}catch($){e=$,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(1)}function f3(){var t=lf.current;return lf.current=uf,t===null?uf:t}function ol(t,e){var r=qe;qe|=16;var n=f3();Or===t&&Dr===e||gu(t,e);do try{_k();break}catch(i){c3(t,i)}while(1);if(hp(),qe=r,lf.current=n,Wt!==null)throw Error(ve(261));return Or=null,Dr=0,cr}function _k(){for(;Wt!==null;)h3(Wt)}function wk(){for(;Wt!==null&&!rk();)h3(Wt)}function h3(t){var e=m3(t.alternate,t,Xo);t.memoizedProps=t.pendingProps,e===null?d3(t):Wt=e,Lp.current=null}function d3(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)==0){if(r=fk(r,e,Xo),r!==null){Wt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Xo&1073741824)!=0||(r.mode&4)==0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)==0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=hk(e),r!==null){r.flags&=2047,Wt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);cr===0&&(cr=5)}function Qo(t){var e=su();return Vo(99,xk.bind(null,t,e)),null}function xk(t,e){do vo();while(tl!==null);if((qe&48)!=0)throw Error(ve(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ve(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,u=t.expirationTimes;0<o;){var s=31-ro(o),l=1<<s;i[s]=0,a[s]=-1,u[s]=-1,o&=~l}if(Pi!==null&&(n&24)==0&&Pi.has(t)&&Pi.delete(t),t===Or&&(Wt=Or=null,Dr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=qe,qe|=32,Lp.current=null,ep=Tc,a=R2(),Y0(a)){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&l.rangeCount!==0){u=l.anchorNode,o=l.anchorOffset,s=l.focusNode,l=l.focusOffset;try{u.nodeType,s.nodeType}catch{u=null;break e}var c=0,h=-1,v=-1,y=0,k=0,_=a,S=null;t:for(;;){for(var w;_!==u||o!==0&&_.nodeType!==3||(h=c+o),_!==s||l!==0&&_.nodeType!==3||(v=c+l),_.nodeType===3&&(c+=_.nodeValue.length),(w=_.firstChild)!==null;)S=_,_=w;for(;;){if(_===a)break t;if(S===u&&++y===o&&(h=c),S===s&&++k===l&&(v=c),(w=_.nextSibling)!==null)break;_=S,S=_.parentNode}_=w}u=h===-1||v===-1?null:{start:h,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;tp={focusedElem:a,selectionRange:u},Tc=!1,il=null,pf=!1,ke=n;do try{Dk()}catch($){if(ke===null)throw Error(ve(330));mo(ke,$),ke=ke.nextEffect}while(ke!==null);il=null,ke=n;do try{for(a=t;ke!==null;){var C=ke.flags;if(C&16&&_s(ke.stateNode,""),C&128){var L=ke.alternate;if(L!==null){var P=L.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(C&1038){case 2:i3(ke),ke.flags&=-3;break;case 6:i3(ke),ke.flags&=-3,$p(ke.alternate,ke);break;case 1024:ke.flags&=-1025;break;case 1028:ke.flags&=-1025,$p(ke.alternate,ke);break;case 4:$p(ke.alternate,ke);break;case 8:u=ke,o3(a,u);var B=u.alternate;r3(u),B!==null&&r3(B)}ke=ke.nextEffect}}catch($){if(ke===null)throw Error(ve(330));mo(ke,$),ke=ke.nextEffect}while(ke!==null);if(P=tp,L=R2(),C=P.focusedElem,a=P.selectionRange,L!==C&&C&&C.ownerDocument&&L2(C.ownerDocument.documentElement,C)){for(a!==null&&Y0(C)&&(L=a.start,P=a.end,P===void 0&&(P=L),"selectionStart"in C?(C.selectionStart=L,C.selectionEnd=Math.min(P,C.value.length)):(P=(L=C.ownerDocument||document)&&L.defaultView||window,P.getSelection&&(P=P.getSelection(),u=C.textContent.length,B=Math.min(a.start,u),a=a.end===void 0?B:Math.min(a.end,u),!P.extend&&B>a&&(u=a,a=B,B=u),u=$2(C,B),o=$2(C,a),u&&o&&(P.rangeCount!==1||P.anchorNode!==u.node||P.anchorOffset!==u.offset||P.focusNode!==o.node||P.focusOffset!==o.offset)&&(L=L.createRange(),L.setStart(u.node,u.offset),P.removeAllRanges(),B>a?(P.addRange(L),P.extend(o.node,o.offset)):(L.setEnd(o.node,o.offset),P.addRange(L)))))),L=[],P=C;P=P.parentNode;)P.nodeType===1&&L.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<L.length;C++)P=L[C],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}Tc=!!ep,tp=ep=null,t.current=r,ke=n;do try{for(C=t;ke!==null;){var U=ke.flags;if(U&36&&mk(C,ke.alternate,ke),U&128){L=void 0;var f=ke.ref;if(f!==null){var D=ke.stateNode;switch(ke.tag){case 5:L=D;break;default:L=D}typeof f=="function"?f(L):f.current=L}}ke=ke.nextEffect}}catch($){if(ke===null)throw Error(ve(330));mo(ke,$),ke=ke.nextEffect}while(ke!==null);ke=null,ik(),qe=i}else t.current=r;if(fo)fo=!1,tl=t,rl=e;else for(ke=n;ke!==null;)e=ke.nextEffect,ke.nextEffect=null,ke.flags&8&&(U=ke,U.sibling=null,U.stateNode=null),ke=e;if(n=t.pendingLanes,n===0&&(ii=null),n===1?t===Gp?nl++:(nl=0,Gp=t):nl=0,r=r.stateNode,Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(ap,r,void 0,(r.current.flags&64)==64)}catch{}if(wn(t,wr()),ff)throw ff=!1,t=qp,qp=null,t;return(qe&8)!=0||ei(),null}function Dk(){for(;ke!==null;){var t=ke.alternate;pf||il===null||((ke.flags&8)!=0?i2(ke,il)&&(pf=!0):ke.tag===13&&gk(t,ke)&&i2(ke,il)&&(pf=!0));var e=ke.flags;(e&256)!=0&&vk(t,ke),(e&512)==0||fo||(fo=!0,js(97,function(){return vo(),null})),ke=ke.nextEffect}}function vo(){if(rl!==90){var t=97<rl?97:rl;return rl=90,Vo(t,Sk)}return!1}function Ek(t,e){Hp.push(e,t),fo||(fo=!0,js(97,function(){return vo(),null}))}function p3(t,e){Wp.push(e,t),fo||(fo=!0,js(97,function(){return vo(),null}))}function Sk(){if(tl===null)return!1;var t=tl;if(tl=null,(qe&48)!=0)throw Error(ve(331));var e=qe;qe|=32;var r=Wp;Wp=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(s){if(o===null)throw Error(ve(330));mo(o,s)}}for(r=Hp,Hp=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(s){if(o===null)throw Error(ve(330));mo(o,s)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return qe=e,ei(),!0}function v3(t,e,r){e=Pp(r,e),e=Xb(t,e,1),lo(t,e),e=nn(),t=vf(t,1),t!==null&&(Ic(t,1,e),wn(t,e))}function mo(t,e){if(t.tag===3)v3(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){v3(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ii===null||!ii.has(n))){t=Pp(e,t);var i=Qb(r,t,1);if(lo(r,i),i=nn(),r=vf(r,1),r!==null)Ic(r,1,i),wn(r,i);else if(typeof n.componentDidCatch=="function"&&(ii===null||!ii.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function Ak(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&r,Or===t&&(Dr&r)===r&&(cr===4||cr===3&&(Dr&62914560)===Dr&&500>wr()-jp?gu(t,0):Bp|=r),wn(t,e)}function kk(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)==0?e=1:(e&4)==0?e=su()===99?1:2:(Ni===0&&(Ni=du),e=Qa(62914560&~Ni),e===0&&(e=4194304))),r=nn(),t=vf(t,e),t!==null&&(Ic(t,e,r),wn(t,r))}var m3;m3=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||qr.current)Bn=!0;else if((r&n)!=0)Bn=(t.flags&16384)!=0;else{switch(Bn=!1,e.tag){case 3:jb(e),bp();break;case 5:xb(e);break;case 1:Hr(e.type)&&qc(e);break;case 4:mp(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;Ot(Gc,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!=0?zb(t,e,r):(Ot($t,$t.current&1),e=Ti(t,e,r),e!==null?e.sibling:null);Ot($t,$t.current&1);break;case 19:if(n=(r&e.childLanes)!=0,(t.flags&64)!=0){if(n)return Vb(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot($t,$t.current),n)break;return null;case 23:case 24:return e.lanes=0,kp(t,e,r)}return Ti(t,e,r)}else Bn=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=uu(e,_r.current),cu(e,r),i=xp(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(n)){var o=!0;qc(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pp(e);var a=n.getDerivedStateFromProps;typeof a=="function"&&Jc(e,n,a,t),i.updater=Yc,e.stateNode=i,i._reactInternals=e,vp(e,n,t,r),e=Mp(null,e,n,!0,o,r)}else e.tag=0,Gr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=Mk(i),t=Rn(i,t),o){case 0:e=Cp(null,e,i,t,r);break e;case 1:e=Ub(null,e,i,t,r);break e;case 11:e=$b(null,e,i,t,r);break e;case 14:e=Lb(null,e,i,Rn(i.type,t),n,r);break e}throw Error(ve(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rn(n,i),Cp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rn(n,i),Ub(t,e,n,i,r);case 3:if(jb(e),n=e.updateQueue,t===null||n===null)throw Error(ve(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,db(t,e),zs(e,n,null,r),n=e.memoizedState.element,n===i)bp(),e=Ti(t,e,r);else{if(i=e.stateNode,(o=i.hydrate)&&(co=nu(e.stateNode.containerInfo.firstChild),Ii=e,o=ri=!0),o){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)o=t[i],o._workInProgressVersionPrimary=t[i+1],hu.push(o);for(r=wb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Gr(t,e,n,r),bp();e=e.child}return e;case 5:return xb(e),t===null&&yp(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,rp(n,i)?a=null:o!==null&&rp(n,o)&&(e.flags|=16),Bb(t,e),Gr(t,e,a,r),e.child;case 6:return t===null&&yp(e),null;case 13:return zb(t,e,r);case 4:return mp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zc(e,null,n,r):Gr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rn(n,i),$b(t,e,n,i,r);case 7:return Gr(t,e,e.pendingProps,r),e.child;case 8:return Gr(t,e,e.pendingProps.children,r),e.child;case 12:return Gr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var u=e.type._context;if(Ot(Gc,u._currentValue),u._currentValue=o,a!==null)if(u=a.value,o=yn(u,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(u,o):1073741823)|0,o===0){if(a.children===i.children&&!qr.current){e=Ti(t,e,r);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var s=u.dependencies;if(s!==null){a=u.child;for(var l=s.firstContext;l!==null;){if(l.context===n&&(l.observedBits&o)!=0){u.tag===1&&(l=so(-1,r&-r),l.tag=2,lo(u,l)),u.lanes|=r,l=u.alternate,l!==null&&(l.lanes|=r),hb(u.return,r),s.lanes|=r;break}l=l.next}}else a=u.tag===10&&u.type===e.type?null:u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===e){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}Gr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,n=o.children,cu(e,r),i=bn(i,o.unstable_observedBits),n=n(i),e.flags|=1,Gr(t,e,n,r),e.child;case 14:return i=e.type,o=Rn(i,e.pendingProps),o=Rn(i.type,o),Lb(t,e,i,o,n,r);case 15:return Rb(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Rn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Hr(n)?(t=!0,qc(e)):t=!1,cu(e,r),yb(e,n,i),vp(e,n,i,r),Mp(null,e,n,!0,t,r);case 19:return Vb(t,e,r);case 23:return kp(t,e,r);case 24:return kp(t,e,r)}throw Error(ve(156,e.tag))};function Ck(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,e,r,n){return new Ck(t,e,r,n)}function Jp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mk(t){if(typeof t=="function")return Jp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gc)return 11;if(t===bc)return 14}return 2}function go(t,e){var r=t.alternate;return r===null?(r=xn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function gf(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")Jp(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xi:return yu(r.children,i,o,e);case $y:a=8,i|=16;break;case o0:a=8,i|=1;break;case ms:return t=xn(12,r,e,i|8),t.elementType=ms,t.type=ms,t.lanes=o,t;case gs:return t=xn(13,r,e,i),t.type=gs,t.elementType=gs,t.lanes=o,t;case yc:return t=xn(19,r,e,i),t.elementType=yc,t.lanes=o,t;case f0:return Yp(r,i,o,e);case h0:return t=xn(24,r,e,i),t.elementType=h0,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a0:a=10;break e;case u0:a=9;break e;case gc:a=11;break e;case bc:a=14;break e;case s0:a=16,n=null;break e;case l0:a=22;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=xn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function yu(t,e,r,n){return t=xn(7,t,n,e),t.lanes=r,t}function Yp(t,e,r,n){return t=xn(23,t,n,e),t.elementType=f0,t.lanes=r,t}function Xp(t,e,r){return t=xn(6,t,null,e),t.lanes=r,t}function Qp(t,e,r){return e=xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ik(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.mutableSourceEagerHydrationData=null}function Tk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yf(t,e,r,n){var i=e.current,o=nn(),a=ho(i);e:if(r){r=r._reactInternals;t:{if(qo(r)!==r||r.tag!==1)throw Error(ve(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Hr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ve(171))}if(r.tag===1){var s=r.type;if(Hr(s)){r=rb(r,s,u);break e}}r=u}else r=ao;return e.context===null?e.context=r:e.pendingContext=r,e=so(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),lo(i,e),po(i,a,o),a}function Zp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ev(t,e){g3(t,e),(t=t.alternate)&&g3(t,e)}function Pk(){return null}function tv(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Ik(t,e,r!=null&&r.hydrate===!0),e=xn(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,pp(e),t[iu]=r.current,W2(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}tv.prototype.render=function(t){yf(t,this._internalRoot,null,null)};tv.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;yf(null,t,null,function(){e[iu]=null})};function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nk(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new tv(t,0,e?{hydrate:!0}:void 0)}function bf(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var u=i;i=function(){var l=Zp(a);u.call(l)}}yf(e,a,t,i)}else{if(o=r._reactRootContainer=Nk(r,n),a=o._internalRoot,typeof i=="function"){var s=i;i=function(){var l=Zp(a);s.call(l)}}l3(function(){yf(e,a,t,i)})}return Zp(a)}o2=function(t){if(t.tag===13){var e=nn();po(t,4,e),ev(t,4)}};P0=function(t){if(t.tag===13){var e=nn();po(t,67108864,e),ev(t,67108864)}};a2=function(t){if(t.tag===13){var e=nn(),r=ho(t);po(t,r,e),ev(t,r)}};u2=function(t,e){return e()};S0=function(t,e,r){switch(e){case"input":if(m0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=jc(n);if(!i)throw Error(ve(90));By(n),m0(n,i)}}}break;case"textarea":Hy(t,r);break;case"select":e=r.value,e!=null&&Va(t,!!r.multiple,e,!1)}};A0=s3;Zy=function(t,e,r,n,i){var o=qe;qe|=4;try{return Vo(98,t.bind(null,e,r,n,i))}finally{qe=o,qe===0&&(vu(),ei())}};k0=function(){(qe&49)==0&&(bk(),vo())};e2=function(t,e){var r=qe;qe|=2;try{return t(e)}finally{qe=r,qe===0&&(vu(),ei())}};function y3(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!al(e))throw Error(ve(200));return Tk(t,e,null,r)}var Fk={Events:[Us,ou,jc,Xy,Qy,vo,{current:!1}]},ul={findFiberByHostInstance:Ho,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Ok={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=n2(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||Pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{ap=_f.inject(Ok),Go=_f}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;gn.createPortal=y3;gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):Error(ve(268,Object.keys(t)));return t=n2(e),t=t===null?null:t.stateNode,t};gn.flushSync=function(t,e){var r=qe;if((r&48)!=0)return t(e);qe|=1;try{if(t)return Vo(99,t.bind(null,e))}finally{qe=r,ei()}};gn.hydrate=function(t,e,r){if(!al(e))throw Error(ve(200));return bf(null,t,e,!0,r)};gn.render=function(t,e,r){if(!al(e))throw Error(ve(200));return bf(null,t,e,!1,r)};gn.unmountComponentAtNode=function(t){if(!al(t))throw Error(ve(40));return t._reactRootContainer?(l3(function(){bf(null,null,t,!1,function(){t._reactRootContainer=null,t[iu]=null})}),!0):!1};gn.unstable_batchedUpdates=s3;gn.unstable_createPortal=function(t,e){return y3(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!al(r))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return bf(t,e,r,!1,n)};gn.version="17.0.2";function b3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b3)}catch(t){console.error(t)}}b3(),Ty.exports=gn;var $k=Ty.exports,_3={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var o=arguments[i];if(!!o){var a=typeof o;if(a==="string"||a==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var u=r.apply(null,o);u&&n.push(u)}}else if(a==="object")if(o.toString===Object.prototype.toString)for(var s in o)e.call(o,s)&&o[s]&&n.push(s);else n.push(o.toString())}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(_3);var ht=_3.exports;const Lk="_App_78l43_1",Rk="_canvas_78l43_7",Bk="_crosshair_78l43_18";var rv={App:Lk,canvas:Rk,crosshair:Bk};const Uk="_MagicMenu_12x4k_1",jk="_container_12x4k_15",zk="_textarea_12x4k_20",qk="_output_12x4k_31",Hk="_buttons_12x4k_42",Wk="_button_12x4k_42",Gk="_disabled_12x4k_52",Vk="_open_12x4k_59",Kk="_loading_12x4k_63";var oi={MagicMenu:Uk,container:jk,textarea:zk,output:qk,buttons:Hk,button:Wk,disabled:Gk,open:Vk,loading:Kk};const Jk=t=>{const e=new EventSource(`${gA}/code?p=${encodeURIComponent(t)}`);let r="";e.addEventListener("message",i=>{const o=i.data;if(o!=="[DONE]"){const a=JSON.parse(o),{choices:u}=a,{text:s}=u[0];r+=s,r||(r="// nope"),n.dispatchEvent(new MessageEvent("update",{data:r}))}else e.close(),n.dispatchEvent(new MessageEvent("done"))});const n=new EventTarget;return n.destroy=()=>{e.close()},n};function Yk({open:t,setOpen:e}){const[r,n]=be.exports.useState("input"),[i,o]=be.exports.useState(""),[a,u]=be.exports.useState(""),[s,l]=be.exports.useState(!1);be.exports.useState(!1);const[c,h]=be.exports.useState(!1),[v,y]=be.exports.useState(null),k=be.exports.useRef(),_=be.exports.useRef(),S=t==="magicMenu",w=async()=>{if(!s){l(!0);const B=v;B&&(B.destroy(),y(null));let U=null;try{const f=k.current.value;U=Jk(f),y(U),n("output"),u(""),h(!0),U.addEventListener("update",D=>{const $=D.data;console.log("got data",{s:$}),u($)}),await new Promise((D,$)=>{U.addEventListener("done",G=>{console.log("ai done"),D()})})}catch(f){console.warn("ai error",f),n("input")}finally{console.log("ai finally",U),l(!1),U&&(U.destroy(),y(null))}}},C=()=>{mn.click(new MouseEvent("click"));const B=_.current.value,U=zr.createModule(B);(async()=>{await zr.load(U)})()};be.exports.useEffect(()=>{const U=["keyup","click","mousedown","mouseup","mousemove","mouseenter","mouseleave","paste"].map(f=>{const D=$=>{window.document.activeElement===k.current||$.target===k.current||mn[f]($)};return window.addEventListener(f,D),()=>{window.removeEventListener(f,D)}});return()=>{for(const f of U)f()}},[]),be.exports.useEffect(()=>{S&&(r==="input"?k.current.focus():r==="output"&&document.activeElement&&document.activeElement.blur(),h(!1))},[S,k.current,c]);const L=B=>{mn.click(new MouseEvent("click"))},P=B=>{S&&B.which===13&&window.document.activeElement!==_.current&&(B.preventDefault(),B.stopPropagation(),r==="input"?w():r==="output"&&C())};return X.createElement("div",{className:oi.MagicMenu+" "+(S?oi.open:""),onClick:L},X.createElement("div",{className:oi.container,onClick:B=>{B.preventDefault(),B.stopPropagation()}},X.createElement("textarea",{className:oi.textarea,value:i,rows:1,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onFocus:B=>{if(r!=="input"){n("input");const U=v;U&&(U.destroy(),y(null)),l(!1)}},onChange:B=>{o(B.target.value)},onKeyDown:P,placeholder:"Ask for it...",ref:k}),(()=>{switch(r){case"input":return X.createElement(X.Fragment,null,X.createElement("div",{className:oi.buttons},X.createElement("button",{className:oi.button+" "+(s?oi.disabled:""),onClick:w},"Generate")));case"output":return X.createElement(X.Fragment,null,X.createElement("textarea",{className:oi.output,value:a,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:B=>{u(B.target.value)},placeholder:"",ref:_}),X.createElement("div",{className:oi.buttons},X.createElement("button",{className:oi.button,onClick:C},"Run")))}})()))}const Xk="_loginDiv_aa4e7_1",Qk="_loginBtnText_aa4e7_7",Zk="_loginBtnImg_aa4e7_12",eC="_loginBtn_aa4e7_7",tC="_logoutBtn_aa4e7_27",rC="_header_aa4e7_46",nC="_subheader_aa4e7_57",iC="_row_aa4e7_61",oC="_logo_aa4e7_27",aC="_image_aa4e7_81",uC="_tab_aa4e7_86",sC="_label_aa4e7_91",lC="_disabled_aa4e7_102",cC="_text_aa4e7_105",fC="_key_aa4e7_106",hC="_panels_aa4e7_110",dC="_panelsLogin_aa4e7_117",pC="_panel_aa4e7_110",vC="_name_aa4e7_140",mC="_top_aa4e7_174",gC="_left_aa4e7_174",yC="_right_aa4e7_177",bC="_button_aa4e7_180",_C="_img_aa4e7_183",wC="_pulse_aa4e7_1",xC="_zoom_aa4e7_1",DC="_inputs_aa4e7_341",EC="_input_aa4e7_341",SC="_objects_aa4e7_383",AC="_object_aa4e7_383",kC="_wrap_aa4e7_399",CC="_lime_aa4e7_410",MC="_selected_aa4e7_357",IC="_open_aa4e7_428",TC="_bottom_aa4e7_439",PC="_slide_aa4e7_445",NC="_buttons_aa4e7_468",FC="_background_aa4e7_410",OC="_blue_aa4e7_493",$C="_green_aa4e7_496",LC="_orange_aa4e7_500",RC="_violet_aa4e7_505",BC="_user_aa4e7_567",UC="_icon_aa4e7_593",jC="_avatar_aa4e7_646",zC="_location_aa4e7_651",qC="_rooms_aa4e7_662",HC="_room_aa4e7_662",WC="_warning_aa4e7_695",GC="_create_aa4e7_701",VC="_primary_aa4e7_772",KC="_hidden_aa4e7_788",JC="_sidebar_aa4e7_792",YC="_nft_aa4e7_809",XC="_preview_aa4e7_819",QC="_description_aa4e7_831",ZC="_tokenid_aa4e7_832",eM="_equipment_aa4e7_849",tM="_background2_aa4e7_901",rM="_login_options_aa4e7_923",nM="_metamask_aa4e7_931",iM="_discord_aa4e7_937",oM="_metamask_text_aa4e7_943",aM="_discord_text_aa4e7_948",uM="_gloob_aa4e7_1",sM="_gloob2_aa4e7_1";var ue={loginDiv:Xk,loginBtnText:Qk,loginBtnImg:Zk,loginBtn:eC,logoutBtn:tC,header:rC,subheader:nC,row:iC,logo:oC,image:aC,tab:uC,label:sC,disabled:lC,text:cC,key:fC,panels:hC,panelsLogin:dC,panel:pC,"panel-header":"_panel-header_aa4e7_131","panel-section":"_panel-section_aa4e7_136",name:vC,"main-stats":"_main-stats_aa4e7_151","panel-row":"_panel-row_aa4e7_167",top:mC,left:gC,right:yC,button:bC,img:_C,"mint-button":"_mint-button_aa4e7_267","button-background":"_button-background_aa4e7_287",pulse:wC,zoom:xC,"panel-subheader":"_panel-subheader_aa4e7_335",inputs:DC,input:EC,"panels-wrap":"_panels-wrap_aa4e7_351","selected-panel-1":"_selected-panel-1_aa4e7_357","selected-panel-2":"_selected-panel-2_aa4e7_360","index-1":"_index-1_aa4e7_379",objects:SC,object:AC,wrap:kC,"background-inner":"_background-inner_aa4e7_410",lime:CC,selected:MC,open:IC,bottom:TC,slide:PC,"transparent-panel":"_transparent-panel_aa4e7_461",buttons:NC,background:FC,blue:OC,green:$C,orange:LC,violet:RC,user:BC,icon:UC,avatar:jC,location:zC,rooms:qC,room:HC,warning:WC,create:GC,delete:"_delete_aa4e7_705","input-wrap":"_input-wrap_aa4e7_708","button-wrap":"_button-wrap_aa4e7_746",primary:VC,hidden:KC,sidebar:JC,nft:YC,preview:XC,description:QC,tokenid:ZC,equipment:eM,background2:tM,login_options:rM,metamask:nM,discord:iM,metamask_text:oM,discord_text:aM,gloob:uM,gloob2:sM};const lM="_inspector_6b19u_1",cM="_open_6b19u_27";var w3={inspector:lM,open:cM};const fM=new Qn,hM=new Qn,nv=(t,e)=>{if(e||(e=new Qn),fM.set(0,0,-1).applyQuaternion(qa.quaternion).dot(hM.copy(t).sub(qa.position))>0){const n=e.copy(t).project(qa);return n.x=(n.x+1)/2,n.y=1-(n.y+1)/2,n.z=Math.min(Math.max((1-(n.z+1)/2)*30,.25),1),n}else return e.set(0,0,-1)},dM=({open:t,setOpen:e,selectedApp:r,dragging:n})=>{const[i,o]=be.exports.useState(null),[a,u]=be.exports.useState(null),[s,l]=be.exports.useState(0);be.exports.useEffect(()=>{const v=y=>{if(t==="world"&&!r&&!n){const{position:_}=y.data;if(_){const S=nv(_);o(S)}else o(null)}else o(null)};return Tt.appManager.addEventListener("hoverchange",v),()=>{Tt.appManager.removeEventListener("hoverchange",v)}},[t,r,n,i]),be.exports.useEffect(()=>{const v=y=>{o(null)};return Tt.appManager.addEventListener("dragchange",v),()=>{Tt.appManager.removeEventListener("dragchange",v)}},[n]),be.exports.useEffect(()=>{const v=t==="world";Ht.setHoverEnabled(v),v||Ht.setMouseSelectedObject(null)},[t]);let c=s;be.exports.useEffect(()=>{const v=y=>{if(r){const k=Ht.getMouseSelectedPosition();if(k){const _=nv(k,a);_.z>0?(u(_),l(++c)):u(null)}else u(null)}else u(null)};return Tt.appManager.addEventListener("frame",v),()=>{Tt.appManager.removeEventListener("frame",v)}},[r,a]);const h=a||i||null;return X.createElement("div",{className:ht(w3.inspector,h?w3.open:null),style:h?{transform:`translateX(${h.x*100}vw) translateY(${h.y*100}vh)`}:null},X.createElement("img",{src:"/images/popup.svg",style:h?{transform:`scale(${h.z})`,transformOrigin:"0 100%"}:null}))};var x3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkText=t.emojiMap=void 0;var e={"o/":"\u{1F44B}","</3":"\u{1F494}","<3":"\u{1F497}","8-D":"\u{1F601}","8D":"\u{1F601}",":-D":"\u{1F601}",":-3":"\u{1F601}",":3":"\u{1F601}",":D":"\u{1F601}","B^D":"\u{1F601}","X-D":"\u{1F601}",XD:"\u{1F601}","x-D":"\u{1F601}",xD:"\u{1F601}",":')":"\u{1F602}",":'-)":"\u{1F602}",":-))":"\u{1F603}","8)":"\u{1F604}",":)":"\u{1F60A}",":-)":"\u{1F604}",":]":"\u{1F604}",":^)":"\u{1F604}",":c)":"\u{1F604}",":o)":"\u{1F604}",":}":"\u{1F604}",":\u3063)":"\u{1F604}","0:)":"\u{1F607}","0:-)":"\u{1F607}","0:-3":"\u{1F607}","0:3":"\u{1F607}","0;^)":"\u{1F607}","O:-)":"\u{1F607}","3:)":"\u{1F608}","3:-)":"\u{1F608}","}:)":"\u{1F608}","}:-)":"\u{1F608}","*)":"\u{1F609}","*-)":"\u{1F609}",":-,":"\u{1F609}",";)":"\u{1F609}",";-)":"\u{1F609}",";-]":"\u{1F609}",";D":"\u{1F609}",";]":"\u{1F609}",";^)":"\u{1F609}",":-|":"\u{1F610}",":|":"\u{1F610}",":(":"\u{1F61E}",":-(":"\u{1F612}",":-<":"\u{1F612}",":-[":"\u{1F612}",":-c":"\u{1F612}",":<":"\u{1F612}",":[":"\u{1F612}",":c":"\u{1F612}",":{":"\u{1F612}",":\u3063C":"\u{1F612}","%)":"\u{1F616}","%-)":"\u{1F616}",":-P":"\u{1F61C}",":-b":"\u{1F61C}",":-p":"\u{1F61C}",":-\xDE":"\u{1F61C}",":-\xFE":"\u{1F61C}",":P":"\u{1F61C}",":b":"\u{1F61C}",":p":"\u{1F61C}",":\xDE":"\u{1F61C}",":\xFE":"\u{1F61C}",";(":"\u{1F61C}","X-P":"\u{1F61C}",XP:"\u{1F61C}","d:":"\u{1F61C}","x-p":"\u{1F61C}",xp:"\u{1F61C}",":-||":"\u{1F620}",":@":"\u{1F620}",":-.":"\u{1F621}",":-/":"\u{1F621}",":/":"\u{1F610}",":L":"\u{1F621}",":S":"\u{1F621}",":\\":"\u{1F621}",":'(":"\u{1F622}",":'-(":"\u{1F622}","^5":"\u{1F624}","^<_<":"\u{1F624}","o/\\o":"\u{1F624}","|-O":"\u{1F62B}","|;-)":"\u{1F62B}",":###..":"\u{1F630}",":#":"\u{1F605}",":-###..":"\u{1F630}","D-':":"\u{1F631}",D8:"\u{1F631}","D:":"\u{1F631}","D:<":"\u{1F631}","D;":"\u{1F631}",DX:"\u{1F631}","v.v":"\u{1F631}","8-0":"\u{1F632}",":-O":"\u{1F632}",":-o":"\u{1F632}",":O":"\u{1F632}",":o":"\u{1F632}","O-O":"\u{1F632}",O_O:"\u{1F632}",O_o:"\u{1F632}","o-o":"\u{1F632}",o_O:"\u{1F632}",o_o:"\u{1F632}",":$":"\u{1F633}","#-)":"\u{1F635}",":&":"\u{1F636}",":-#":"\u{1F636}",":-&":"\u{1F636}",":-X":"\u{1F636}",":X":"\u{1F636}",":-J":"\u{1F63C}",":*":"\u{1F618}",":^*":"\u{1F63D}",\u0CA0_\u0CA0:"\u{1F645}","*\\0/*":"\u{1F646}","\\o/":"\u{1F646}",":>":"\u{1F604}",">.<":"\u{1F621}",">:(":"\u{1F620}",">:)":"\u{1F608}",">:-)":"\u{1F608}",">:/":"\u{1F621}",">:O":"\u{1F632}",">:P":"\u{1F61C}",">:[":"\u{1F612}",">:\\":"\u{1F621}",">;)":"\u{1F608}",">_>^":"\u{1F624}","^^":"\u{1F60A}",":sweat":"\u{1F605}",":smile:":"\u{1F604}",":laughing:":"\u{1F606}",":blush:":"\u{1F60A}",":smiley:":"\u{1F603}",":relaxed:":"\u263A\uFE0F",":smirk:":"\u{1F60F}",":heart_eyes:":"\u{1F60D}",":kissing_heart:":"\u{1F618}",":kissing_closed_eyes:":"\u{1F61A}",":flushed:":"\u{1F633}",":relieved:":"\u{1F60C}",":satisfied:":"\u{1F606}",":grin:":"\u{1F601}",":wink:":"\u{1F609}",":stuck_out_tongue_winking_eye:":"\u{1F61C}",":stuck_out_tongue_closed_eyes:":"\u{1F61D}",":grinning:":"\u{1F600}",":kissing:":"\u{1F617}",":kissing_smiling_eyes:":"\u{1F619}",":stuck_out_tongue:":"\u{1F61B}",":sleeping:":"\u{1F634}",":worried:":"\u{1F61F}",":frowning:":"\u{1F626}",":anguished:":"\u{1F627}",":open_mouth:":"\u{1F62E}",":grimacing:":"\u{1F62C}",":confused:":"\u{1F615}",":hushed:":"\u{1F62F}",":expressionless:":"\u{1F611}",":unamused:":"\u{1F612}",":sweat_smile:":"\u{1F605}",":sweat:":"\u{1F613}",":disappointed_relieved:":"\u{1F625}",":weary:":"\u{1F629}",":pensive:":"\u{1F614}",":disappointed:":"\u{1F61E}",":confounded:":"\u{1F616}",":fearful:":"\u{1F628}",":cold_sweat:":"\u{1F630}",":persevere:":"\u{1F623}",":cry:":"\u{1F622}",":sob:":"\u{1F62D}",":joy:":"\u{1F602}",":astonished:":"\u{1F632}",":scream:":"\u{1F631}",":tired_face:":"\u{1F62B}",":angry:":"\u{1F620}",":rage:":"\u{1F621}",":triumph:":"\u{1F624}",":sleepy:":"\u{1F62A}",":yum:":"\u{1F60B}",":mask:":"\u{1F637}",":sunglasses:":"\u{1F60E}",":dizzy_face:":"\u{1F635}",":imp:":"\u{1F47F}",":smiling_imp:":"\u{1F608}",":neutral_face:":"\u{1F610}",":no_mouth:":"\u{1F636}",":innocent:":"\u{1F607}",":alien:":"\u{1F47D}",":yellow_heart:":"\u{1F49B}",":blue_heart:":"\u{1F499}",":purple_heart:":"\u{1F49C}",":heart:":"\u2764\uFE0F",":green_heart:":"\u{1F49A}",":broken_heart:":"\u{1F494}",":heartbeat:":"\u{1F493}",":heartpulse:":"\u{1F497}",":two_hearts:":"\u{1F495}",":revolving_hearts:":"\u{1F49E}",":cupid:":"\u{1F498}",":sparkling_heart:":"\u{1F496}",":sparkles:":"\u2728",":star:":"\u2B50",":star2:":"\u{1F31F}",":dizzy:":"\u{1F4AB}",":boom:":"\u{1F4A5}",":collision:":"\u{1F4A5}",":anger:":"\u{1F4A2}",":exclamation:":"\u2757",":question:":"\u2753",":grey_exclamation:":"\u2755",":grey_question:":"\u2754",":zzz:":"\u{1F4A4}",":dash:":"\u{1F4A8}",":sweat_drops:":"\u{1F4A6}",":notes:":"\u{1F3B6}",":musical_note:":"\u{1F3B5}",":fire:":"\u{1F525}",":hankey:":"\u{1F4A9}",":poop:":"\u{1F4A9}",":shit:":"\u{1F4A9}",":+1:":"\u{1F44D}",":thumbsup:":"\u{1F44D}",":-1:":"\u{1F44E}",":thumbsdown:":"\u{1F44E}",":ok_hand:":"\u{1F44C}",":punch:":"\u{1F44A}",":facepunch:":"\u{1F44A}",":fist:":"\u270A",":v:":"\u270C\uFE0F",":wave:":"\u{1F44B}",":hand:":"\u270B",":raised_hand:":"\u270B",":open_hands:":"\u{1F450}",":point_up:":"\u261D\uFE0F",":point_down:":"\u{1F447}",":point_left:":"\u{1F448}",":point_right:":"\u{1F449}",":raised_hands:":"\u{1F64C}",":pray:":"\u{1F64F}",":point_up_2:":"\u{1F446}",":clap:":"\u{1F44F}",":muscle:":"\u{1F4AA}",":metal:":"\u{1F918}",":fu:":"\u{1F595}",":walking:":"\u{1F6B6}",":runner:":"\u{1F3C3}",":running:":"\u{1F3C3}",":couple:":"\u{1F46B}",":family:":"\u{1F46A}",":two_men_holding_hands:":"\u{1F46C}",":two_women_holding_hands:":"\u{1F46D}",":dancer:":"\u{1F483}",":dancers:":"\u{1F46F}",":no_good:":"\u{1F645}",":information_desk_person:":"\u{1F481}",":raising_hand:":"\u{1F64B}",":bride_with_veil:":"\u{1F470}",":bow:":"\u{1F647}",":couplekiss:":"\u{1F48F}",":couple_with_heart:":"\u{1F491}",":massage:":"\u{1F486}",":haircut:":"\u{1F487}",":nail_care:":"\u{1F485}",":boy:":"\u{1F466}",":girl:":"\u{1F467}",":woman:":"\u{1F469}",":man:":"\u{1F468}",":baby:":"\u{1F476}",":older_woman:":"\u{1F475}",":older_man:":"\u{1F474}",":man_with_gua_pi_mao:":"\u{1F472}",":construction_worker:":"\u{1F477}",":cop:":"\u{1F46E}",":angel:":"\u{1F47C}",":princess:":"\u{1F478}",":smiley_cat:":"\u{1F63A}",":smile_cat:":"\u{1F638}",":heart_eyes_cat:":"\u{1F63B}",":kissing_cat:":"\u{1F63D}",":smirk_cat:":"\u{1F63C}",":scream_cat:":"\u{1F640}",":crying_cat_face:":"\u{1F63F}",":joy_cat:":"\u{1F639}",":pouting_cat:":"\u{1F63E}",":japanese_ogre:":"\u{1F479}",":japanese_goblin:":"\u{1F47A}",":see_no_evil:":"\u{1F648}",":hear_no_evil:":"\u{1F649}",":speak_no_evil:":"\u{1F64A}",":skull:":"\u{1F480}",":feet:":"\u{1F43E}",":lips:":"\u{1F444}",":kiss:":"\u{1F48B}",":droplet:":"\u{1F4A7}",":ear:":"\u{1F442}",":eyes:":"\u{1F440}",":nose:":"\u{1F443}",":tongue:":"\u{1F445}",":love_letter:":"\u{1F48C}",":bust_in_silhouette:":"\u{1F464}",":busts_in_silhouette:":"\u{1F465}",":speech_balloon:":"\u{1F4AC}",":thought_balloon:":"\u{1F4AD}",":sunny:":"\u2600\uFE0F",":umbrella:":"\u2614",":cloud:":"\u2601\uFE0F",":snowflake:":"\u2744\uFE0F",":snowman:":"\u26C4",":zap:":"\u26A1",":cyclone:":"\u{1F300}",":foggy:":"\u{1F301}",":ocean:":"\u{1F30A}",":cat:":"\u{1F431}",":dog:":"\u{1F436}",":mouse:":"\u{1F42D}",":hamster:":"\u{1F439}",":rabbit:":"\u{1F430}",":wolf:":"\u{1F43A}",":frog:":"\u{1F438}",":tiger:":"\u{1F42F}",":koala:":"\u{1F428}",":bear:":"\u{1F43B}",":pig:":"\u{1F437}",":pig_nose:":"\u{1F43D}",":cow:":"\u{1F42E}",":boar:":"\u{1F417}",":monkey_face:":"\u{1F435}",":monkey:":"\u{1F412}",":horse:":"\u{1F434}",":racehorse:":"\u{1F40E}",":camel:":"\u{1F42B}",":sheep:":"\u{1F411}",":elephant:":"\u{1F418}",":panda_face:":"\u{1F43C}",":snake:":"\u{1F40D}",":bird:":"\u{1F426}",":baby_chick:":"\u{1F424}",":hatched_chick:":"\u{1F425}",":hatching_chick:":"\u{1F423}",":chicken:":"\u{1F414}",":penguin:":"\u{1F427}",":turtle:":"\u{1F422}",":bug:":"\u{1F41B}",":honeybee:":"\u{1F41D}",":ant:":"\u{1F41C}",":beetle:":"\u{1F41E}",":snail:":"\u{1F40C}",":octopus:":"\u{1F419}",":tropical_fish:":"\u{1F420}",":fish:":"\u{1F41F}",":whale:":"\u{1F433}",":whale2:":"\u{1F40B}",":dolphin:":"\u{1F42C}",":cow2:":"\u{1F404}",":ram:":"\u{1F40F}",":rat:":"\u{1F400}",":water_buffalo:":"\u{1F403}",":tiger2:":"\u{1F405}",":rabbit2:":"\u{1F407}",":dragon:":"\u{1F409}",":goat:":"\u{1F410}",":rooster:":"\u{1F413}",":dog2:":"\u{1F415}",":pig2:":"\u{1F416}",":mouse2:":"\u{1F401}",":ox:":"\u{1F402}",":dragon_face:":"\u{1F432}",":blowfish:":"\u{1F421}",":crocodile:":"\u{1F40A}",":dromedary_camel:":"\u{1F42A}",":leopard:":"\u{1F406}",":cat2:":"\u{1F408}",":poodle:":"\u{1F429}",":paw_prints:":"\u{1F43E}",":bouquet:":"\u{1F490}",":cherry_blossom:":"\u{1F338}",":tulip:":"\u{1F337}",":four_leaf_clover:":"\u{1F340}",":rose:":"\u{1F339}",":sunflower:":"\u{1F33B}",":hibiscus:":"\u{1F33A}",":maple_leaf:":"\u{1F341}",":leaves:":"\u{1F343}",":fallen_leaf:":"\u{1F342}",":herb:":"\u{1F33F}",":mushroom:":"\u{1F344}",":cactus:":"\u{1F335}",":palm_tree:":"\u{1F334}",":evergreen_tree:":"\u{1F332}",":deciduous_tree:":"\u{1F333}",":chestnut:":"\u{1F330}",":seedling:":"\u{1F331}",":blossom:":"\u{1F33C}",":ear_of_rice:":"\u{1F33E}",":shell:":"\u{1F41A}",":globe_with_meridians:":"\u{1F310}",":sun_with_face:":"\u{1F31E}",":full_moon_with_face:":"\u{1F31D}",":new_moon_with_face:":"\u{1F31A}",":new_moon:":"\u{1F311}",":waxing_crescent_moon:":"\u{1F312}",":first_quarter_moon:":"\u{1F313}",":waxing_gibbous_moon:":"\u{1F314}",":full_moon:":"\u{1F315}",":waning_gibbous_moon:":"\u{1F316}",":last_quarter_moon:":"\u{1F317}",":waning_crescent_moon:":"\u{1F318}",":last_quarter_moon_with_face:":"\u{1F31C}",":first_quarter_moon_with_face:":"\u{1F31B}",":moon:":"\u{1F314}",":earth_africa:":"\u{1F30D}",":earth_americas:":"\u{1F30E}",":earth_asia:":"\u{1F30F}",":volcano:":"\u{1F30B}",":milky_way:":"\u{1F30C}",":partly_sunny:":"\u26C5",":bamboo:":"\u{1F38D}",":gift_heart:":"\u{1F49D}",":dolls:":"\u{1F38E}",":school_satchel:":"\u{1F392}",":mortar_board:":"\u{1F393}",":flags:":"\u{1F38F}",":fireworks:":"\u{1F386}",":sparkler:":"\u{1F387}",":wind_chime:":"\u{1F390}",":rice_scene:":"\u{1F391}",":jack_o_lantern:":"\u{1F383}",":ghost:":"\u{1F47B}",":santa:":"\u{1F385}",":christmas_tree:":"\u{1F384}",":gift:":"\u{1F381}",":bell:":"\u{1F514}",":no_bell:":"\u{1F515}",":tanabata_tree:":"\u{1F38B}",":tada:":"\u{1F389}",":confetti_ball:":"\u{1F38A}",":balloon:":"\u{1F388}",":crystal_ball:":"\u{1F52E}",":cd:":"\u{1F4BF}",":dvd:":"\u{1F4C0}",":floppy_disk:":"\u{1F4BE}",":camera:":"\u{1F4F7}",":video_camera:":"\u{1F4F9}",":movie_camera:":"\u{1F3A5}",":computer:":"\u{1F4BB}",":tv:":"\u{1F4FA}",":iphone:":"\u{1F4F1}",":phone:":"\u260E\uFE0F",":telephone:":"\u260E\uFE0F",":telephone_receiver:":"\u{1F4DE}",":pager:":"\u{1F4DF}",":fax:":"\u{1F4E0}",":minidisc:":"\u{1F4BD}",":vhs:":"\u{1F4FC}",":sound:":"\u{1F509}",":speaker:":"\u{1F508}",":mute:":"\u{1F507}",":loudspeaker:":"\u{1F4E2}",":mega:":"\u{1F4E3}",":hourglass:":"\u231B",":hourglass_flowing_sand:":"\u23F3",":alarm_clock:":"\u23F0",":watch:":"\u231A",":radio:":"\u{1F4FB}",":satellite:":"\u{1F4E1}",":loop:":"\u27BF",":mag:":"\u{1F50D}",":mag_right:":"\u{1F50E}",":unlock:":"\u{1F513}",":lock:":"\u{1F512}",":lock_with_ink_pen:":"\u{1F50F}",":closed_lock_with_key:":"\u{1F510}",":key:":"\u{1F511}",":bulb:":"\u{1F4A1}",":flashlight:":"\u{1F526}",":high_brightness:":"\u{1F506}",":low_brightness:":"\u{1F505}",":electric_plug:":"\u{1F50C}",":battery:":"\u{1F50B}",":calling:":"\u{1F4F2}",":email:":"\u2709\uFE0F",":mailbox:":"\u{1F4EB}",":postbox:":"\u{1F4EE}",":bath:":"\u{1F6C0}",":bathtub:":"\u{1F6C1}",":shower:":"\u{1F6BF}",":toilet:":"\u{1F6BD}",":wrench:":"\u{1F527}",":nut_and_bolt:":"\u{1F529}",":hammer:":"\u{1F528}",":seat:":"\u{1F4BA}",":moneybag:":"\u{1F4B0}",":yen:":"\u{1F4B4}",":dollar:":"\u{1F4B5}",":pound:":"\u{1F4B7}",":euro:":"\u{1F4B6}",":credit_card:":"\u{1F4B3}",":money_with_wings:":"\u{1F4B8}",":e-mail:":"\u{1F4E7}",":inbox_tray:":"\u{1F4E5}",":outbox_tray:":"\u{1F4E4}",":envelope:":"\u2709\uFE0F",":incoming_envelope:":"\u{1F4E8}",":postal_horn:":"\u{1F4EF}",":mailbox_closed:":"\u{1F4EA}",":mailbox_with_mail:":"\u{1F4EC}",":mailbox_with_no_mail:":"\u{1F4ED}",":package:":"\u{1F4E6}",":door:":"\u{1F6AA}",":smoking:":"\u{1F6AC}",":bomb:":"\u{1F4A3}",":gun:":"\u{1F52B}",":hocho:":"\u{1F52A}",":pill:":"\u{1F48A}",":syringe:":"\u{1F489}",":page_facing_up:":"\u{1F4C4}",":page_with_curl:":"\u{1F4C3}",":bookmark_tabs:":"\u{1F4D1}",":bar_chart:":"\u{1F4CA}",":chart_with_upwards_trend:":"\u{1F4C8}",":chart_with_downwards_trend:":"\u{1F4C9}",":scroll:":"\u{1F4DC}",":clipboard:":"\u{1F4CB}",":calendar:":"\u{1F4C6}",":date:":"\u{1F4C5}",":card_index:":"\u{1F4C7}",":file_folder:":"\u{1F4C1}",":open_file_folder:":"\u{1F4C2}",":scissors:":"\u2702\uFE0F",":pushpin:":"\u{1F4CC}",":paperclip:":"\u{1F4CE}",":black_nib:":"\u2712\uFE0F",":pencil2:":"\u270F\uFE0F",":straight_ruler:":"\u{1F4CF}",":triangular_ruler:":"\u{1F4D0}",":closed_book:":"\u{1F4D5}",":green_book:":"\u{1F4D7}",":blue_book:":"\u{1F4D8}",":orange_book:":"\u{1F4D9}",":notebook:":"\u{1F4D3}",":notebook_with_decorative_cover:":"\u{1F4D4}",":ledger:":"\u{1F4D2}",":books:":"\u{1F4DA}",":bookmark:":"\u{1F516}",":name_badge:":"\u{1F4DB}",":microscope:":"\u{1F52C}",":telescope:":"\u{1F52D}",":newspaper:":"\u{1F4F0}",":football:":"\u{1F3C8}",":basketball:":"\u{1F3C0}",":soccer:":"\u26BD",":baseball:":"\u26BE",":tennis:":"\u{1F3BE}",":8ball:":"\u{1F3B1}",":rugby_football:":"\u{1F3C9}",":bowling:":"\u{1F3B3}",":golf:":"\u26F3",":mountain_bicyclist:":"\u{1F6B5}",":bicyclist:":"\u{1F6B4}",":horse_racing:":"\u{1F3C7}",":snowboarder:":"\u{1F3C2}",":swimmer:":"\u{1F3CA}",":surfer:":"\u{1F3C4}",":ski:":"\u{1F3BF}",":spades:":"\u2660\uFE0F",":hearts:":"\u2665\uFE0F",":clubs:":"\u2663\uFE0F",":diamonds:":"\u2666\uFE0F",":gem:":"\u{1F48E}",":ring:":"\u{1F48D}",":trophy:":"\u{1F3C6}",":musical_score:":"\u{1F3BC}",":musical_keyboard:":"\u{1F3B9}",":violin:":"\u{1F3BB}",":space_invader:":"\u{1F47E}",":video_game:":"\u{1F3AE}",":black_joker:":"\u{1F0CF}",":flower_playing_cards:":"\u{1F3B4}",":game_die:":"\u{1F3B2}",":dart:":"\u{1F3AF}",":mahjong:":"\u{1F004}",":clapper:":"\u{1F3AC}",":memo:":"\u{1F4DD}",":pencil:":"\u{1F4DD}",":book:":"\u{1F4D6}",":art:":"\u{1F3A8}",":microphone:":"\u{1F3A4}",":headphones:":"\u{1F3A7}",":trumpet:":"\u{1F3BA}",":saxophone:":"\u{1F3B7}",":guitar:":"\u{1F3B8}",":shoe:":"\u{1F45E}",":sandal:":"\u{1F461}",":high_heel:":"\u{1F460}",":lipstick:":"\u{1F484}",":boot:":"\u{1F462}",":shirt:":"\u{1F455}",":tshirt:":"\u{1F455}",":necktie:":"\u{1F454}",":womans_clothes:":"\u{1F45A}",":dress:":"\u{1F457}",":running_shirt_with_sash:":"\u{1F3BD}",":jeans:":"\u{1F456}",":kimono:":"\u{1F458}",":bikini:":"\u{1F459}",":ribbon:":"\u{1F380}",":tophat:":"\u{1F3A9}",":crown:":"\u{1F451}",":womans_hat:":"\u{1F452}",":mans_shoe:":"\u{1F45E}",":closed_umbrella:":"\u{1F302}",":briefcase:":"\u{1F4BC}",":handbag:":"\u{1F45C}",":pouch:":"\u{1F45D}",":purse:":"\u{1F45B}",":eyeglasses:":"\u{1F453}",":fishing_pole_and_fish:":"\u{1F3A3}",":coffee:":"\u2615",":tea:":"\u{1F375}",":sake:":"\u{1F376}",":baby_bottle:":"\u{1F37C}",":beer:":"\u{1F37A}",":beers:":"\u{1F37B}",":cocktail:":"\u{1F378}",":tropical_drink:":"\u{1F379}",":wine_glass:":"\u{1F377}",":fork_and_knife:":"\u{1F374}",":pizza:":"\u{1F355}",":hamburger:":"\u{1F354}",":fries:":"\u{1F35F}",":poultry_leg:":"\u{1F357}",":meat_on_bone:":"\u{1F356}",":spaghetti:":"\u{1F35D}",":curry:":"\u{1F35B}",":fried_shrimp:":"\u{1F364}",":bento:":"\u{1F371}",":sushi:":"\u{1F363}",":fish_cake:":"\u{1F365}",":rice_ball:":"\u{1F359}",":rice_cracker:":"\u{1F358}",":rice:":"\u{1F35A}",":ramen:":"\u{1F35C}",":stew:":"\u{1F372}",":oden:":"\u{1F362}",":dango:":"\u{1F361}",":egg:":"\u{1F95A}",":bread:":"\u{1F35E}",":doughnut:":"\u{1F369}",":custard:":"\u{1F36E}",":icecream:":"\u{1F366}",":ice_cream:":"\u{1F368}",":shaved_ice:":"\u{1F367}",":birthday:":"\u{1F382}",":cake:":"\u{1F370}",":cookie:":"\u{1F36A}",":chocolate_bar:":"\u{1F36B}",":candy:":"\u{1F36C}",":lollipop:":"\u{1F36D}",":honey_pot:":"\u{1F36F}",":apple:":"\u{1F34E}",":green_apple:":"\u{1F34F}",":tangerine:":"\u{1F34A}",":lemon:":"\u{1F34B}",":cherries:":"\u{1F352}",":grapes:":"\u{1F347}",":watermelon:":"\u{1F349}",":strawberry:":"\u{1F353}",":peach:":"\u{1F351}",":melon:":"\u{1F348}",":banana:":"\u{1F34C}",":pear:":"\u{1F350}",":pineapple:":"\u{1F34D}",":sweet_potato:":"\u{1F360}",":eggplant:":"\u{1F346}",":tomato:":"\u{1F345}",":corn:":"\u{1F33D}",":house:":"\u{1F3E0}",":house_with_garden:":"\u{1F3E1}",":school:":"\u{1F3EB}",":office:":"\u{1F3E2}",":post_office:":"\u{1F3E3}",":hospital:":"\u{1F3E5}",":bank:":"\u{1F3E6}",":convenience_store:":"\u{1F3EA}",":love_hotel:":"\u{1F3E9}",":hotel:":"\u{1F3E8}",":wedding:":"\u{1F492}",":church:":"\u26EA",":department_store:":"\u{1F3EC}",":european_post_office:":"\u{1F3E4}",":city_sunrise:":"\u{1F307}",":city_sunset:":"\u{1F306}",":japanese_castle:":"\u{1F3EF}",":european_castle:":"\u{1F3F0}",":tent:":"\u26FA",":factory:":"\u{1F3ED}",":tokyo_tower:":"\u{1F5FC}",":japan:":"\u{1F5FE}",":mount_fuji:":"\u{1F5FB}",":sunrise_over_mountains:":"\u{1F304}",":sunrise:":"\u{1F305}",":stars:":"\u{1F320}",":statue_of_liberty:":"\u{1F5FD}",":bridge_at_night:":"\u{1F309}",":carousel_horse:":"\u{1F3A0}",":rainbow:":"\u{1F308}",":ferris_wheel:":"\u{1F3A1}",":fountain:":"\u26F2",":roller_coaster:":"\u{1F3A2}",":ship:":"\u{1F6A2}",":speedboat:":"\u{1F6A4}",":boat:":"\u26F5",":sailboat:":"\u26F5",":rowboat:":"\u{1F6A3}",":anchor:":"\u2693",":rocket:":"\u{1F680}",":airplane:":"\u2708\uFE0F",":helicopter:":"\u{1F681}",":steam_locomotive:":"\u{1F682}",":tram:":"\u{1F68A}",":mountain_railway:":"\u{1F69E}",":bike:":"\u{1F6B2}",":aerial_tramway:":"\u{1F6A1}",":suspension_railway:":"\u{1F69F}",":mountain_cableway:":"\u{1F6A0}",":tractor:":"\u{1F69C}",":blue_car:":"\u{1F699}",":oncoming_automobile:":"\u{1F698}",":car:":"\u{1F697}",":red_car:":"\u{1F697}",":taxi:":"\u{1F695}",":oncoming_taxi:":"\u{1F696}",":articulated_lorry:":"\u{1F69B}",":bus:":"\u{1F68C}",":oncoming_bus:":"\u{1F68D}",":rotating_light:":"\u{1F6A8}",":police_car:":"\u{1F693}",":oncoming_police_car:":"\u{1F694}",":fire_engine:":"\u{1F692}",":ambulance:":"\u{1F691}",":minibus:":"\u{1F690}",":truck:":"\u{1F69A}",":train:":"\u{1F68B}",":station:":"\u{1F689}",":train2:":"\u{1F686}",":bullettrain_front:":"\u{1F685}",":bullettrain_side:":"\u{1F684}",":light_rail:":"\u{1F688}",":monorail:":"\u{1F69D}",":railway_car:":"\u{1F683}",":trolleybus:":"\u{1F68E}",":ticket:":"\u{1F3AB}",":fuelpump:":"\u26FD",":vertical_traffic_light:":"\u{1F6A6}",":traffic_light:":"\u{1F6A5}",":warning:":"\u26A0\uFE0F",":construction:":"\u{1F6A7}",":beginner:":"\u{1F530}",":atm:":"\u{1F3E7}",":slot_machine:":"\u{1F3B0}",":busstop:":"\u{1F68F}",":barber:":"\u{1F488}",":hotsprings:":"\u2668\uFE0F",":checkered_flag:":"\u{1F3C1}",":crossed_flags:":"\u{1F38C}",":izakaya_lantern:":"\u{1F3EE}",":moyai:":"\u{1F5FF}",":circus_tent:":"\u{1F3AA}",":performing_arts:":"\u{1F3AD}",":round_pushpin:":"\u{1F4CD}",":triangular_flag_on_post:":"\u{1F6A9}",":jp:":"\u{1F1EF}\u{1F1F5}",":kr:":"\u{1F1F0}\u{1F1F7}",":cn:":"\u{1F1E8}\u{1F1F3}",":us:":"\u{1F1FA}\u{1F1F8}",":fr:":"\u{1F1EB}\u{1F1F7}",":es:":"\u{1F1EA}\u{1F1F8}",":it:":"\u{1F1EE}\u{1F1F9}",":ru:":"\u{1F1F7}\u{1F1FA}",":gb:":"\u{1F1EC}\u{1F1E7}",":uk:":"\u{1F1EC}\u{1F1E7}",":de:":"\u{1F1E9}\u{1F1EA}",":one:":"1\uFE0F\u20E3",":two:":"2\uFE0F\u20E3",":three:":"3\uFE0F\u20E3",":four:":"4\uFE0F\u20E3",":five:":"5\uFE0F\u20E3",":six:":"6\uFE0F\u20E3",":seven:":"7\uFE0F\u20E3",":eight:":"8\uFE0F\u20E3",":nine:":"9\uFE0F\u20E3",":keycap_ten:":"\u{1F51F}",":1234:":"\u{1F522}",":zero:":"0\uFE0F\u20E3",":hash:":"#\uFE0F\u20E3",":symbols:":"\u{1F523}",":arrow_backward:":"\u25C0\uFE0F",":arrow_down:":"\u2B07\uFE0F",":arrow_forward:":"\u25B6\uFE0F",":arrow_left:":"\u2B05\uFE0F",":capital_abcd:":"\u{1F520}",":abcd:":"\u{1F521}",":abc:":"\u{1F524}",":arrow_lower_left:":"\u2199\uFE0F",":arrow_lower_right:":"\u2198\uFE0F",":arrow_right:":"\u27A1\uFE0F",":arrow_up:":"\u2B06\uFE0F",":arrow_upper_left:":"\u2196\uFE0F",":arrow_upper_right:":"\u2197\uFE0F",":arrow_double_down:":"\u23EC",":arrow_double_up:":"\u23EB",":arrow_down_small:":"\u{1F53D}",":arrow_heading_down:":"\u2935\uFE0F",":arrow_heading_up:":"\u2934\uFE0F",":leftwards_arrow_with_hook:":"\u21A9\uFE0F",":arrow_right_hook:":"\u21AA\uFE0F",":left_right_arrow:":"\u2194\uFE0F",":arrow_up_down:":"\u2195\uFE0F",":arrow_up_small:":"\u{1F53C}",":arrows_clockwise:":"\u{1F503}",":arrows_counterclockwise:":"\u{1F504}",":rewind:":"\u23EA",":fast_forward:":"\u23E9",":information_source:":"\u2139\uFE0F",":ok:":"\u{1F197}",":twisted_rightwards_arrows:":"\u{1F500}",":repeat:":"\u{1F501}",":repeat_one:":"\u{1F502}",":new:":"\u{1F195}",":top:":"\u{1F51D}",":up:":"\u{1F199}",":cool:":"\u{1F192}",":free:":"\u{1F193}",":ng:":"\u{1F196}",":cinema:":"\u{1F3A6}",":koko:":"\u{1F201}",":signal_strength:":"\u{1F4F6}",":u5272:":"\u{1F239}",":u5408:":"\u{1F234}",":u55b6:":"\u{1F23A}",":u6307:":"\u{1F22F}",":u6708:":"\u{1F237}\uFE0F",":u6709:":"\u{1F236}",":u6e80:":"\u{1F235}",":u7121:":"\u{1F21A}",":u7533:":"\u{1F238}",":u7a7a:":"\u{1F233}",":u7981:":"\u{1F232}",":sa:":"\u{1F202}\uFE0F",":restroom:":"\u{1F6BB}",":mens:":"\u{1F6B9}",":womens:":"\u{1F6BA}",":baby_symbol:":"\u{1F6BC}",":no_smoking:":"\u{1F6AD}",":parking:":"\u{1F17F}\uFE0F",":wheelchair:":"\u267F",":metro:":"\u{1F687}",":baggage_claim:":"\u{1F6C4}",":accept:":"\u{1F251}",":wc:":"\u{1F6BE}",":potable_water:":"\u{1F6B0}",":put_litter_in_its_place:":"\u{1F6AE}",":secret:":"\u3299\uFE0F",":congratulations:":"\u3297\uFE0F",":m:":"\u24C2\uFE0F",":passport_control:":"\u{1F6C2}",":left_luggage:":"\u{1F6C5}",":customs:":"\u{1F6C3}",":ideograph_advantage:":"\u{1F250}",":cl:":"\u{1F191}",":sos:":"\u{1F198}",":id:":"\u{1F194}",":no_entry_sign:":"\u{1F6AB}",":underage:":"\u{1F51E}",":no_mobile_phones:":"\u{1F4F5}",":do_not_litter:":"\u{1F6AF}",":non-potable_water:":"\u{1F6B1}",":no_bicycles:":"\u{1F6B3}",":no_pedestrians:":"\u{1F6B7}",":children_crossing:":"\u{1F6B8}",":no_entry:":"\u26D4",":eight_spoked_asterisk:":"\u2733\uFE0F",":sparkle:":"\u2747\uFE0F",":eight_pointed_black_star:":"\u2734\uFE0F",":heart_decoration:":"\u{1F49F}",":vs:":"\u{1F19A}",":vibration_mode:":"\u{1F4F3}",":mobile_phone_off:":"\u{1F4F4}",":chart:":"\u{1F4B9}",":currency_exchange:":"\u{1F4B1}",":aries:":"\u2648",":taurus:":"\u2649",":gemini:":"\u264A",":cancer:":"\u264B",":leo:":"\u264C",":virgo:":"\u264D",":libra:":"\u264E",":scorpius:":"\u264F",":sagittarius:":"\u2650",":capricorn:":"\u2651",":aquarius:":"\u2652",":pisces:":"\u2653",":ophiuchus:":"\u26CE",":six_pointed_star:":"\u{1F52F}",":negative_squared_cross_mark:":"\u274E",":a:":"\u{1F170}\uFE0F",":b:":"\u{1F171}\uFE0F",":ab:":"\u{1F18E}",":o2:":"\u{1F17E}\uFE0F",":diamond_shape_with_a_dot_inside:":"\u{1F4A0}",":recycle:":"\u267B\uFE0F",":end:":"\u{1F51A}",":back:":"\u{1F519}",":on:":"\u{1F51B}",":soon:":"\u{1F51C}",":clock1:":"\u{1F550}",":clock130:":"\u{1F55C}",":clock10:":"\u{1F559}",":clock1030:":"\u{1F565}",":clock11:":"\u{1F55A}",":clock1130:":"\u{1F566}",":clock12:":"\u{1F55B}",":clock1230:":"\u{1F567}",":clock2:":"\u{1F551}",":clock230:":"\u{1F55D}",":clock3:":"\u{1F552}",":clock330:":"\u{1F55E}",":clock4:":"\u{1F553}",":clock430:":"\u{1F55F}",":clock5:":"\u{1F554}",":clock530:":"\u{1F560}",":clock6:":"\u{1F555}",":clock630:":"\u{1F561}",":clock7:":"\u{1F556}",":clock730:":"\u{1F562}",":clock8:":"\u{1F557}",":clock830:":"\u{1F563}",":clock9:":"\u{1F558}",":clock930:":"\u{1F564}",":heavy_dollar_sign:":"\u{1F4B2}",":copyright:":"\xA9\uFE0F",":registered:":"\xAE\uFE0F",":tm:":"\u2122\uFE0F",":x:":"\u274C",":heavy_exclamation_mark:":"\u2757",":bangbang:":"\u203C\uFE0F",":interrobang:":"\u2049\uFE0F",":o:":"\u2B55",":heavy_multiplication_x:":"\u2716\uFE0F",":heavy_plus_sign:":"\u2795",":heavy_minus_sign:":"\u2796",":heavy_division_sign:":"\u2797",":white_flower:":"\u{1F4AE}",":100:":"\u{1F4AF}",":heavy_check_mark:":"\u2714\uFE0F",":ballot_box_with_check:":"\u2611\uFE0F",":radio_button:":"\u{1F518}",":link:":"\u{1F517}",":curly_loop:":"\u27B0",":wavy_dash:":"\u3030\uFE0F",":part_alternation_mark:":"\u303D\uFE0F"};t.emojiMap=e;var r=function(n){var i=n&&n.split(" "),o=[];return i&&i.forEach(function(a){var u=a;a in e&&(u=e[a]),o.push(u)}),o.join(" ")};t.checkText=r})(x3);const pM="_chat_1afgk_1",vM="_open_1afgk_11",mM="_input_1afgk_14",gM="_background_1afgk_33",yM="_message_1afgk_44";var Zo={chat:pM,open:vM,input:mM,background:gM,"flash-right":"_flash-right_1afgk_1","chat-messages":"_chat-messages_1afgk_44","message-group":"_message-group_1afgk_44",message:yM};const{useLocalPlayer:D3}=zr,bM=t=>{let e;return(e=t.match(/(|||||(?:^|\s)lol(?:$|\s))/))?(e.emotion="joy",e):(e=t.match(/(||||||||||||)/))?(e.emotion="fun",e):(e=t.match(/(||||||)/))?(e.emotion="sorrow",e):(e=t.match(/(||||)/))?(e.emotion="angry",e):(e=t.match(/(||)/))?(e.emotion="neutral",e):null};class _M extends EventTarget{constructor(){super();this.messageActions=[]}addMessage(e="",{timeout:r=3e3}={}){const n=D3(),i=yA(5),o=bM(e),a=o&&o.emotion,u=o?o[1]!==e:!0,s={type:"chat",chatId:i,message:e,emotion:a,fakeSpeech:u};n.addAction(s),this.messageActions.push(s);const l=setTimeout(()=>{this.removeMessage(s)},r);return s.cleanup=()=>{clearTimeout(l)},s}removeMessage(e){const r=D3(),n=this.messageActions.indexOf(e);if(n!==-1){const i=this.messageActions[n];i.cleanup(),this.messageActions.splice(n,1);const o=r.findActionIndex(a=>a.chatId===i.chatId);o!==-1?r.removeActionIndex(o):console.warn("remove unknown message action 2",i)}else console.warn("remove unknown message action 1",e)}}const wM=new _M,xM=new Qn,DM=new Qn;function EM({open:t,setOpen:e}){const[r,n]=be.exports.useState(""),i=be.exports.useRef(),o=t==="chat",a=s=>{if(document.activeElement===i.current)switch(s.which){case 13:{if(s.preventDefault(),s.stopPropagation(),r){const l=x3.checkText(r);wM.addMessage(l,{timeout:3e3})}return n(""),e(null),mn.click(new MouseEvent("click")),!0}}return!1},u=s=>{switch(s.which){case 186:{s.shiftKey&&(o||(s.preventDefault(),s.stopPropagation(),n(":"),e("chat")));break}}};return be.exports.useEffect(()=>{const s=l=>{let c=a(l);c||(c=u(l))};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[r,o]),be.exports.useEffect(()=>{i.current&&(o?i.current.focus():i.current.blur())},[o,i.current]),X.createElement("div",{className:ht(Zo.chat,o?Zo.open:null)},X.createElement("img",{src:"images/webpencil.svg",className:Zo.background}),X.createElement("input",{type:"text",className:Zo.input,value:r,onClick:s=>{s.stopPropagation()},onChange:s=>{n(s.target.value)},ref:i}))}function SM(){const[t,e]=be.exports.useState([]),[r,n]=be.exports.useState(0);let i=r;return be.exports.useEffect(()=>{const o=a=>{if(t.length>0){for(const u of t)nv(u.player.getWorldPosition(xM).add(DM.set(0,0,0)),u.position);n(++i)}};return Tt.appManager.addEventListener("frame",o),()=>{Tt.appManager.removeEventListener("frame",o)}},[t]),be.exports.useEffect(()=>{const o=zr.useLocalPlayer(),a=()=>{const u=[],s=Array.from(o.getActionsState()).filter(l=>l.type==="chat");if(s.length>0){const l={player:o,messages:s,position:new Qn};u.push(l)}e(u)};return o.addEventListener("actionadd",a),o.addEventListener("actionremove",a),()=>{o.removeEventListener("actionadd",a),o.removeEventListener("actionremove",a)}},[t]),X.createElement("div",{className:Zo["chat-messages"]},t.map((o,a)=>{const u=o.position;return X.createElement("div",{className:Zo["message-group"],key:a},o.messages.map((s,l)=>X.createElement("div",{className:Zo.message,style:u?{transform:`translateX(${u.x*100}vw) translateY(${u.y*100}vh)`}:null,key:l},s.message)))}))}function AM({open:t,setOpen:e}){return X.createElement(X.Fragment,null,X.createElement(EM,{open:t,setOpen:e}),X.createElement(SM,null))}const kM="0x1D20A51F088492A0f1C57f047A9e30c9aB5C07Ea".toLowerCase();function CM(t){const{token_id:e,asset_contract:r,image_preview_url:n}=t;return r.address===kM?`https://arweave.net/ABckdetHKeV8VgUoIZ53TMDKkTi56LhTf-Gb1Mdqx9c/${e}.png`:n}var MM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",getNftImage:CM}),IM={},E3={};Object.defineProperty(E3,"__esModule",{value:!0});var wf={};function TM(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}function S3(){const t=new Map;return function(e,r){try{let i=function(a){if(n)return a;const u=t.get(e.didUrl);return u!==void 0?u:Promise.resolve(r()).then(function(s){var l;return((l=s.didResolutionMetadata)==null?void 0:l.error)!=="notFound"&&t.set(e.didUrl,s),s})},n;const o=function(){if(e.params&&e.params["no-cache"]==="true")return n=1,Promise.resolve(r())}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(n){return Promise.reject(n)}}}function A3(t,e){return e()}const k3="[a-zA-Z0-9_.%-]",PM="([a-zA-Z0-9_]+)",NM=`(${k3}+(:${k3}+)*)`,C3="[a-zA-Z0-9_.:%-]",FM=`;${C3}+=${C3}*`,OM=`((${FM})*)`,$M="(/[^#?]*)?",LM="([?][^#]*)?",RM="(#.*)?",BM=new RegExp(`^did:${PM}:${NM}${OM}${$M}${LM}${RM}$`);function M3(t){if(t===""||!t)return null;const e=t.match(BM);if(e){const r={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:t};if(e[4]){const n=e[4].slice(1).split(";");r.params={};for(const i of n){const o=i.split("=");r.params[o[0]]=o[1]}}return e[6]&&(r.path=e[6]),e[7]&&(r.query=e[7].slice(1)),e[8]&&(r.fragment=e[8].slice(1)),r}return null}const xf={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function I3(t){return function(e,r,n){try{return Promise.resolve(TM(function(){return Promise.resolve(t(e,r,n)).then(function(i){return Nr(Se({},xf),{didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:i})})},function(i){return Nr(Se({},xf),{didResolutionMetadata:{error:"notFound",message:i.toString()}})}))}catch(i){return Promise.reject(i)}}}class UM{constructor(e={},r={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=r.cache===!0?S3():r.cache||A3,r.legacyResolvers&&Object.keys(r.legacyResolvers).map(n=>{this.registry[n]||(this.registry[n]=I3(r.legacyResolvers[n]))})}resolve(e,r={}){try{const n=this,i=M3(e);if(i===null)return Promise.resolve(Nr(Se({},xf),{didResolutionMetadata:{error:"invalidDid"}}));const o=n.registry[i.method];return o?Promise.resolve(n.cache(i,()=>o(i.did,i,n,r))):Promise.resolve(Nr(Se({},xf),{didResolutionMetadata:{error:"unsupportedDidMethod"}}))}catch(n){return Promise.reject(n)}}}var jM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Resolver:UM,inMemoryCache:S3,noCache:A3,parse:M3,wrapLegacyResolver:I3}),zM=Ft(jM);function Df(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function qM(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=i}var u=t.length,s=t.charAt(0),l=Math.log(u)/Math.log(256),c=Math.log(256)/Math.log(u);function h(k){if(k instanceof Uint8Array||(ArrayBuffer.isView(k)?k=new Uint8Array(k.buffer,k.byteOffset,k.byteLength):Array.isArray(k)&&(k=Uint8Array.from(k))),!(k instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(k.length===0)return"";for(var _=0,S=0,w=0,C=k.length;w!==C&&k[w]===0;)w++,_++;for(var L=(C-w)*c+1>>>0,P=new Uint8Array(L);w!==C;){for(var B=k[w],U=0,f=L-1;(B!==0||U<S)&&f!==-1;f--,U++)B+=256*P[f]>>>0,P[f]=B%u>>>0,B=B/u>>>0;if(B!==0)throw new Error("Non-zero carry");S=U,w++}for(var D=L-S;D!==L&&P[D]===0;)D++;for(var $=s.repeat(_);D<L;++D)$+=t.charAt(P[D]);return $}function v(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return new Uint8Array;var _=0;if(k[_]!==" "){for(var S=0,w=0;k[_]===s;)S++,_++;for(var C=(k.length-_)*l+1>>>0,L=new Uint8Array(C);k[_];){var P=r[k.charCodeAt(_)];if(P===255)return;for(var B=0,U=C-1;(P!==0||B<w)&&U!==-1;U--,B++)P+=u*L[U]>>>0,L[U]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");w=B,_++}if(k[_]!==" "){for(var f=C-w;f!==C&&L[f]===0;)f++;for(var D=new Uint8Array(S+(C-f)),$=S;f!==C;)D[$++]=L[f++];return D}}}function y(k){var _=v(k);if(_)return _;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:v,decode:y}}var HM=qM,WM=HM;const T3=new Uint8Array(0),GM=t=>t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),""),VM=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):T3},P3=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},ea=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},KM=t=>t instanceof ArrayBuffer||ArrayBuffer.isView(t),N3=t=>new TextEncoder().encode(t),F3=t=>new TextDecoder().decode(t);var JM=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:P3,coerce:ea,isBinary:KM,fromHex:VM,toHex:GM,fromString:N3,toString:F3,empty:T3});class YM{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class XM{constructor(e,r,n){this.name=e,this.prefix=r,this.baseDecode=n}decode(e){if(typeof e=="string")switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}else throw Error("Can only multibase decode strings")}or(e){const r=Se({[this.prefix]:this},e.decoders||{[e.prefix]:e});return new iv(r)}}class iv{constructor(e){this.decoders=e}or(e){const r=e.decoders||{[e.prefix]:e};return new iv(Se(Se({},this.decoders),r))}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class QM{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new YM(e,r,n),this.decoder=new XM(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ov=({name:t,prefix:e,encode:r,decode:n})=>new QM(t,e,r,n),sl=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=WM(r,e);return ov({prefix:t,name:e,encode:n,decode:o=>ea(i(o))})},ZM=(t,e,r,n)=>{const i={};for(let c=0;c<e.length;++c)i[e[c]]=c;let o=t.length;for(;t[o-1]==="=";)--o;const a=new Uint8Array(o*r/8|0);let u=0,s=0,l=0;for(let c=0;c<o;++c){const h=i[t[c]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);s=s<<r|h,u+=r,u>=8&&(u-=8,a[l++]=255&s>>u)}if(u>=r||255&s<<8-u)throw new SyntaxError("Unexpected end of data");return a},eI=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,u=0;for(let s=0;s<t.length;++s)for(u=u<<8|t[s],a+=8;a>r;)a-=r,o+=e[i&u>>a];if(a&&(o+=e[i&u<<r-a]),n)for(;o.length*r&7;)o+="=";return o},fr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ov({prefix:e,name:t,encode(i){return eI(i,n,r)},decode(i){return ZM(i,n,r,t)}}),tI=ov({prefix:"\0",name:"identity",encode:t=>F3(t),decode:t=>N3(t)});var rI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:tI});const nI=fr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var iI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base2:nI});const oI=fr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var aI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base8:oI});const uI=sl({prefix:"9",name:"base10",alphabet:"0123456789"});var sI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base10:uI});const lI=fr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cI=fr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var fI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base16:lI,base16upper:cI});const ll=fr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),hI=fr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),dI=fr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pI=fr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vI=fr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mI=fr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gI=fr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yI=fr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),bI=fr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var _I=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base32:ll,base32upper:hI,base32pad:dI,base32padupper:pI,base32hex:vI,base32hexupper:mI,base32hexpad:gI,base32hexpadupper:yI,base32z:bI});const wI=sl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xI=sl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var DI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base36:wI,base36upper:xI});const Fi=sl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),EI=sl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var SI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base58btc:Fi,base58flickr:EI});const AI=fr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kI=fr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),CI=fr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),MI=fr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var II=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",base64:AI,base64pad:kI,base64url:CI,base64urlpad:MI}),TI=$3,O3=128,PI=127,NI=~PI,FI=Math.pow(2,31);function $3(t,e,r){e=e||[],r=r||0;for(var n=r;t>=FI;)e[r++]=t&255|O3,t/=128;for(;t&NI;)e[r++]=t&255|O3,t>>>=7;return e[r]=t|0,$3.bytes=r-n+1,e}var OI=av,$I=128,L3=127;function av(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a)throw av.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&L3)<<n:(o&L3)*Math.pow(2,n),n+=7}while(o>=$I);return av.bytes=i-e,r}var LI=Math.pow(2,7),RI=Math.pow(2,14),BI=Math.pow(2,21),UI=Math.pow(2,28),jI=Math.pow(2,35),zI=Math.pow(2,42),qI=Math.pow(2,49),HI=Math.pow(2,56),WI=Math.pow(2,63),GI=function(t){return t<LI?1:t<RI?2:t<BI?3:t<UI?4:t<jI?5:t<zI?6:t<qI?7:t<HI?8:t<WI?9:10},VI={encode:TI,decode:OI,encodingLength:GI},Ef=VI;const Sf=t=>[Ef.decode(t),Ef.decode.bytes],cl=(t,e,r=0)=>(Ef.encode(t,e,r),e),fl=t=>Ef.encodingLength(t);var KI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",decode:Sf,encodeTo:cl,encodingLength:fl});const uv=(t,e)=>{const r=e.byteLength,n=fl(t),i=n+fl(r),o=new Uint8Array(i+r);return cl(t,o,0),cl(r,o,n),o.set(e,i),new Af(t,r,e,o)},R3=t=>{const e=ea(t),[r,n]=Sf(e),[i,o]=Sf(e.subarray(n)),a=e.subarray(n+o);if(a.byteLength!==i)throw new Error("Incorrect length");return new Af(r,i,a,e)},B3=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&P3(t.bytes,e.bytes);class Af{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}var JI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",create:uv,decode:R3,equals:B3,Digest:Af});const kf=({name:t,code:e,encode:r})=>new U3(t,e,r);class U3{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}async digest(e){if(e instanceof Uint8Array){const r=await this.encode(e);return uv(this.code,r)}else throw Error("Unknown type, must be binary type")}}var YI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",from:kf,Hasher:U3});const j3=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),XI=kf({name:"sha2-256",code:18,encode:j3("SHA-256")}),QI=kf({name:"sha2-512",code:19,encode:j3("SHA-512")});var ZI=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sha256:XI,sha512:QI});const eT=kf({name:"identity",code:0,encode:t=>ea(t)});var tT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",identity:eT});const rT="raw",nT=85,iT=t=>ea(t),oT=t=>ea(t);var aT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:rT,code:nT,encode:iT,decode:oT});const uT=new TextEncoder,sT=new TextDecoder,lT="json",cT=512,fT=t=>uT.encode(JSON.stringify(t)),hT=t=>JSON.parse(sT.decode(t));var dT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",name:lT,code:cT,encode:fT,decode:hT});class Er{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Mf,byteLength:Mf,code:Cf,version:Cf,multihash:Cf,bytes:Cf,_baseCache:Mf,asCID:Mf})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:r}=this;if(e!==hl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==gT)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Er.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=uv(e,r);return Er.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&B3(this.multihash,e.multihash)}toString(e){const{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return vT(r,i,e||Fi.encoder);default:return mT(r,i,e||ll.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return bT(/^0\.0/,_T),!!(e&&(e[q3]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Er)return e;if(e!=null&&e.asCID===e){const{version:r,code:n,multihash:i,bytes:o}=e;return new Er(r,n,i,o||z3(r,n,i.bytes))}else if(e!=null&&e[q3]===!0){const{version:r,multihash:n,code:i}=e,o=R3(n);return Er.create(r,i,o)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==hl)throw new Error(`Version 0 CID must use dag-pb (code: ${hl}) block encoding`);return new Er(e,r,n,n.bytes)}case 1:{const i=z3(e,r,n.bytes);return new Er(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return Er.create(0,hl,e)}static createV1(e,r){return Er.create(1,e,r)}static decode(e){const[r,n]=Er.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=Er.inspectBytes(e),n=r.size-r.multihashSize,i=ea(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");const o=i.subarray(r.multihashSize-r.digestSize),a=new Af(r.multihashCode,r.digestSize,o,i);return[r.version===0?Er.createV0(a):Er.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[h,v]=Sf(e.subarray(r));return r+=v,h};let i=n(),o=hl;if(i===18?(i=0,r=0):i===1&&(o=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);const a=r,u=n(),s=n(),l=r+s,c=l-a;return{version:i,codec:o,multihashCode:u,digestSize:s,multihashSize:c,size:l}}static parse(e,r){const[n,i]=pT(e,r),o=Er.decode(i);return o._baseCache.set(n,e),o}}const pT=(t,e)=>{switch(t[0]){case"Q":{const r=e||Fi;return[Fi.prefix,r.decode(`${Fi.prefix}${t}`)]}case Fi.prefix:{const r=e||Fi;return[Fi.prefix,r.decode(t)]}case ll.prefix:{const r=e||ll;return[ll.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},vT=(t,e,r)=>{const{prefix:n}=r;if(n!==Fi.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=e.get(n);if(i==null){const o=r.encode(t).slice(1);return e.set(n,o),o}else return i},mT=(t,e,r)=>{const{prefix:n}=r,i=e.get(n);if(i==null){const o=r.encode(t);return e.set(n,o),o}else return i},hl=112,gT=18,z3=(t,e,r)=>{const n=fl(t),i=n+fl(e),o=new Uint8Array(i+r.byteLength);return cl(t,o,0),cl(e,o,n),o.set(r,i),o},q3=Symbol.for("@ipld/js-cid/CID"),Cf={writable:!1,configurable:!1,enumerable:!0},Mf={writable:!1,enumerable:!1,configurable:!1},yT="0.0.0-dev",bT=(t,e)=>{if(t.test(yT))console.warn(e);else throw new Error(e)},_T=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,Dn=Se(Se(Se(Se(Se(Se(Se(Se(Se({},rI),iI),aI),sI),fI),_I),DI),SI),II),wT=Se(Se({},ZI),tT),xT={raw:aT,json:dT};var DT=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",CID:Er,hasher:YI,digest:JI,varint:KI,bytes:JM,hashes:wT,bases:Dn,codecs:xT});function H3(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const W3=H3("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),sv=H3("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),G3=Se({utf8:W3,"utf-8":W3,hex:Dn.base16,latin1:sv,ascii:sv,binary:sv},Dn);function Un(t,e="utf8"){const r=G3[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}function If(t,e="utf8"){const r=G3[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var yo={},Ve={},V3={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(u,s){var l=u>>>16&65535,c=u&65535,h=s>>>16&65535,v=s&65535;return c*v+(l*v+c*h<<16>>>0)|0}t.mul=Math.imul||e;function r(u,s){return u+s|0}t.add=r;function n(u,s){return u-s|0}t.sub=n;function i(u,s){return u<<s|u>>>32-s}t.rotl=i;function o(u,s){return u<<32-s|u>>>s}t.rotr=o;function a(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}t.isInteger=Number.isInteger||a,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(u){return t.isInteger(u)&&u>=-t.MAX_SAFE_INTEGER&&u<=t.MAX_SAFE_INTEGER}})(V3);Object.defineProperty(Ve,"__esModule",{value:!0});var K3=V3;function ET(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ve.readInt16BE=ET;function ST(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ve.readUint16BE=ST;function AT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ve.readInt16LE=AT;function kT(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ve.readUint16LE=kT;function J3(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ve.writeUint16BE=J3;Ve.writeInt16BE=J3;function Y3(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ve.writeUint16LE=Y3;Ve.writeInt16LE=Y3;function lv(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ve.readInt32BE=lv;function cv(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ve.readUint32BE=cv;function fv(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ve.readInt32LE=fv;function hv(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ve.readUint32LE=hv;function Tf(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ve.writeUint32BE=Tf;Ve.writeInt32BE=Tf;function Pf(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ve.writeUint32LE=Pf;Ve.writeInt32LE=Pf;function CT(t,e){e===void 0&&(e=0);var r=lv(t,e),n=lv(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ve.readInt64BE=CT;function MT(t,e){e===void 0&&(e=0);var r=cv(t,e),n=cv(t,e+4);return r*4294967296+n}Ve.readUint64BE=MT;function IT(t,e){e===void 0&&(e=0);var r=fv(t,e),n=fv(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ve.readInt64LE=IT;function TT(t,e){e===void 0&&(e=0);var r=hv(t,e),n=hv(t,e+4);return n*4294967296+r}Ve.readUint64LE=TT;function X3(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Tf(t/4294967296>>>0,e,r),Tf(t>>>0,e,r+4),e}Ve.writeUint64BE=X3;Ve.writeInt64BE=X3;function Q3(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Pf(t>>>0,e,r),Pf(t/4294967296>>>0,e,r+4),e}Ve.writeUint64LE=Q3;Ve.writeInt64LE=Q3;function PT(t,e,r){if(r===void 0&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=t/8+r-1;o>=r;o--)n+=e[o]*i,i*=256;return n}Ve.readUintBE=PT;function NT(t,e,r){if(r===void 0&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+t/8;o++)n+=e[o]*i,i*=256;return n}Ve.readUintLE=NT;function FT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!K3.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,o=t/8+n-1;o>=n;o--)r[o]=e/i&255,i*=256;return r}Ve.writeUintBE=FT;function OT(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!K3.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+t/8;o++)r[o]=e/i&255,i*=256;return r}Ve.writeUintLE=OT;function $T(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ve.readFloat32BE=$T;function LT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ve.readFloat32LE=LT;function RT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ve.readFloat64BE=RT;function BT(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ve.readFloat64LE=BT;function UT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ve.writeFloat32BE=UT;function jT(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ve.writeFloat32LE=jT;function zT(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ve.writeFloat64BE=zT;function qT(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ve.writeFloat64LE=qT;var on={};Object.defineProperty(on,"__esModule",{value:!0});function HT(t){for(var e=0;e<t.length;e++)t[e]=0;return t}on.wipe=HT;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ve,r=on;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},u.prototype.update=function(s,l){if(l===void 0&&(l=s.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var c=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=s[c++],l--;this._bufferLength===this.blockSize&&(o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(c=o(this._temp,this._state,s,c,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=s[c++],l--;return this},u.prototype.finish=function(s){if(!this._finished){var l=this._bytesHashed,c=this._bufferLength,h=l/536870912|0,v=l<<3,y=l%64<56?64:128;this._buffer[c]=128;for(var k=c+1;k<y-8;k++)this._buffer[k]=0;e.writeUint32BE(h,this._buffer,y-8),e.writeUint32BE(v,this._buffer,y-4),o(this._temp,this._state,this._buffer,0,y),this._finished=!0}for(var k=0;k<this.digestLength/4;k++)e.writeUint32BE(this._state[k],s,k*4);return this},u.prototype.digest=function(){var s=new Uint8Array(this.digestLength);return this.finish(s),s},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(s){return this._state.set(s.state),this._bufferLength=s.bufferLength,s.buffer&&this._buffer.set(s.buffer),this._bytesHashed=s.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(s){r.wipe(s.state),s.buffer&&r.wipe(s.buffer),s.bufferLength=0,s.bytesHashed=0},u}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function o(u,s,l,c,h){for(;h>=64;){for(var v=s[0],y=s[1],k=s[2],_=s[3],S=s[4],w=s[5],C=s[6],L=s[7],P=0;P<16;P++){var B=c+P*4;u[P]=e.readUint32BE(l,B)}for(var P=16;P<64;P++){var U=u[P-2],f=(U>>>17|U<<32-17)^(U>>>19|U<<32-19)^U>>>10;U=u[P-15];var D=(U>>>7|U<<32-7)^(U>>>18|U<<32-18)^U>>>3;u[P]=(f+u[P-7]|0)+(D+u[P-16]|0)}for(var P=0;P<64;P++){var f=(((S>>>6|S<<32-6)^(S>>>11|S<<32-11)^(S>>>25|S<<32-25))+(S&w^~S&C)|0)+(L+(i[P]+u[P]|0)|0)|0,D=((v>>>2|v<<32-2)^(v>>>13|v<<32-13)^(v>>>22|v<<32-22))+(v&y^v&k^y&k)|0;L=C,C=w,w=S,S=_+f|0,_=k,k=y,y=v,v=f+D|0}s[0]+=v,s[1]+=y,s[2]+=k,s[3]+=_,s[4]+=S,s[5]+=w,s[6]+=C,s[7]+=L,c+=64,h-=64}return c}function a(u){var s=new n;s.update(u);var l=s.digest();return s.clean(),l}t.hash=a})(yo);var dv={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=re:o&&(i=self);var u=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,s=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",l="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],v=[1,256,65536,16777216],y=[6,1536,393216,100663296],k=[0,8,16,24],_=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],S=[224,256,384,512],w=[128,256],C=["hex","buffer","arrayBuffer","array","digest"],L={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),s&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});for(var P=function(N,Z,q){return function(K){return new W(N,Z,N).update(K)[q]()}},B=function(N,Z,q){return function(K,H){return new W(N,Z,H).update(K)[q]()}},U=function(N,Z,q){return function(K,H,A,V){return m["cshake"+N].update(K,H,A,V)[q]()}},f=function(N,Z,q){return function(K,H,A,V){return m["kmac"+N].update(K,H,A,V)[q]()}},D=function(N,Z,q,K){for(var H=0;H<C.length;++H){var A=C[H];N[A]=Z(q,K,A)}return N},$=function(N,Z){var q=P(N,Z,"hex");return q.create=function(){return new W(N,Z,N)},q.update=function(K){return q.create().update(K)},D(q,P,N,Z)},G=function(N,Z){var q=B(N,Z,"hex");return q.create=function(K){return new W(N,Z,K)},q.update=function(K,H){return q.create(H).update(K)},D(q,B,N,Z)},O=function(N,Z){var q=L[N],K=U(N,Z,"hex");return K.create=function(H,A,V){return!A&&!V?m["shake"+N].create(H):new W(N,Z,H).bytepad([A,V],q)},K.update=function(H,A,V,ie){return K.create(A,V,ie).update(H)},D(K,U,N,Z)},p=function(N,Z){var q=L[N],K=f(N,Z,"hex");return K.create=function(H,A,V){return new Q(N,Z,A).bytepad(["KMAC",V],q).bytepad([H],q)},K.update=function(H,A,V,ie){return K.create(H,V,ie).update(A)},D(K,f,N,Z)},E=[{name:"keccak",padding:v,bits:S,createMethod:$},{name:"sha3",padding:y,bits:S,createMethod:$},{name:"shake",padding:c,bits:w,createMethod:G},{name:"cshake",padding:h,bits:w,createMethod:O},{name:"kmac",padding:h,bits:w,createMethod:p}],m={},g=[],M=0;M<E.length;++M)for(var R=E[M],x=R.bits,b=0;b<x.length;++b){var d=R.name+"_"+x[b];if(g.push(d),m[d]=R.createMethod(x[b],R.padding),R.name!=="sha3"){var I=R.name+x[b];g.push(I),m[I]=m[d]}}function W(N,Z,q){this.blocks=[],this.s=[],this.padding=Z,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(N<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var K=0;K<50;++K)this.s[K]=0}W.prototype.update=function(N){if(this.finalized)throw new Error(r);var Z,q=typeof N;if(q!=="string"){if(q==="object"){if(N===null)throw new Error(e);if(s&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!s||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);Z=!0}for(var K=this.blocks,H=this.byteCount,A=N.length,V=this.blockCount,ie=0,ce=this.s,he,ge;ie<A;){if(this.reset)for(this.reset=!1,K[0]=this.block,he=1;he<V+1;++he)K[he]=0;if(Z)for(he=this.start;ie<A&&he<H;++ie)K[he>>2]|=N[ie]<<k[he++&3];else for(he=this.start;ie<A&&he<H;++ie)ge=N.charCodeAt(ie),ge<128?K[he>>2]|=ge<<k[he++&3]:ge<2048?(K[he>>2]|=(192|ge>>6)<<k[he++&3],K[he>>2]|=(128|ge&63)<<k[he++&3]):ge<55296||ge>=57344?(K[he>>2]|=(224|ge>>12)<<k[he++&3],K[he>>2]|=(128|ge>>6&63)<<k[he++&3],K[he>>2]|=(128|ge&63)<<k[he++&3]):(ge=65536+((ge&1023)<<10|N.charCodeAt(++ie)&1023),K[he>>2]|=(240|ge>>18)<<k[he++&3],K[he>>2]|=(128|ge>>12&63)<<k[he++&3],K[he>>2]|=(128|ge>>6&63)<<k[he++&3],K[he>>2]|=(128|ge&63)<<k[he++&3]);if(this.lastByteIndex=he,he>=H){for(this.start=he-H,this.block=K[V],he=0;he<V;++he)ce[he]^=K[he];j(ce),this.reset=!0}else this.start=he}return this},W.prototype.encode=function(N,Z){var q=N&255,K=1,H=[q];for(N=N>>8,q=N&255;q>0;)H.unshift(q),N=N>>8,q=N&255,++K;return Z?H.push(K):H.unshift(K),this.update(H),H.length},W.prototype.encodeString=function(N){var Z,q=typeof N;if(q!=="string"){if(q==="object"){if(N===null)throw new Error(e);if(s&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!s||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);Z=!0}var K=0,H=N.length;if(Z)K=H;else for(var A=0;A<N.length;++A){var V=N.charCodeAt(A);V<128?K+=1:V<2048?K+=2:V<55296||V>=57344?K+=3:(V=65536+((V&1023)<<10|N.charCodeAt(++A)&1023),K+=4)}return K+=this.encode(K*8),this.update(N),K},W.prototype.bytepad=function(N,Z){for(var q=this.encode(Z),K=0;K<N.length;++K)q+=this.encodeString(N[K]);var H=Z-q%Z,A=[];return A.length=H,this.update(A),this},W.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,Z=this.lastByteIndex,q=this.blockCount,K=this.s;if(N[Z>>2]|=this.padding[Z&3],this.lastByteIndex===this.byteCount)for(N[0]=N[q],Z=1;Z<q+1;++Z)N[Z]=0;for(N[q-1]|=2147483648,Z=0;Z<q;++Z)K[Z]^=N[Z];j(K)}},W.prototype.toString=W.prototype.hex=function(){this.finalize();for(var N=this.blockCount,Z=this.s,q=this.outputBlocks,K=this.extraBytes,H=0,A=0,V="",ie;A<q;){for(H=0;H<N&&A<q;++H,++A)ie=Z[H],V+=l[ie>>4&15]+l[ie&15]+l[ie>>12&15]+l[ie>>8&15]+l[ie>>20&15]+l[ie>>16&15]+l[ie>>28&15]+l[ie>>24&15];A%N==0&&(j(Z),H=0)}return K&&(ie=Z[H],V+=l[ie>>4&15]+l[ie&15],K>1&&(V+=l[ie>>12&15]+l[ie>>8&15]),K>2&&(V+=l[ie>>20&15]+l[ie>>16&15])),V},W.prototype.arrayBuffer=function(){this.finalize();var N=this.blockCount,Z=this.s,q=this.outputBlocks,K=this.extraBytes,H=0,A=0,V=this.outputBits>>3,ie;K?ie=new ArrayBuffer(q+1<<2):ie=new ArrayBuffer(V);for(var ce=new Uint32Array(ie);A<q;){for(H=0;H<N&&A<q;++H,++A)ce[A]=Z[H];A%N==0&&j(Z)}return K&&(ce[H]=Z[H],ie=ie.slice(0,V)),ie},W.prototype.buffer=W.prototype.arrayBuffer,W.prototype.digest=W.prototype.array=function(){this.finalize();for(var N=this.blockCount,Z=this.s,q=this.outputBlocks,K=this.extraBytes,H=0,A=0,V=[],ie,ce;A<q;){for(H=0;H<N&&A<q;++H,++A)ie=A<<2,ce=Z[H],V[ie]=ce&255,V[ie+1]=ce>>8&255,V[ie+2]=ce>>16&255,V[ie+3]=ce>>24&255;A%N==0&&j(Z)}return K&&(ie=A<<2,ce=Z[H],V[ie]=ce&255,K>1&&(V[ie+1]=ce>>8&255),K>2&&(V[ie+2]=ce>>16&255)),V};function Q(N,Z,q){W.call(this,N,Z,q)}Q.prototype=new W,Q.prototype.finalize=function(){return this.encode(this.outputBits,!0),W.prototype.finalize.call(this)};var j=function(N){var Z,q,K,H,A,V,ie,ce,he,ge,z,T,F,J,te,ne,ae,ye,pe,oe,fe,le,me,Ne,Ce,Ie,Ze,xe,Pe,nt,it,rt,Nt,Te,at,or,ut,Le,yt,Fe,He,Et,Re,Be,Oe,We,Ge,St,Ue,je,st,ze,Ae,Ln,mt,gt,ar,cn,fn,hn,dn,ot,ur;for(K=0;K<48;K+=2)H=N[0]^N[10]^N[20]^N[30]^N[40],A=N[1]^N[11]^N[21]^N[31]^N[41],V=N[2]^N[12]^N[22]^N[32]^N[42],ie=N[3]^N[13]^N[23]^N[33]^N[43],ce=N[4]^N[14]^N[24]^N[34]^N[44],he=N[5]^N[15]^N[25]^N[35]^N[45],ge=N[6]^N[16]^N[26]^N[36]^N[46],z=N[7]^N[17]^N[27]^N[37]^N[47],T=N[8]^N[18]^N[28]^N[38]^N[48],F=N[9]^N[19]^N[29]^N[39]^N[49],Z=T^(V<<1|ie>>>31),q=F^(ie<<1|V>>>31),N[0]^=Z,N[1]^=q,N[10]^=Z,N[11]^=q,N[20]^=Z,N[21]^=q,N[30]^=Z,N[31]^=q,N[40]^=Z,N[41]^=q,Z=H^(ce<<1|he>>>31),q=A^(he<<1|ce>>>31),N[2]^=Z,N[3]^=q,N[12]^=Z,N[13]^=q,N[22]^=Z,N[23]^=q,N[32]^=Z,N[33]^=q,N[42]^=Z,N[43]^=q,Z=V^(ge<<1|z>>>31),q=ie^(z<<1|ge>>>31),N[4]^=Z,N[5]^=q,N[14]^=Z,N[15]^=q,N[24]^=Z,N[25]^=q,N[34]^=Z,N[35]^=q,N[44]^=Z,N[45]^=q,Z=ce^(T<<1|F>>>31),q=he^(F<<1|T>>>31),N[6]^=Z,N[7]^=q,N[16]^=Z,N[17]^=q,N[26]^=Z,N[27]^=q,N[36]^=Z,N[37]^=q,N[46]^=Z,N[47]^=q,Z=ge^(H<<1|A>>>31),q=z^(A<<1|H>>>31),N[8]^=Z,N[9]^=q,N[18]^=Z,N[19]^=q,N[28]^=Z,N[29]^=q,N[38]^=Z,N[39]^=q,N[48]^=Z,N[49]^=q,J=N[0],te=N[1],We=N[11]<<4|N[10]>>>28,Ge=N[10]<<4|N[11]>>>28,xe=N[20]<<3|N[21]>>>29,Pe=N[21]<<3|N[20]>>>29,hn=N[31]<<9|N[30]>>>23,dn=N[30]<<9|N[31]>>>23,Et=N[40]<<18|N[41]>>>14,Re=N[41]<<18|N[40]>>>14,Te=N[2]<<1|N[3]>>>31,at=N[3]<<1|N[2]>>>31,ne=N[13]<<12|N[12]>>>20,ae=N[12]<<12|N[13]>>>20,St=N[22]<<10|N[23]>>>22,Ue=N[23]<<10|N[22]>>>22,nt=N[33]<<13|N[32]>>>19,it=N[32]<<13|N[33]>>>19,ot=N[42]<<2|N[43]>>>30,ur=N[43]<<2|N[42]>>>30,Ln=N[5]<<30|N[4]>>>2,mt=N[4]<<30|N[5]>>>2,or=N[14]<<6|N[15]>>>26,ut=N[15]<<6|N[14]>>>26,ye=N[25]<<11|N[24]>>>21,pe=N[24]<<11|N[25]>>>21,je=N[34]<<15|N[35]>>>17,st=N[35]<<15|N[34]>>>17,rt=N[45]<<29|N[44]>>>3,Nt=N[44]<<29|N[45]>>>3,Ne=N[6]<<28|N[7]>>>4,Ce=N[7]<<28|N[6]>>>4,gt=N[17]<<23|N[16]>>>9,ar=N[16]<<23|N[17]>>>9,Le=N[26]<<25|N[27]>>>7,yt=N[27]<<25|N[26]>>>7,oe=N[36]<<21|N[37]>>>11,fe=N[37]<<21|N[36]>>>11,ze=N[47]<<24|N[46]>>>8,Ae=N[46]<<24|N[47]>>>8,Be=N[8]<<27|N[9]>>>5,Oe=N[9]<<27|N[8]>>>5,Ie=N[18]<<20|N[19]>>>12,Ze=N[19]<<20|N[18]>>>12,cn=N[29]<<7|N[28]>>>25,fn=N[28]<<7|N[29]>>>25,Fe=N[38]<<8|N[39]>>>24,He=N[39]<<8|N[38]>>>24,le=N[48]<<14|N[49]>>>18,me=N[49]<<14|N[48]>>>18,N[0]=J^~ne&ye,N[1]=te^~ae&pe,N[10]=Ne^~Ie&xe,N[11]=Ce^~Ze&Pe,N[20]=Te^~or&Le,N[21]=at^~ut&yt,N[30]=Be^~We&St,N[31]=Oe^~Ge&Ue,N[40]=Ln^~gt&cn,N[41]=mt^~ar&fn,N[2]=ne^~ye&oe,N[3]=ae^~pe&fe,N[12]=Ie^~xe&nt,N[13]=Ze^~Pe&it,N[22]=or^~Le&Fe,N[23]=ut^~yt&He,N[32]=We^~St&je,N[33]=Ge^~Ue&st,N[42]=gt^~cn&hn,N[43]=ar^~fn&dn,N[4]=ye^~oe&le,N[5]=pe^~fe&me,N[14]=xe^~nt&rt,N[15]=Pe^~it&Nt,N[24]=Le^~Fe&Et,N[25]=yt^~He&Re,N[34]=St^~je&ze,N[35]=Ue^~st&Ae,N[44]=cn^~hn&ot,N[45]=fn^~dn&ur,N[6]=oe^~le&J,N[7]=fe^~me&te,N[16]=nt^~rt&Ne,N[17]=it^~Nt&Ce,N[26]=Fe^~Et&Te,N[27]=He^~Re&at,N[36]=je^~ze&Be,N[37]=st^~Ae&Oe,N[46]=hn^~ot&Ln,N[47]=dn^~ur&mt,N[8]=le^~J&ne,N[9]=me^~te&ae,N[18]=rt^~Ne&Ie,N[19]=Nt^~Ce&Ze,N[28]=Et^~Te&or,N[29]=Re^~at&ut,N[38]=ze^~Be&We,N[39]=Ae^~Oe&Ge,N[48]=ot^~Ln&gt,N[49]=ur^~mt&ar,N[0]^=_[K],N[1]^=_[K+1]};if(u)t.exports=m;else for(M=0;M<g.length;++M)i[g[M]]=m[g[M]]})()})(dv);var pv={};const WT="elliptic",GT="6.5.4",VT="EC cryptography",KT="lib/elliptic.js",JT=["lib"],YT={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},XT={type:"git",url:"git@github.com:indutny/elliptic"},QT=["EC","Elliptic","curve","Cryptography"],ZT="Fedor Indutny <fedor@indutny.com>",eP="MIT",tP={url:"https://github.com/indutny/elliptic/issues"},rP="https://github.com/indutny/elliptic",nP={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},iP={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var oP={name:WT,version:GT,description:VT,main:KT,files:JT,scripts:YT,repository:XT,keywords:QT,author:ZT,license:eP,bugs:tP,homepage:rP,devDependencies:nP,dependencies:iP},an={},ai={exports:{}};(function(t){(function(e,r){function n(O,p){if(!O)throw new Error(p||"Assertion failed")}function i(O,p){O.super_=p;var E=function(){};E.prototype=p.prototype,O.prototype=new E,O.prototype.constructor=O}function o(O,p,E){if(o.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((p==="le"||p==="be")&&(E=p,p=10),this._init(O||0,p||10,E||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var a;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?a=window.Buffer:a=require("buffer").Buffer}catch{}o.isBN=function(p){return p instanceof o?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===o.wordSize&&Array.isArray(p.words)},o.max=function(p,E){return p.cmp(E)>0?p:E},o.min=function(p,E){return p.cmp(E)<0?p:E},o.prototype._init=function(p,E,m){if(typeof p=="number")return this._initNumber(p,E,m);if(typeof p=="object")return this._initArray(p,E,m);E==="hex"&&(E=16),n(E===(E|0)&&E>=2&&E<=36),p=p.toString().replace(/\s+/g,"");var g=0;p[0]==="-"&&(g++,this.negative=1),g<p.length&&(E===16?this._parseHex(p,g,m):(this._parseBase(p,E,g),m==="le"&&this._initArray(this.toArray(),E,m)))},o.prototype._initNumber=function(p,E,m){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),E,m)},o.prototype._initArray=function(p,E,m){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M,R,x=0;if(m==="be")for(g=p.length-1,M=0;g>=0;g-=3)R=p[g]|p[g-1]<<8|p[g-2]<<16,this.words[M]|=R<<x&67108863,this.words[M+1]=R>>>26-x&67108863,x+=24,x>=26&&(x-=26,M++);else if(m==="le")for(g=0,M=0;g<p.length;g+=3)R=p[g]|p[g+1]<<8|p[g+2]<<16,this.words[M]|=R<<x&67108863,this.words[M+1]=R>>>26-x&67108863,x+=24,x>=26&&(x-=26,M++);return this.strip()};function u(O,p){var E=O.charCodeAt(p);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function s(O,p,E){var m=u(O,E);return E-1>=p&&(m|=u(O,E-1)<<4),m}o.prototype._parseHex=function(p,E,m){this.length=Math.ceil((p.length-E)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var M=0,R=0,x;if(m==="be")for(g=p.length-1;g>=E;g-=2)x=s(p,E,g)<<M,this.words[R]|=x&67108863,M>=18?(M-=18,R+=1,this.words[R]|=x>>>26):M+=8;else{var b=p.length-E;for(g=b%2==0?E+1:E;g<p.length;g+=2)x=s(p,E,g)<<M,this.words[R]|=x&67108863,M>=18?(M-=18,R+=1,this.words[R]|=x>>>26):M+=8}this.strip()};function l(O,p,E,m){for(var g=0,M=Math.min(O.length,E),R=p;R<M;R++){var x=O.charCodeAt(R)-48;g*=m,x>=49?g+=x-49+10:x>=17?g+=x-17+10:g+=x}return g}o.prototype._parseBase=function(p,E,m){this.words=[0],this.length=1;for(var g=0,M=1;M<=67108863;M*=E)g++;g--,M=M/E|0;for(var R=p.length-m,x=R%g,b=Math.min(R,R-x)+m,d=0,I=m;I<b;I+=g)d=l(p,I,I+g,E),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(x!==0){var W=1;for(d=l(p,I,p.length,E),I=0;I<x;I++)W*=E;this.imuln(W),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},o.prototype.copy=function(p){p.words=new Array(this.length);for(var E=0;E<this.length;E++)p.words[E]=this.words[E];p.length=this.length,p.negative=this.negative,p.red=this.red},o.prototype.clone=function(){var p=new o(null);return this.copy(p),p},o.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(p,E){p=p||10,E=E|0||1;var m;if(p===16||p==="hex"){m="";for(var g=0,M=0,R=0;R<this.length;R++){var x=this.words[R],b=((x<<g|M)&16777215).toString(16);M=x>>>24-g&16777215,M!==0||R!==this.length-1?m=c[6-b.length]+b+m:m=b+m,g+=2,g>=26&&(g-=26,R--)}for(M!==0&&(m=M.toString(16)+m);m.length%E!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(p===(p|0)&&p>=2&&p<=36){var d=h[p],I=v[p];m="";var W=this.clone();for(W.negative=0;!W.isZero();){var Q=W.modn(I).toString(p);W=W.idivn(I),W.isZero()?m=Q+m:m=c[d-Q.length]+Q+m}for(this.isZero()&&(m="0"+m);m.length%E!=0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(p,E){return n(typeof a!="undefined"),this.toArrayLike(a,p,E)},o.prototype.toArray=function(p,E){return this.toArrayLike(Array,p,E)},o.prototype.toArrayLike=function(p,E,m){var g=this.byteLength(),M=m||Math.max(1,g);n(g<=M,"byte array longer than desired length"),n(M>0,"Requested array length <= 0"),this.strip();var R=E==="le",x=new p(M),b,d,I=this.clone();if(R){for(d=0;!I.isZero();d++)b=I.andln(255),I.iushrn(8),x[d]=b;for(;d<M;d++)x[d]=0}else{for(d=0;d<M-g;d++)x[d]=0;for(d=0;!I.isZero();d++)b=I.andln(255),I.iushrn(8),x[M-d-1]=b}return x},Math.clz32?o.prototype._countBits=function(p){return 32-Math.clz32(p)}:o.prototype._countBits=function(p){var E=p,m=0;return E>=4096&&(m+=13,E>>>=13),E>=64&&(m+=7,E>>>=7),E>=8&&(m+=4,E>>>=4),E>=2&&(m+=2,E>>>=2),m+E},o.prototype._zeroBits=function(p){if(p===0)return 26;var E=p,m=0;return(E&8191)==0&&(m+=13,E>>>=13),(E&127)==0&&(m+=7,E>>>=7),(E&15)==0&&(m+=4,E>>>=4),(E&3)==0&&(m+=2,E>>>=2),(E&1)==0&&m++,m},o.prototype.bitLength=function(){var p=this.words[this.length-1],E=this._countBits(p);return(this.length-1)*26+E};function y(O){for(var p=new Array(O.bitLength()),E=0;E<p.length;E++){var m=E/26|0,g=E%26;p[E]=(O.words[m]&1<<g)>>>g}return p}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,E=0;E<this.length;E++){var m=this._zeroBits(this.words[E]);if(p+=m,m!==26)break}return p},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},o.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var E=0;E<p.length;E++)this.words[E]=this.words[E]|p.words[E];return this.strip()},o.prototype.ior=function(p){return n((this.negative|p.negative)==0),this.iuor(p)},o.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},o.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},o.prototype.iuand=function(p){var E;this.length>p.length?E=p:E=this;for(var m=0;m<E.length;m++)this.words[m]=this.words[m]&p.words[m];return this.length=E.length,this.strip()},o.prototype.iand=function(p){return n((this.negative|p.negative)==0),this.iuand(p)},o.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},o.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},o.prototype.iuxor=function(p){var E,m;this.length>p.length?(E=this,m=p):(E=p,m=this);for(var g=0;g<m.length;g++)this.words[g]=E.words[g]^m.words[g];if(this!==E)for(;g<E.length;g++)this.words[g]=E.words[g];return this.length=E.length,this.strip()},o.prototype.ixor=function(p){return n((this.negative|p.negative)==0),this.iuxor(p)},o.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},o.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},o.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var E=Math.ceil(p/26)|0,m=p%26;this._expand(E),m>0&&E--;for(var g=0;g<E;g++)this.words[g]=~this.words[g]&67108863;return m>0&&(this.words[g]=~this.words[g]&67108863>>26-m),this.strip()},o.prototype.notn=function(p){return this.clone().inotn(p)},o.prototype.setn=function(p,E){n(typeof p=="number"&&p>=0);var m=p/26|0,g=p%26;return this._expand(m+1),E?this.words[m]=this.words[m]|1<<g:this.words[m]=this.words[m]&~(1<<g),this.strip()},o.prototype.iadd=function(p){var E;if(this.negative!==0&&p.negative===0)return this.negative=0,E=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,E=this.isub(p),p.negative=1,E._normSign();var m,g;this.length>p.length?(m=this,g=p):(m=p,g=this);for(var M=0,R=0;R<g.length;R++)E=(m.words[R]|0)+(g.words[R]|0)+M,this.words[R]=E&67108863,M=E>>>26;for(;M!==0&&R<m.length;R++)E=(m.words[R]|0)+M,this.words[R]=E&67108863,M=E>>>26;if(this.length=m.length,M!==0)this.words[this.length]=M,this.length++;else if(m!==this)for(;R<m.length;R++)this.words[R]=m.words[R];return this},o.prototype.add=function(p){var E;return p.negative!==0&&this.negative===0?(p.negative=0,E=this.sub(p),p.negative^=1,E):p.negative===0&&this.negative!==0?(this.negative=0,E=p.sub(this),this.negative=1,E):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},o.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var E=this.iadd(p);return p.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var m=this.cmp(p);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,M;m>0?(g=this,M=p):(g=p,M=this);for(var R=0,x=0;x<M.length;x++)E=(g.words[x]|0)-(M.words[x]|0)+R,R=E>>26,this.words[x]=E&67108863;for(;R!==0&&x<g.length;x++)E=(g.words[x]|0)+R,R=E>>26,this.words[x]=E&67108863;if(R===0&&x<g.length&&g!==this)for(;x<g.length;x++)this.words[x]=g.words[x];return this.length=Math.max(this.length,x),g!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(p){return this.clone().isub(p)};function k(O,p,E){E.negative=p.negative^O.negative;var m=O.length+p.length|0;E.length=m,m=m-1|0;var g=O.words[0]|0,M=p.words[0]|0,R=g*M,x=R&67108863,b=R/67108864|0;E.words[0]=x;for(var d=1;d<m;d++){for(var I=b>>>26,W=b&67108863,Q=Math.min(d,p.length-1),j=Math.max(0,d-O.length+1);j<=Q;j++){var N=d-j|0;g=O.words[N]|0,M=p.words[j]|0,R=g*M+W,I+=R/67108864|0,W=R&67108863}E.words[d]=W|0,b=I|0}return b!==0?E.words[d]=b|0:E.length--,E.strip()}var _=function(p,E,m){var g=p.words,M=E.words,R=m.words,x=0,b,d,I,W=g[0]|0,Q=W&8191,j=W>>>13,N=g[1]|0,Z=N&8191,q=N>>>13,K=g[2]|0,H=K&8191,A=K>>>13,V=g[3]|0,ie=V&8191,ce=V>>>13,he=g[4]|0,ge=he&8191,z=he>>>13,T=g[5]|0,F=T&8191,J=T>>>13,te=g[6]|0,ne=te&8191,ae=te>>>13,ye=g[7]|0,pe=ye&8191,oe=ye>>>13,fe=g[8]|0,le=fe&8191,me=fe>>>13,Ne=g[9]|0,Ce=Ne&8191,Ie=Ne>>>13,Ze=M[0]|0,xe=Ze&8191,Pe=Ze>>>13,nt=M[1]|0,it=nt&8191,rt=nt>>>13,Nt=M[2]|0,Te=Nt&8191,at=Nt>>>13,or=M[3]|0,ut=or&8191,Le=or>>>13,yt=M[4]|0,Fe=yt&8191,He=yt>>>13,Et=M[5]|0,Re=Et&8191,Be=Et>>>13,Oe=M[6]|0,We=Oe&8191,Ge=Oe>>>13,St=M[7]|0,Ue=St&8191,je=St>>>13,st=M[8]|0,ze=st&8191,Ae=st>>>13,Ln=M[9]|0,mt=Ln&8191,gt=Ln>>>13;m.negative=p.negative^E.negative,m.length=19,b=Math.imul(Q,xe),d=Math.imul(Q,Pe),d=d+Math.imul(j,xe)|0,I=Math.imul(j,Pe);var ar=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(ar>>>26)|0,ar&=67108863,b=Math.imul(Z,xe),d=Math.imul(Z,Pe),d=d+Math.imul(q,xe)|0,I=Math.imul(q,Pe),b=b+Math.imul(Q,it)|0,d=d+Math.imul(Q,rt)|0,d=d+Math.imul(j,it)|0,I=I+Math.imul(j,rt)|0;var cn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(cn>>>26)|0,cn&=67108863,b=Math.imul(H,xe),d=Math.imul(H,Pe),d=d+Math.imul(A,xe)|0,I=Math.imul(A,Pe),b=b+Math.imul(Z,it)|0,d=d+Math.imul(Z,rt)|0,d=d+Math.imul(q,it)|0,I=I+Math.imul(q,rt)|0,b=b+Math.imul(Q,Te)|0,d=d+Math.imul(Q,at)|0,d=d+Math.imul(j,Te)|0,I=I+Math.imul(j,at)|0;var fn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(fn>>>26)|0,fn&=67108863,b=Math.imul(ie,xe),d=Math.imul(ie,Pe),d=d+Math.imul(ce,xe)|0,I=Math.imul(ce,Pe),b=b+Math.imul(H,it)|0,d=d+Math.imul(H,rt)|0,d=d+Math.imul(A,it)|0,I=I+Math.imul(A,rt)|0,b=b+Math.imul(Z,Te)|0,d=d+Math.imul(Z,at)|0,d=d+Math.imul(q,Te)|0,I=I+Math.imul(q,at)|0,b=b+Math.imul(Q,ut)|0,d=d+Math.imul(Q,Le)|0,d=d+Math.imul(j,ut)|0,I=I+Math.imul(j,Le)|0;var hn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(hn>>>26)|0,hn&=67108863,b=Math.imul(ge,xe),d=Math.imul(ge,Pe),d=d+Math.imul(z,xe)|0,I=Math.imul(z,Pe),b=b+Math.imul(ie,it)|0,d=d+Math.imul(ie,rt)|0,d=d+Math.imul(ce,it)|0,I=I+Math.imul(ce,rt)|0,b=b+Math.imul(H,Te)|0,d=d+Math.imul(H,at)|0,d=d+Math.imul(A,Te)|0,I=I+Math.imul(A,at)|0,b=b+Math.imul(Z,ut)|0,d=d+Math.imul(Z,Le)|0,d=d+Math.imul(q,ut)|0,I=I+Math.imul(q,Le)|0,b=b+Math.imul(Q,Fe)|0,d=d+Math.imul(Q,He)|0,d=d+Math.imul(j,Fe)|0,I=I+Math.imul(j,He)|0;var dn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(dn>>>26)|0,dn&=67108863,b=Math.imul(F,xe),d=Math.imul(F,Pe),d=d+Math.imul(J,xe)|0,I=Math.imul(J,Pe),b=b+Math.imul(ge,it)|0,d=d+Math.imul(ge,rt)|0,d=d+Math.imul(z,it)|0,I=I+Math.imul(z,rt)|0,b=b+Math.imul(ie,Te)|0,d=d+Math.imul(ie,at)|0,d=d+Math.imul(ce,Te)|0,I=I+Math.imul(ce,at)|0,b=b+Math.imul(H,ut)|0,d=d+Math.imul(H,Le)|0,d=d+Math.imul(A,ut)|0,I=I+Math.imul(A,Le)|0,b=b+Math.imul(Z,Fe)|0,d=d+Math.imul(Z,He)|0,d=d+Math.imul(q,Fe)|0,I=I+Math.imul(q,He)|0,b=b+Math.imul(Q,Re)|0,d=d+Math.imul(Q,Be)|0,d=d+Math.imul(j,Re)|0,I=I+Math.imul(j,Be)|0;var ot=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(ot>>>26)|0,ot&=67108863,b=Math.imul(ne,xe),d=Math.imul(ne,Pe),d=d+Math.imul(ae,xe)|0,I=Math.imul(ae,Pe),b=b+Math.imul(F,it)|0,d=d+Math.imul(F,rt)|0,d=d+Math.imul(J,it)|0,I=I+Math.imul(J,rt)|0,b=b+Math.imul(ge,Te)|0,d=d+Math.imul(ge,at)|0,d=d+Math.imul(z,Te)|0,I=I+Math.imul(z,at)|0,b=b+Math.imul(ie,ut)|0,d=d+Math.imul(ie,Le)|0,d=d+Math.imul(ce,ut)|0,I=I+Math.imul(ce,Le)|0,b=b+Math.imul(H,Fe)|0,d=d+Math.imul(H,He)|0,d=d+Math.imul(A,Fe)|0,I=I+Math.imul(A,He)|0,b=b+Math.imul(Z,Re)|0,d=d+Math.imul(Z,Be)|0,d=d+Math.imul(q,Re)|0,I=I+Math.imul(q,Be)|0,b=b+Math.imul(Q,We)|0,d=d+Math.imul(Q,Ge)|0,d=d+Math.imul(j,We)|0,I=I+Math.imul(j,Ge)|0;var ur=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(ur>>>26)|0,ur&=67108863,b=Math.imul(pe,xe),d=Math.imul(pe,Pe),d=d+Math.imul(oe,xe)|0,I=Math.imul(oe,Pe),b=b+Math.imul(ne,it)|0,d=d+Math.imul(ne,rt)|0,d=d+Math.imul(ae,it)|0,I=I+Math.imul(ae,rt)|0,b=b+Math.imul(F,Te)|0,d=d+Math.imul(F,at)|0,d=d+Math.imul(J,Te)|0,I=I+Math.imul(J,at)|0,b=b+Math.imul(ge,ut)|0,d=d+Math.imul(ge,Le)|0,d=d+Math.imul(z,ut)|0,I=I+Math.imul(z,Le)|0,b=b+Math.imul(ie,Fe)|0,d=d+Math.imul(ie,He)|0,d=d+Math.imul(ce,Fe)|0,I=I+Math.imul(ce,He)|0,b=b+Math.imul(H,Re)|0,d=d+Math.imul(H,Be)|0,d=d+Math.imul(A,Re)|0,I=I+Math.imul(A,Be)|0,b=b+Math.imul(Z,We)|0,d=d+Math.imul(Z,Ge)|0,d=d+Math.imul(q,We)|0,I=I+Math.imul(q,Ge)|0,b=b+Math.imul(Q,Ue)|0,d=d+Math.imul(Q,je)|0,d=d+Math.imul(j,Ue)|0,I=I+Math.imul(j,je)|0;var Oo=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(Oo>>>26)|0,Oo&=67108863,b=Math.imul(le,xe),d=Math.imul(le,Pe),d=d+Math.imul(me,xe)|0,I=Math.imul(me,Pe),b=b+Math.imul(pe,it)|0,d=d+Math.imul(pe,rt)|0,d=d+Math.imul(oe,it)|0,I=I+Math.imul(oe,rt)|0,b=b+Math.imul(ne,Te)|0,d=d+Math.imul(ne,at)|0,d=d+Math.imul(ae,Te)|0,I=I+Math.imul(ae,at)|0,b=b+Math.imul(F,ut)|0,d=d+Math.imul(F,Le)|0,d=d+Math.imul(J,ut)|0,I=I+Math.imul(J,Le)|0,b=b+Math.imul(ge,Fe)|0,d=d+Math.imul(ge,He)|0,d=d+Math.imul(z,Fe)|0,I=I+Math.imul(z,He)|0,b=b+Math.imul(ie,Re)|0,d=d+Math.imul(ie,Be)|0,d=d+Math.imul(ce,Re)|0,I=I+Math.imul(ce,Be)|0,b=b+Math.imul(H,We)|0,d=d+Math.imul(H,Ge)|0,d=d+Math.imul(A,We)|0,I=I+Math.imul(A,Ge)|0,b=b+Math.imul(Z,Ue)|0,d=d+Math.imul(Z,je)|0,d=d+Math.imul(q,Ue)|0,I=I+Math.imul(q,je)|0,b=b+Math.imul(Q,ze)|0,d=d+Math.imul(Q,Ae)|0,d=d+Math.imul(j,ze)|0,I=I+Math.imul(j,Ae)|0;var ee=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(ee>>>26)|0,ee&=67108863,b=Math.imul(Ce,xe),d=Math.imul(Ce,Pe),d=d+Math.imul(Ie,xe)|0,I=Math.imul(Ie,Pe),b=b+Math.imul(le,it)|0,d=d+Math.imul(le,rt)|0,d=d+Math.imul(me,it)|0,I=I+Math.imul(me,rt)|0,b=b+Math.imul(pe,Te)|0,d=d+Math.imul(pe,at)|0,d=d+Math.imul(oe,Te)|0,I=I+Math.imul(oe,at)|0,b=b+Math.imul(ne,ut)|0,d=d+Math.imul(ne,Le)|0,d=d+Math.imul(ae,ut)|0,I=I+Math.imul(ae,Le)|0,b=b+Math.imul(F,Fe)|0,d=d+Math.imul(F,He)|0,d=d+Math.imul(J,Fe)|0,I=I+Math.imul(J,He)|0,b=b+Math.imul(ge,Re)|0,d=d+Math.imul(ge,Be)|0,d=d+Math.imul(z,Re)|0,I=I+Math.imul(z,Be)|0,b=b+Math.imul(ie,We)|0,d=d+Math.imul(ie,Ge)|0,d=d+Math.imul(ce,We)|0,I=I+Math.imul(ce,Ge)|0,b=b+Math.imul(H,Ue)|0,d=d+Math.imul(H,je)|0,d=d+Math.imul(A,Ue)|0,I=I+Math.imul(A,je)|0,b=b+Math.imul(Z,ze)|0,d=d+Math.imul(Z,Ae)|0,d=d+Math.imul(q,ze)|0,I=I+Math.imul(q,Ae)|0,b=b+Math.imul(Q,mt)|0,d=d+Math.imul(Q,gt)|0,d=d+Math.imul(j,mt)|0,I=I+Math.imul(j,gt)|0;var et=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(et>>>26)|0,et&=67108863,b=Math.imul(Ce,it),d=Math.imul(Ce,rt),d=d+Math.imul(Ie,it)|0,I=Math.imul(Ie,rt),b=b+Math.imul(le,Te)|0,d=d+Math.imul(le,at)|0,d=d+Math.imul(me,Te)|0,I=I+Math.imul(me,at)|0,b=b+Math.imul(pe,ut)|0,d=d+Math.imul(pe,Le)|0,d=d+Math.imul(oe,ut)|0,I=I+Math.imul(oe,Le)|0,b=b+Math.imul(ne,Fe)|0,d=d+Math.imul(ne,He)|0,d=d+Math.imul(ae,Fe)|0,I=I+Math.imul(ae,He)|0,b=b+Math.imul(F,Re)|0,d=d+Math.imul(F,Be)|0,d=d+Math.imul(J,Re)|0,I=I+Math.imul(J,Be)|0,b=b+Math.imul(ge,We)|0,d=d+Math.imul(ge,Ge)|0,d=d+Math.imul(z,We)|0,I=I+Math.imul(z,Ge)|0,b=b+Math.imul(ie,Ue)|0,d=d+Math.imul(ie,je)|0,d=d+Math.imul(ce,Ue)|0,I=I+Math.imul(ce,je)|0,b=b+Math.imul(H,ze)|0,d=d+Math.imul(H,Ae)|0,d=d+Math.imul(A,ze)|0,I=I+Math.imul(A,Ae)|0,b=b+Math.imul(Z,mt)|0,d=d+Math.imul(Z,gt)|0,d=d+Math.imul(q,mt)|0,I=I+Math.imul(q,gt)|0;var tt=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(tt>>>26)|0,tt&=67108863,b=Math.imul(Ce,Te),d=Math.imul(Ce,at),d=d+Math.imul(Ie,Te)|0,I=Math.imul(Ie,at),b=b+Math.imul(le,ut)|0,d=d+Math.imul(le,Le)|0,d=d+Math.imul(me,ut)|0,I=I+Math.imul(me,Le)|0,b=b+Math.imul(pe,Fe)|0,d=d+Math.imul(pe,He)|0,d=d+Math.imul(oe,Fe)|0,I=I+Math.imul(oe,He)|0,b=b+Math.imul(ne,Re)|0,d=d+Math.imul(ne,Be)|0,d=d+Math.imul(ae,Re)|0,I=I+Math.imul(ae,Be)|0,b=b+Math.imul(F,We)|0,d=d+Math.imul(F,Ge)|0,d=d+Math.imul(J,We)|0,I=I+Math.imul(J,Ge)|0,b=b+Math.imul(ge,Ue)|0,d=d+Math.imul(ge,je)|0,d=d+Math.imul(z,Ue)|0,I=I+Math.imul(z,je)|0,b=b+Math.imul(ie,ze)|0,d=d+Math.imul(ie,Ae)|0,d=d+Math.imul(ce,ze)|0,I=I+Math.imul(ce,Ae)|0,b=b+Math.imul(H,mt)|0,d=d+Math.imul(H,gt)|0,d=d+Math.imul(A,mt)|0,I=I+Math.imul(A,gt)|0;var Xe=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b=Math.imul(Ce,ut),d=Math.imul(Ce,Le),d=d+Math.imul(Ie,ut)|0,I=Math.imul(Ie,Le),b=b+Math.imul(le,Fe)|0,d=d+Math.imul(le,He)|0,d=d+Math.imul(me,Fe)|0,I=I+Math.imul(me,He)|0,b=b+Math.imul(pe,Re)|0,d=d+Math.imul(pe,Be)|0,d=d+Math.imul(oe,Re)|0,I=I+Math.imul(oe,Be)|0,b=b+Math.imul(ne,We)|0,d=d+Math.imul(ne,Ge)|0,d=d+Math.imul(ae,We)|0,I=I+Math.imul(ae,Ge)|0,b=b+Math.imul(F,Ue)|0,d=d+Math.imul(F,je)|0,d=d+Math.imul(J,Ue)|0,I=I+Math.imul(J,je)|0,b=b+Math.imul(ge,ze)|0,d=d+Math.imul(ge,Ae)|0,d=d+Math.imul(z,ze)|0,I=I+Math.imul(z,Ae)|0,b=b+Math.imul(ie,mt)|0,d=d+Math.imul(ie,gt)|0,d=d+Math.imul(ce,mt)|0,I=I+Math.imul(ce,gt)|0;var Xn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,b=Math.imul(Ce,Fe),d=Math.imul(Ce,He),d=d+Math.imul(Ie,Fe)|0,I=Math.imul(Ie,He),b=b+Math.imul(le,Re)|0,d=d+Math.imul(le,Be)|0,d=d+Math.imul(me,Re)|0,I=I+Math.imul(me,Be)|0,b=b+Math.imul(pe,We)|0,d=d+Math.imul(pe,Ge)|0,d=d+Math.imul(oe,We)|0,I=I+Math.imul(oe,Ge)|0,b=b+Math.imul(ne,Ue)|0,d=d+Math.imul(ne,je)|0,d=d+Math.imul(ae,Ue)|0,I=I+Math.imul(ae,je)|0,b=b+Math.imul(F,ze)|0,d=d+Math.imul(F,Ae)|0,d=d+Math.imul(J,ze)|0,I=I+Math.imul(J,Ae)|0,b=b+Math.imul(ge,mt)|0,d=d+Math.imul(ge,gt)|0,d=d+Math.imul(z,mt)|0,I=I+Math.imul(z,gt)|0;var pn=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(pn>>>26)|0,pn&=67108863,b=Math.imul(Ce,Re),d=Math.imul(Ce,Be),d=d+Math.imul(Ie,Re)|0,I=Math.imul(Ie,Be),b=b+Math.imul(le,We)|0,d=d+Math.imul(le,Ge)|0,d=d+Math.imul(me,We)|0,I=I+Math.imul(me,Ge)|0,b=b+Math.imul(pe,Ue)|0,d=d+Math.imul(pe,je)|0,d=d+Math.imul(oe,Ue)|0,I=I+Math.imul(oe,je)|0,b=b+Math.imul(ne,ze)|0,d=d+Math.imul(ne,Ae)|0,d=d+Math.imul(ae,ze)|0,I=I+Math.imul(ae,Ae)|0,b=b+Math.imul(F,mt)|0,d=d+Math.imul(F,gt)|0,d=d+Math.imul(J,mt)|0,I=I+Math.imul(J,gt)|0;var ki=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(ki>>>26)|0,ki&=67108863,b=Math.imul(Ce,We),d=Math.imul(Ce,Ge),d=d+Math.imul(Ie,We)|0,I=Math.imul(Ie,Ge),b=b+Math.imul(le,Ue)|0,d=d+Math.imul(le,je)|0,d=d+Math.imul(me,Ue)|0,I=I+Math.imul(me,je)|0,b=b+Math.imul(pe,ze)|0,d=d+Math.imul(pe,Ae)|0,d=d+Math.imul(oe,ze)|0,I=I+Math.imul(oe,Ae)|0,b=b+Math.imul(ne,mt)|0,d=d+Math.imul(ne,gt)|0,d=d+Math.imul(ae,mt)|0,I=I+Math.imul(ae,gt)|0;var fs=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(fs>>>26)|0,fs&=67108863,b=Math.imul(Ce,Ue),d=Math.imul(Ce,je),d=d+Math.imul(Ie,Ue)|0,I=Math.imul(Ie,je),b=b+Math.imul(le,ze)|0,d=d+Math.imul(le,Ae)|0,d=d+Math.imul(me,ze)|0,I=I+Math.imul(me,Ae)|0,b=b+Math.imul(pe,mt)|0,d=d+Math.imul(pe,gt)|0,d=d+Math.imul(oe,mt)|0,I=I+Math.imul(oe,gt)|0;var $o=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+($o>>>26)|0,$o&=67108863,b=Math.imul(Ce,ze),d=Math.imul(Ce,Ae),d=d+Math.imul(Ie,ze)|0,I=Math.imul(Ie,Ae),b=b+Math.imul(le,mt)|0,d=d+Math.imul(le,gt)|0,d=d+Math.imul(me,mt)|0,I=I+Math.imul(me,gt)|0;var hs=(x+b|0)+((d&8191)<<13)|0;x=(I+(d>>>13)|0)+(hs>>>26)|0,hs&=67108863,b=Math.imul(Ce,mt),d=Math.imul(Ce,gt),d=d+Math.imul(Ie,mt)|0,I=Math.imul(Ie,gt);var ds=(x+b|0)+((d&8191)<<13)|0;return x=(I+(d>>>13)|0)+(ds>>>26)|0,ds&=67108863,R[0]=ar,R[1]=cn,R[2]=fn,R[3]=hn,R[4]=dn,R[5]=ot,R[6]=ur,R[7]=Oo,R[8]=ee,R[9]=et,R[10]=tt,R[11]=Xe,R[12]=Xn,R[13]=pn,R[14]=ki,R[15]=fs,R[16]=$o,R[17]=hs,R[18]=ds,x!==0&&(R[19]=x,m.length++),m};Math.imul||(_=k);function S(O,p,E){E.negative=p.negative^O.negative,E.length=O.length+p.length;for(var m=0,g=0,M=0;M<E.length-1;M++){var R=g;g=0;for(var x=m&67108863,b=Math.min(M,p.length-1),d=Math.max(0,M-O.length+1);d<=b;d++){var I=M-d,W=O.words[I]|0,Q=p.words[d]|0,j=W*Q,N=j&67108863;R=R+(j/67108864|0)|0,N=N+x|0,x=N&67108863,R=R+(N>>>26)|0,g+=R>>>26,R&=67108863}E.words[M]=x,m=R,R=g}return m!==0?E.words[M]=m:E.length--,E.strip()}function w(O,p,E){var m=new C;return m.mulp(O,p,E)}o.prototype.mulTo=function(p,E){var m,g=this.length+p.length;return this.length===10&&p.length===10?m=_(this,p,E):g<63?m=k(this,p,E):g<1024?m=S(this,p,E):m=w(this,p,E),m};function C(O,p){this.x=O,this.y=p}C.prototype.makeRBT=function(p){for(var E=new Array(p),m=o.prototype._countBits(p)-1,g=0;g<p;g++)E[g]=this.revBin(g,m,p);return E},C.prototype.revBin=function(p,E,m){if(p===0||p===m-1)return p;for(var g=0,M=0;M<E;M++)g|=(p&1)<<E-M-1,p>>=1;return g},C.prototype.permute=function(p,E,m,g,M,R){for(var x=0;x<R;x++)g[x]=E[p[x]],M[x]=m[p[x]]},C.prototype.transform=function(p,E,m,g,M,R){this.permute(R,p,E,m,g,M);for(var x=1;x<M;x<<=1)for(var b=x<<1,d=Math.cos(2*Math.PI/b),I=Math.sin(2*Math.PI/b),W=0;W<M;W+=b)for(var Q=d,j=I,N=0;N<x;N++){var Z=m[W+N],q=g[W+N],K=m[W+N+x],H=g[W+N+x],A=Q*K-j*H;H=Q*H+j*K,K=A,m[W+N]=Z+K,g[W+N]=q+H,m[W+N+x]=Z-K,g[W+N+x]=q-H,N!==b&&(A=d*Q-I*j,j=d*j+I*Q,Q=A)}},C.prototype.guessLen13b=function(p,E){var m=Math.max(E,p)|1,g=m&1,M=0;for(m=m/2|0;m;m=m>>>1)M++;return 1<<M+1+g},C.prototype.conjugate=function(p,E,m){if(!(m<=1))for(var g=0;g<m/2;g++){var M=p[g];p[g]=p[m-g-1],p[m-g-1]=M,M=E[g],E[g]=-E[m-g-1],E[m-g-1]=-M}},C.prototype.normalize13b=function(p,E){for(var m=0,g=0;g<E/2;g++){var M=Math.round(p[2*g+1]/E)*8192+Math.round(p[2*g]/E)+m;p[g]=M&67108863,M<67108864?m=0:m=M/67108864|0}return p},C.prototype.convert13b=function(p,E,m,g){for(var M=0,R=0;R<E;R++)M=M+(p[R]|0),m[2*R]=M&8191,M=M>>>13,m[2*R+1]=M&8191,M=M>>>13;for(R=2*E;R<g;++R)m[R]=0;n(M===0),n((M&~8191)==0)},C.prototype.stub=function(p){for(var E=new Array(p),m=0;m<p;m++)E[m]=0;return E},C.prototype.mulp=function(p,E,m){var g=2*this.guessLen13b(p.length,E.length),M=this.makeRBT(g),R=this.stub(g),x=new Array(g),b=new Array(g),d=new Array(g),I=new Array(g),W=new Array(g),Q=new Array(g),j=m.words;j.length=g,this.convert13b(p.words,p.length,x,g),this.convert13b(E.words,E.length,I,g),this.transform(x,R,b,d,g,M),this.transform(I,R,W,Q,g,M);for(var N=0;N<g;N++){var Z=b[N]*W[N]-d[N]*Q[N];d[N]=b[N]*Q[N]+d[N]*W[N],b[N]=Z}return this.conjugate(b,d,g),this.transform(b,d,j,R,g,M),this.conjugate(j,R,g),this.normalize13b(j,g),m.negative=p.negative^E.negative,m.length=p.length+E.length,m.strip()},o.prototype.mul=function(p){var E=new o(null);return E.words=new Array(this.length+p.length),this.mulTo(p,E)},o.prototype.mulf=function(p){var E=new o(null);return E.words=new Array(this.length+p.length),w(this,p,E)},o.prototype.imul=function(p){return this.clone().mulTo(p,this)},o.prototype.imuln=function(p){n(typeof p=="number"),n(p<67108864);for(var E=0,m=0;m<this.length;m++){var g=(this.words[m]|0)*p,M=(g&67108863)+(E&67108863);E>>=26,E+=g/67108864|0,E+=M>>>26,this.words[m]=M&67108863}return E!==0&&(this.words[m]=E,this.length++),this},o.prototype.muln=function(p){return this.clone().imuln(p)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(p){var E=y(p);if(E.length===0)return new o(1);for(var m=this,g=0;g<E.length&&E[g]===0;g++,m=m.sqr());if(++g<E.length)for(var M=m.sqr();g<E.length;g++,M=M.sqr())E[g]!==0&&(m=m.mul(M));return m},o.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var E=p%26,m=(p-E)/26,g=67108863>>>26-E<<26-E,M;if(E!==0){var R=0;for(M=0;M<this.length;M++){var x=this.words[M]&g,b=(this.words[M]|0)-x<<E;this.words[M]=b|R,R=x>>>26-E}R&&(this.words[M]=R,this.length++)}if(m!==0){for(M=this.length-1;M>=0;M--)this.words[M+m]=this.words[M];for(M=0;M<m;M++)this.words[M]=0;this.length+=m}return this.strip()},o.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},o.prototype.iushrn=function(p,E,m){n(typeof p=="number"&&p>=0);var g;E?g=(E-E%26)/26:g=0;var M=p%26,R=Math.min((p-M)/26,this.length),x=67108863^67108863>>>M<<M,b=m;if(g-=R,g=Math.max(0,g),b){for(var d=0;d<R;d++)b.words[d]=this.words[d];b.length=R}if(R!==0)if(this.length>R)for(this.length-=R,d=0;d<this.length;d++)this.words[d]=this.words[d+R];else this.words[0]=0,this.length=1;var I=0;for(d=this.length-1;d>=0&&(I!==0||d>=g);d--){var W=this.words[d]|0;this.words[d]=I<<26-M|W>>>M,I=W&x}return b&&I!==0&&(b.words[b.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(p,E,m){return n(this.negative===0),this.iushrn(p,E,m)},o.prototype.shln=function(p){return this.clone().ishln(p)},o.prototype.ushln=function(p){return this.clone().iushln(p)},o.prototype.shrn=function(p){return this.clone().ishrn(p)},o.prototype.ushrn=function(p){return this.clone().iushrn(p)},o.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var E=p%26,m=(p-E)/26,g=1<<E;if(this.length<=m)return!1;var M=this.words[m];return!!(M&g)},o.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var E=p%26,m=(p-E)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(E!==0&&m++,this.length=Math.min(m,this.length),E!==0){var g=67108863^67108863>>>E<<E;this.words[this.length-1]&=g}return this.strip()},o.prototype.maskn=function(p){return this.clone().imaskn(p)},o.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},o.prototype._iaddn=function(p){this.words[0]+=p;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},o.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},o.prototype.addn=function(p){return this.clone().iaddn(p)},o.prototype.subn=function(p){return this.clone().isubn(p)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(p,E,m){var g=p.length+m,M;this._expand(g);var R,x=0;for(M=0;M<p.length;M++){R=(this.words[M+m]|0)+x;var b=(p.words[M]|0)*E;R-=b&67108863,x=(R>>26)-(b/67108864|0),this.words[M+m]=R&67108863}for(;M<this.length-m;M++)R=(this.words[M+m]|0)+x,x=R>>26,this.words[M+m]=R&67108863;if(x===0)return this.strip();for(n(x===-1),x=0,M=0;M<this.length;M++)R=-(this.words[M]|0)+x,x=R>>26,this.words[M]=R&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(p,E){var m=this.length-p.length,g=this.clone(),M=p,R=M.words[M.length-1]|0,x=this._countBits(R);m=26-x,m!==0&&(M=M.ushln(m),g.iushln(m),R=M.words[M.length-1]|0);var b=g.length-M.length,d;if(E!=="mod"){d=new o(null),d.length=b+1,d.words=new Array(d.length);for(var I=0;I<d.length;I++)d.words[I]=0}var W=g.clone()._ishlnsubmul(M,1,b);W.negative===0&&(g=W,d&&(d.words[b]=1));for(var Q=b-1;Q>=0;Q--){var j=(g.words[M.length+Q]|0)*67108864+(g.words[M.length+Q-1]|0);for(j=Math.min(j/R|0,67108863),g._ishlnsubmul(M,j,Q);g.negative!==0;)j--,g.negative=0,g._ishlnsubmul(M,1,Q),g.isZero()||(g.negative^=1);d&&(d.words[Q]=j)}return d&&d.strip(),g.strip(),E!=="div"&&m!==0&&g.iushrn(m),{div:d||null,mod:g}},o.prototype.divmod=function(p,E,m){if(n(!p.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var g,M,R;return this.negative!==0&&p.negative===0?(R=this.neg().divmod(p,E),E!=="mod"&&(g=R.div.neg()),E!=="div"&&(M=R.mod.neg(),m&&M.negative!==0&&M.iadd(p)),{div:g,mod:M}):this.negative===0&&p.negative!==0?(R=this.divmod(p.neg(),E),E!=="mod"&&(g=R.div.neg()),{div:g,mod:R.mod}):(this.negative&p.negative)!=0?(R=this.neg().divmod(p.neg(),E),E!=="div"&&(M=R.mod.neg(),m&&M.negative!==0&&M.isub(p)),{div:R.div,mod:M}):p.length>this.length||this.cmp(p)<0?{div:new o(0),mod:this}:p.length===1?E==="div"?{div:this.divn(p.words[0]),mod:null}:E==="mod"?{div:null,mod:new o(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new o(this.modn(p.words[0]))}:this._wordDiv(p,E)},o.prototype.div=function(p){return this.divmod(p,"div",!1).div},o.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},o.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},o.prototype.divRound=function(p){var E=this.divmod(p);if(E.mod.isZero())return E.div;var m=E.div.negative!==0?E.mod.isub(p):E.mod,g=p.ushrn(1),M=p.andln(1),R=m.cmp(g);return R<0||M===1&&R===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},o.prototype.modn=function(p){n(p<=67108863);for(var E=(1<<26)%p,m=0,g=this.length-1;g>=0;g--)m=(E*m+(this.words[g]|0))%p;return m},o.prototype.idivn=function(p){n(p<=67108863);for(var E=0,m=this.length-1;m>=0;m--){var g=(this.words[m]|0)+E*67108864;this.words[m]=g/p|0,E=g%p}return this.strip()},o.prototype.divn=function(p){return this.clone().idivn(p)},o.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var E=this,m=p.clone();E.negative!==0?E=E.umod(p):E=E.clone();for(var g=new o(1),M=new o(0),R=new o(0),x=new o(1),b=0;E.isEven()&&m.isEven();)E.iushrn(1),m.iushrn(1),++b;for(var d=m.clone(),I=E.clone();!E.isZero();){for(var W=0,Q=1;(E.words[0]&Q)==0&&W<26;++W,Q<<=1);if(W>0)for(E.iushrn(W);W-- >0;)(g.isOdd()||M.isOdd())&&(g.iadd(d),M.isub(I)),g.iushrn(1),M.iushrn(1);for(var j=0,N=1;(m.words[0]&N)==0&&j<26;++j,N<<=1);if(j>0)for(m.iushrn(j);j-- >0;)(R.isOdd()||x.isOdd())&&(R.iadd(d),x.isub(I)),R.iushrn(1),x.iushrn(1);E.cmp(m)>=0?(E.isub(m),g.isub(R),M.isub(x)):(m.isub(E),R.isub(g),x.isub(M))}return{a:R,b:x,gcd:m.iushln(b)}},o.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var E=this,m=p.clone();E.negative!==0?E=E.umod(p):E=E.clone();for(var g=new o(1),M=new o(0),R=m.clone();E.cmpn(1)>0&&m.cmpn(1)>0;){for(var x=0,b=1;(E.words[0]&b)==0&&x<26;++x,b<<=1);if(x>0)for(E.iushrn(x);x-- >0;)g.isOdd()&&g.iadd(R),g.iushrn(1);for(var d=0,I=1;(m.words[0]&I)==0&&d<26;++d,I<<=1);if(d>0)for(m.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(R),M.iushrn(1);E.cmp(m)>=0?(E.isub(m),g.isub(M)):(m.isub(E),M.isub(g))}var W;return E.cmpn(1)===0?W=g:W=M,W.cmpn(0)<0&&W.iadd(p),W},o.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var E=this.clone(),m=p.clone();E.negative=0,m.negative=0;for(var g=0;E.isEven()&&m.isEven();g++)E.iushrn(1),m.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;m.isEven();)m.iushrn(1);var M=E.cmp(m);if(M<0){var R=E;E=m,m=R}else if(M===0||m.cmpn(1)===0)break;E.isub(m)}while(!0);return m.iushln(g)},o.prototype.invm=function(p){return this.egcd(p).a.umod(p)},o.prototype.isEven=function(){return(this.words[0]&1)==0},o.prototype.isOdd=function(){return(this.words[0]&1)==1},o.prototype.andln=function(p){return this.words[0]&p},o.prototype.bincn=function(p){n(typeof p=="number");var E=p%26,m=(p-E)/26,g=1<<E;if(this.length<=m)return this._expand(m+1),this.words[m]|=g,this;for(var M=g,R=m;M!==0&&R<this.length;R++){var x=this.words[R]|0;x+=M,M=x>>>26,x&=67108863,this.words[R]=x}return M!==0&&(this.words[R]=M,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(p){var E=p<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var m;if(this.length>1)m=1;else{E&&(p=-p),n(p<=67108863,"Number is too big");var g=this.words[0]|0;m=g===p?0:g<p?-1:1}return this.negative!==0?-m|0:m},o.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var E=this.ucmp(p);return this.negative!==0?-E|0:E},o.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var E=0,m=this.length-1;m>=0;m--){var g=this.words[m]|0,M=p.words[m]|0;if(g!==M){g<M?E=-1:g>M&&(E=1);break}}return E},o.prototype.gtn=function(p){return this.cmpn(p)===1},o.prototype.gt=function(p){return this.cmp(p)===1},o.prototype.gten=function(p){return this.cmpn(p)>=0},o.prototype.gte=function(p){return this.cmp(p)>=0},o.prototype.ltn=function(p){return this.cmpn(p)===-1},o.prototype.lt=function(p){return this.cmp(p)===-1},o.prototype.lten=function(p){return this.cmpn(p)<=0},o.prototype.lte=function(p){return this.cmp(p)<=0},o.prototype.eqn=function(p){return this.cmpn(p)===0},o.prototype.eq=function(p){return this.cmp(p)===0},o.red=function(p){return new $(p)},o.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(p){return this.red=p,this},o.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},o.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},o.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},o.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},o.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},o.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},o.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},o.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var L={k256:null,p224:null,p192:null,p25519:null};function P(O,p){this.name=O,this.p=new o(p,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var p=new o(null);return p.words=new Array(Math.ceil(this.n/13)),p},P.prototype.ireduce=function(p){var E=p,m;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),m=E.bitLength();while(m>this.n);var g=m<this.n?-1:E.ucmp(this.p);return g===0?(E.words[0]=0,E.length=1):g>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},P.prototype.split=function(p,E){p.iushrn(this.n,0,E)},P.prototype.imulK=function(p){return p.imul(this.k)};function B(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(B,P),B.prototype.split=function(p,E){for(var m=4194303,g=Math.min(p.length,9),M=0;M<g;M++)E.words[M]=p.words[M];if(E.length=g,p.length<=9){p.words[0]=0,p.length=1;return}var R=p.words[9];for(E.words[E.length++]=R&m,M=10;M<p.length;M++){var x=p.words[M]|0;p.words[M-10]=(x&m)<<4|R>>>22,R=x}R>>>=22,p.words[M-10]=R,R===0&&p.length>10?p.length-=10:p.length-=9},B.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var E=0,m=0;m<p.length;m++){var g=p.words[m]|0;E+=g*977,p.words[m]=E&67108863,E=g*64+(E/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function U(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(U,P);function f(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(f,P);function D(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,P),D.prototype.imulK=function(p){for(var E=0,m=0;m<p.length;m++){var g=(p.words[m]|0)*19+E,M=g&67108863;g>>>=26,p.words[m]=M,E=g}return E!==0&&(p.words[p.length++]=E),p},o._prime=function(p){if(L[p])return L[p];var E;if(p==="k256")E=new B;else if(p==="p224")E=new U;else if(p==="p192")E=new f;else if(p==="p25519")E=new D;else throw new Error("Unknown prime "+p);return L[p]=E,E};function $(O){if(typeof O=="string"){var p=o._prime(O);this.m=p.p,this.prime=p}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}$.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},$.prototype._verify2=function(p,E){n((p.negative|E.negative)==0,"red works only with positives"),n(p.red&&p.red===E.red,"red works only with red numbers")},$.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},$.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},$.prototype.add=function(p,E){this._verify2(p,E);var m=p.add(E);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},$.prototype.iadd=function(p,E){this._verify2(p,E);var m=p.iadd(E);return m.cmp(this.m)>=0&&m.isub(this.m),m},$.prototype.sub=function(p,E){this._verify2(p,E);var m=p.sub(E);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},$.prototype.isub=function(p,E){this._verify2(p,E);var m=p.isub(E);return m.cmpn(0)<0&&m.iadd(this.m),m},$.prototype.shl=function(p,E){return this._verify1(p),this.imod(p.ushln(E))},$.prototype.imul=function(p,E){return this._verify2(p,E),this.imod(p.imul(E))},$.prototype.mul=function(p,E){return this._verify2(p,E),this.imod(p.mul(E))},$.prototype.isqr=function(p){return this.imul(p,p.clone())},$.prototype.sqr=function(p){return this.mul(p,p)},$.prototype.sqrt=function(p){if(p.isZero())return p.clone();var E=this.m.andln(3);if(n(E%2==1),E===3){var m=this.m.add(new o(1)).iushrn(2);return this.pow(p,m)}for(var g=this.m.subn(1),M=0;!g.isZero()&&g.andln(1)===0;)M++,g.iushrn(1);n(!g.isZero());var R=new o(1).toRed(this),x=R.redNeg(),b=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,b).cmp(x)!==0;)d.redIAdd(x);for(var I=this.pow(d,g),W=this.pow(p,g.addn(1).iushrn(1)),Q=this.pow(p,g),j=M;Q.cmp(R)!==0;){for(var N=Q,Z=0;N.cmp(R)!==0;Z++)N=N.redSqr();n(Z<j);var q=this.pow(I,new o(1).iushln(j-Z-1));W=W.redMul(q),I=q.redSqr(),Q=Q.redMul(I),j=Z}return W},$.prototype.invm=function(p){var E=p._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},$.prototype.pow=function(p,E){if(E.isZero())return new o(1).toRed(this);if(E.cmpn(1)===0)return p.clone();var m=4,g=new Array(1<<m);g[0]=new o(1).toRed(this),g[1]=p;for(var M=2;M<g.length;M++)g[M]=this.mul(g[M-1],p);var R=g[0],x=0,b=0,d=E.bitLength()%26;for(d===0&&(d=26),M=E.length-1;M>=0;M--){for(var I=E.words[M],W=d-1;W>=0;W--){var Q=I>>W&1;if(R!==g[0]&&(R=this.sqr(R)),Q===0&&x===0){b=0;continue}x<<=1,x|=Q,b++,!(b!==m&&(M!==0||W!==0))&&(R=this.mul(R,g[x]),b=0,x=0)}d=26}return R},$.prototype.convertTo=function(p){var E=p.umod(this.m);return E===p?E.clone():E},$.prototype.convertFrom=function(p){var E=p.clone();return E.red=null,E},o.mont=function(p){return new G(p)};function G(O){$.call(this,O),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,$),G.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},G.prototype.convertFrom=function(p){var E=this.imod(p.mul(this.rinv));return E.red=null,E},G.prototype.imul=function(p,E){if(p.isZero()||E.isZero())return p.words[0]=0,p.length=1,p;var m=p.imul(E),g=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=m.isub(g).iushrn(this.shift),R=M;return M.cmp(this.m)>=0?R=M.isub(this.m):M.cmpn(0)<0&&(R=M.iadd(this.m)),R._forceRed(this)},G.prototype.mul=function(p,E){if(p.isZero()||E.isZero())return new o(0)._forceRed(this);var m=p.mul(E),g=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=m.isub(g).iushrn(this.shift),R=M;return M.cmp(this.m)>=0?R=M.isub(this.m):M.cmpn(0)<0&&(R=M.iadd(this.m)),R._forceRed(this)},G.prototype.invm=function(p){var E=this.imod(p._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(t,re)})(ai);var ta=Z3;function Z3(t,e){if(!t)throw new Error(e||"Assertion failed")}Z3.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var vv={};(function(t){var e=t;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var s=0;s<o.length;s++)u[s]=o[s]|0;return u}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!=0&&(o="0"+o);for(var s=0;s<o.length;s+=2)u.push(parseInt(o[s]+o[s+1],16))}else for(var s=0;s<o.length;s++){var l=o.charCodeAt(s),c=l>>8,h=l&255;c?u.push(c,h):u.push(h)}return u}e.toArray=r;function n(o){return o.length===1?"0"+o:o}e.zero2=n;function i(o){for(var a="",u=0;u<o.length;u++)a+=n(o[u].toString(16));return a}e.toHex=i,e.encode=function(a,u){return u==="hex"?i(a):a}})(vv);(function(t){var e=t,r=ai.exports,n=ta,i=vv;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function o(c,h,v){var y=new Array(Math.max(c.bitLength(),v)+1);y.fill(0);for(var k=1<<h+1,_=c.clone(),S=0;S<y.length;S++){var w,C=_.andln(k-1);_.isOdd()?(C>(k>>1)-1?w=(k>>1)-C:w=C,_.isubn(w)):w=0,y[S]=w,_.iushrn(1)}return y}e.getNAF=o;function a(c,h){var v=[[],[]];c=c.clone(),h=h.clone();for(var y=0,k=0,_;c.cmpn(-y)>0||h.cmpn(-k)>0;){var S=c.andln(3)+y&3,w=h.andln(3)+k&3;S===3&&(S=-1),w===3&&(w=-1);var C;(S&1)==0?C=0:(_=c.andln(7)+y&7,(_===3||_===5)&&w===2?C=-S:C=S),v[0].push(C);var L;(w&1)==0?L=0:(_=h.andln(7)+k&7,(_===3||_===5)&&S===2?L=-w:L=w),v[1].push(L),2*y===C+1&&(y=1-y),2*k===L+1&&(k=1-k),c.iushrn(1),h.iushrn(1)}return v}e.getJSF=a;function u(c,h,v){var y="_"+h;c.prototype[h]=function(){return this[y]!==void 0?this[y]:this[y]=v.call(this)}}e.cachedProperty=u;function s(c){return typeof c=="string"?e.toArray(c,"hex"):c}e.parseBytes=s;function l(c){return new r(c,"hex","le")}e.intFromLE=l})(an);var Nf={exports:{}},mv;Nf.exports=function(e){return mv||(mv=new bo(null)),mv.generate(e)};function bo(t){this.rand=t}Nf.exports.Rand=bo;bo.prototype.generate=function(e){return this._rand(e)};bo.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?bo.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?bo.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(bo.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var e_=require("crypto");if(typeof e_.randomBytes!="function")throw new Error("Not supported");bo.prototype._rand=function(e){return e_.randomBytes(e)}}catch{}var gv={},ra=ai.exports,dl=an,Ff=dl.getNAF,aP=dl.getJSF,Of=dl.assert;function _o(t,e){this.type=t,this.p=new ra(e.p,16),this.red=e.prime?ra.red(e.prime):ra.mont(this.p),this.zero=new ra(0).toRed(this.red),this.one=new ra(1).toRed(this.red),this.two=new ra(2).toRed(this.red),this.n=e.n&&new ra(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var $f=_o;_o.prototype.point=function(){throw new Error("Not implemented")};_o.prototype.validate=function(){throw new Error("Not implemented")};_o.prototype._fixedNafMul=function(e,r){Of(e.precomputed);var n=e._getDoubles(),i=Ff(r,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var a=[],u,s;for(u=0;u<i.length;u+=n.step){s=0;for(var l=u+n.step-1;l>=u;l--)s=(s<<1)+i[l];a.push(s)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),v=o;v>0;v--){for(u=0;u<a.length;u++)s=a[u],s===v?h=h.mixedAdd(n.points[u]):s===-v&&(h=h.mixedAdd(n.points[u].neg()));c=c.add(h)}return c.toP()};_o.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var o=i.points,a=Ff(r,n,this._bitLength),u=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var l=0;s>=0&&a[s]===0;s--)l++;if(s>=0&&l++,u=u.dblp(l),s<0)break;var c=a[s];Of(c!==0),e.type==="affine"?c>0?u=u.mixedAdd(o[c-1>>1]):u=u.mixedAdd(o[-c-1>>1].neg()):c>0?u=u.add(o[c-1>>1]):u=u.add(o[-c-1>>1].neg())}return e.type==="affine"?u.toP():u};_o.prototype._wnafMulAdd=function(e,r,n,i,o){var a=this._wnafT1,u=this._wnafT2,s=this._wnafT3,l=0,c,h,v;for(c=0;c<i;c++){v=r[c];var y=v._getNAFPoints(e);a[c]=y.wnd,u[c]=y.points}for(c=i-1;c>=1;c-=2){var k=c-1,_=c;if(a[k]!==1||a[_]!==1){s[k]=Ff(n[k],a[k],this._bitLength),s[_]=Ff(n[_],a[_],this._bitLength),l=Math.max(s[k].length,l),l=Math.max(s[_].length,l);continue}var S=[r[k],null,null,r[_]];r[k].y.cmp(r[_].y)===0?(S[1]=r[k].add(r[_]),S[2]=r[k].toJ().mixedAdd(r[_].neg())):r[k].y.cmp(r[_].y.redNeg())===0?(S[1]=r[k].toJ().mixedAdd(r[_]),S[2]=r[k].add(r[_].neg())):(S[1]=r[k].toJ().mixedAdd(r[_]),S[2]=r[k].toJ().mixedAdd(r[_].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],C=aP(n[k],n[_]);for(l=Math.max(C[0].length,l),s[k]=new Array(l),s[_]=new Array(l),h=0;h<l;h++){var L=C[0][h]|0,P=C[1][h]|0;s[k][h]=w[(L+1)*3+(P+1)],s[_][h]=0,u[k]=S}}var B=this.jpoint(null,null,null),U=this._wnafT4;for(c=l;c>=0;c--){for(var f=0;c>=0;){var D=!0;for(h=0;h<i;h++)U[h]=s[h][c]|0,U[h]!==0&&(D=!1);if(!D)break;f++,c--}if(c>=0&&f++,B=B.dblp(f),c<0)break;for(h=0;h<i;h++){var $=U[h];$!==0&&($>0?v=u[h][$-1>>1]:$<0&&(v=u[h][-$-1>>1].neg()),v.type==="affine"?B=B.mixedAdd(v):B=B.add(v))}}for(c=0;c<i;c++)u[c]=null;return o?B:B.toP()};function En(t,e){this.curve=t,this.type=e,this.precomputed=null}_o.BasePoint=En;En.prototype.eq=function(){throw new Error("Not implemented")};En.prototype.validate=function(){return this.curve.validate(this)};_o.prototype.decodePoint=function(e,r){e=dl.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*n){e[0]===6?Of(e[e.length-1]%2==0):e[0]===7&&Of(e[e.length-1]%2==1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};En.prototype.encodeCompressed=function(e){return this.encode(e,!0)};En.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};En.prototype.encode=function(e,r){return dl.encode(this._encode(r),e)};En.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};En.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};En.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,o=0;o<r;o+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};En.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),o=1;o<n;o++)r[o]=r[o-1].add(i);return{wnd:e,points:r}};En.prototype._getBeta=function(){return null};En.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var bu={exports:{}};typeof Object.create=="function"?bu.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:bu.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var uP=an,Lt=ai.exports,yv=bu.exports,_u=$f,sP=uP.assert;function Sn(t){_u.call(this,"short",t),this.a=new Lt(t.a,16).toRed(this.red),this.b=new Lt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}yv(Sn,_u);var lP=Sn;Sn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Lt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Lt(e.lambda,16);else{var o=this._getEndoRoots(this.n);this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))===0?n=o[0]:(n=o[1],sP(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(u){return{a:new Lt(u.a,16),b:new Lt(u.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Sn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Lt.mont(e),n=new Lt(2).toRed(r).redInvm(),i=n.redNeg(),o=new Lt(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(o).fromRed(),u=i.redSub(o).fromRed();return[a,u]};Sn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),o=new Lt(1),a=new Lt(0),u=new Lt(0),s=new Lt(1),l,c,h,v,y,k,_,S=0,w,C;n.cmpn(0)!==0;){var L=i.div(n);w=i.sub(L.mul(n)),C=u.sub(L.mul(o));var P=s.sub(L.mul(a));if(!h&&w.cmp(r)<0)l=_.neg(),c=o,h=w.neg(),v=C;else if(h&&++S==2)break;_=w,i=n,n=w,u=o,o=C,s=a,a=P}y=w.neg(),k=C;var B=h.sqr().add(v.sqr()),U=y.sqr().add(k.sqr());return U.cmp(B)>=0&&(y=l,k=c),h.negative&&(h=h.neg(),v=v.neg()),y.negative&&(y=y.neg(),k=k.neg()),[{a:h,b:v},{a:y,b:k}]};Sn.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],o=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),u=o.mul(n.a),s=a.mul(i.a),l=o.mul(n.b),c=a.mul(i.b),h=e.sub(u).sub(s),v=l.add(c).neg();return{k1:h,k2:v}};Sn.prototype.pointFromX=function(e,r){e=new Lt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var o=i.fromRed().isOdd();return(r&&!o||!r&&o)&&(i=i.redNeg()),this.point(e,i)};Sn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),o=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(o).cmpn(0)===0};Sn.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,o=this._endoWnafT2,a=0;a<e.length;a++){var u=this._endoSplit(r[a]),s=e[a],l=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),l=l.neg(!0)),i[a*2]=s,i[a*2+1]=l,o[a*2]=u.k1,o[a*2+1]=u.k2}for(var c=this._wnafMulAdd(1,i,o,a*2,n),h=0;h<a*2;h++)i[h]=null,o[h]=null;return c};function Zt(t,e,r,n){_u.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Lt(e,16),this.y=new Lt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}yv(Zt,_u.BasePoint);Sn.prototype.point=function(e,r,n){return new Zt(this,e,r,n)};Sn.prototype.pointFromJSON=function(e,r){return Zt.fromJSON(this,e,r)};Zt.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(o){return n.point(o.x.redMul(n.endo.beta),o.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Zt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Zt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function o(u){return e.point(u[0],u[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(o))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(o))}},i};Zt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Zt.prototype.isInfinity=function(){return this.inf};Zt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Zt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),o=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=o.redSqr().redISub(this.x.redAdd(this.x)),u=o.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,u)};Zt.prototype.getX=function(){return this.x.fromRed()};Zt.prototype.getY=function(){return this.y.fromRed()};Zt.prototype.mul=function(e){return e=new Lt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Zt.prototype.mulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o):this.curve._wnafMulAdd(1,i,o,2)};Zt.prototype.jmulAdd=function(e,r,n){var i=[this,r],o=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,o,!0):this.curve._wnafMulAdd(1,i,o,2,!0)};Zt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Zt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(o){return o.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Zt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function hr(t,e,r,n){_u.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Lt(0)):(this.x=new Lt(e,16),this.y=new Lt(r,16),this.z=new Lt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}yv(hr,_u.BasePoint);Sn.prototype.jpoint=function(e,r,n){return new hr(this,e,r,n)};hr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};hr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};hr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),o=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),u=e.y.redMul(n.redMul(this.z)),s=i.redSub(o),l=a.redSub(u);if(s.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),h=c.redMul(s),v=i.redMul(c),y=l.redSqr().redIAdd(h).redISub(v).redISub(v),k=l.redMul(v.redISub(y)).redISub(a.redMul(h)),_=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(y,k,_)};hr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),o=this.y,a=e.y.redMul(r).redMul(this.z),u=n.redSub(i),s=o.redSub(a);if(u.cmpn(0)===0)return s.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=u.redSqr(),c=l.redMul(u),h=n.redMul(l),v=s.redSqr().redIAdd(c).redISub(h).redISub(h),y=s.redMul(h.redISub(v)).redISub(o.redMul(c)),k=this.z.redMul(u);return this.curve.jpoint(v,y,k)};hr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,o=this.curve.tinv,a=this.x,u=this.y,s=this.z,l=s.redSqr().redSqr(),c=u.redAdd(u);for(r=0;r<e;r++){var h=a.redSqr(),v=c.redSqr(),y=v.redSqr(),k=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(l)),_=a.redMul(v),S=k.redSqr().redISub(_.redAdd(_)),w=_.redISub(S),C=k.redMul(w);C=C.redIAdd(C).redISub(y);var L=c.redMul(s);r+1<e&&(l=l.redMul(y)),a=S,s=L,c=C}return this.curve.jpoint(a,c.redMul(o),s)};hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};hr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(a);u=u.redIAdd(u);var s=i.redAdd(i).redIAdd(i),l=s.redSqr().redISub(u).redISub(u),c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),e=l,r=s.redMul(u.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),k=this.x.redAdd(v).redSqr().redISub(h).redISub(y);k=k.redIAdd(k);var _=h.redAdd(h).redIAdd(h),S=_.redSqr(),w=y.redIAdd(y);w=w.redIAdd(w),w=w.redIAdd(w),e=S.redISub(k).redISub(k),r=_.redMul(k.redISub(e)).redISub(w),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};hr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),o=this.y.redSqr(),a=o.redSqr(),u=this.x.redAdd(o).redSqr().redISub(i).redISub(a);u=u.redIAdd(u);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=s.redSqr().redISub(u).redISub(u);e=l;var c=a.redIAdd(a);c=c.redIAdd(c),c=c.redIAdd(c),r=s.redMul(u.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),v=this.y.redSqr(),y=this.x.redMul(v),k=this.x.redSub(h).redMul(this.x.redAdd(h));k=k.redAdd(k).redIAdd(k);var _=y.redIAdd(y);_=_.redIAdd(_);var S=_.redAdd(_);e=k.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(v).redISub(h);var w=v.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),r=k.redMul(_.redISub(e)).redISub(w)}return this.curve.jpoint(e,r,n)};hr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,o=i.redSqr().redSqr(),a=r.redSqr(),u=n.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(o)),l=r.redAdd(r);l=l.redIAdd(l);var c=l.redMul(u),h=s.redSqr().redISub(c.redAdd(c)),v=c.redISub(h),y=u.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var k=s.redMul(v).redISub(y),_=n.redAdd(n).redMul(i);return this.curve.jpoint(h,k,_)};hr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),o=e.redAdd(e).redIAdd(e),a=o.redSqr(),u=this.x.redAdd(r).redSqr().redISub(e).redISub(i);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(a);var s=u.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var c=o.redIAdd(u).redSqr().redISub(a).redISub(s).redISub(l),h=r.redMul(c);h=h.redIAdd(h),h=h.redIAdd(h);var v=this.x.redMul(s).redISub(h);v=v.redIAdd(v),v=v.redIAdd(v);var y=this.y.redMul(c.redMul(l.redISub(c)).redISub(u.redMul(s)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var k=this.z.redAdd(u).redSqr().redISub(n).redISub(s);return this.curve.jpoint(v,y,k)};hr.prototype.mul=function(e,r){return e=new Lt(e,r),this.curve._wnafMul(this,e)};hr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),o=n.redMul(e.z);return this.y.redMul(o).redISub(e.y.redMul(i)).cmpn(0)===0};hr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),o=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(o),this.x.cmp(n)===0)return!0}};hr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};hr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var wu=ai.exports,t_=bu.exports,Lf=$f,cP=an;function xu(t){Lf.call(this,"mont",t),this.a=new wu(t.a,16).toRed(this.red),this.b=new wu(t.b,16).toRed(this.red),this.i4=new wu(4).toRed(this.red).redInvm(),this.two=new wu(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}t_(xu,Lf);var fP=xu;xu.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),o=i.redSqrt();return o.redSqr().cmp(i)===0};function er(t,e,r){Lf.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new wu(e,16),this.z=new wu(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}t_(er,Lf.BasePoint);xu.prototype.decodePoint=function(e,r){return this.point(cP.toArray(e,r),1)};xu.prototype.point=function(e,r){return new er(this,e,r)};xu.prototype.pointFromJSON=function(e){return er.fromJSON(this,e)};er.prototype.precompute=function(){};er.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};er.fromJSON=function(e,r){return new er(e,r[0],r[1]||e.one)};er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};er.prototype.isInfinity=function(){return this.z.cmpn(0)===0};er.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),o=r.redSub(i),a=r.redMul(i),u=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(a,u)};er.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};er.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=e.x.redAdd(e.z),a=e.x.redSub(e.z),u=a.redMul(n),s=o.redMul(i),l=r.z.redMul(u.redAdd(s).redSqr()),c=r.x.redMul(u.redISub(s).redSqr());return this.curve.point(l,c)};er.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),o=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var u=a.length-1;u>=0;u--)a[u]===0?(n=n.diffAdd(i,o),i=i.dbl()):(i=n.diffAdd(i,o),n=n.dbl());return i};er.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};er.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};er.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};er.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};er.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var hP=an,Oi=ai.exports,r_=bu.exports,Rf=$f,dP=hP.assert;function ui(t){this.twisted=(t.a|0)!=1,this.mOneA=this.twisted&&(t.a|0)==-1,this.extended=this.mOneA,Rf.call(this,"edwards",t),this.a=new Oi(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Oi(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Oi(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),dP(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)==1}r_(ui,Rf);var pP=ui;ui.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ui.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ui.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};ui.prototype.pointFromX=function(e,r){e=new Oi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(o.redInvm()),u=a.redSqrt();if(u.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var s=u.fromRed().isOdd();return(r&&!s||!r&&s)&&(u=u.redNeg()),this.point(e,u)};ui.prototype.pointFromY=function(e,r){e=new Oi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(o.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var u=a.redSqrt();if(u.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,e)};ui.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),o=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(o)===0};function kt(t,e,r,n,i){Rf.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Oi(e,16),this.y=new Oi(r,16),this.z=n?new Oi(n,16):this.curve.one,this.t=i&&new Oi(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r_(kt,Rf.BasePoint);ui.prototype.pointFromJSON=function(e){return kt.fromJSON(this,e)};ui.prototype.point=function(e,r,n,i){return new kt(this,e,r,n,i)};kt.fromJSON=function(e,r){return new kt(e,r[0],r[1],r[2])};kt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};kt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};kt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),o=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),u=a.redSub(n),s=i.redSub(r),l=o.redMul(u),c=a.redMul(s),h=o.redMul(s),v=u.redMul(a);return this.curve.point(l,c,v,h)};kt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,o,a,u,s,l;if(this.curve.twisted){u=this.curve._mulA(r);var c=u.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),o=c.redMul(u.redSub(n)),a=c.redSqr().redSub(c).redSub(c)):(s=this.z.redSqr(),l=c.redSub(s).redISub(s),i=e.redSub(r).redISub(n).redMul(l),o=c.redMul(u.redSub(n)),a=c.redMul(l))}else u=r.redAdd(n),s=this.curve._mulC(this.z).redSqr(),l=u.redSub(s).redSub(s),i=this.curve._mulC(e.redISub(u)).redMul(l),o=this.curve._mulC(u).redMul(r.redISub(n)),a=u.redMul(l);return this.curve.point(i,o,a)};kt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};kt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),o=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),u=o.redSub(i),s=o.redAdd(i),l=n.redAdd(r),c=a.redMul(u),h=s.redMul(l),v=a.redMul(l),y=u.redMul(s);return this.curve.point(c,h,y,v)};kt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(o),u=n.redSub(a),s=n.redAdd(a),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),c=r.redMul(u).redMul(l),h,v;return this.curve.twisted?(h=r.redMul(s).redMul(o.redSub(this.curve._mulA(i))),v=u.redMul(s)):(h=r.redMul(s).redMul(o.redSub(i)),v=this.curve._mulC(u).redMul(s)),this.curve.point(c,h,v)};kt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};kt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};kt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};kt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};kt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};kt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};kt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};kt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};kt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};kt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};kt.prototype.toP=kt.prototype.normalize;kt.prototype.mixedAdd=kt.prototype.add;(function(t){var e=t;e.base=$f,e.short=lP,e.mont=fP,e.edwards=pP})(gv);var Bf={},Uf={},lt={},vP=ta,mP=bu.exports;lt.inherits=mP;function gP(t,e){return(t.charCodeAt(e)&64512)!=55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)==56320}function yP(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):gP(t,i)?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}lt.toArray=yP;function bP(t){for(var e="",r=0;r<t.length;r++)e+=i_(t[r].toString(16));return e}lt.toHex=bP;function n_(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}lt.htonl=n_;function _P(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=n_(i)),r+=o_(i.toString(16))}return r}lt.toHex32=_P;function i_(t){return t.length===1?"0"+t:t}lt.zero2=i_;function o_(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}lt.zero8=o_;function wP(t,e,r,n){var i=r-e;vP(i%4==0);for(var o=new Array(i/4),a=0,u=e;a<o.length;a++,u+=4){var s;n==="big"?s=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:s=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=s>>>0}return o}lt.join32=wP;function xP(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];e==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}lt.split32=xP;function DP(t,e){return t>>>e|t<<32-e}lt.rotr32=DP;function EP(t,e){return t<<e|t>>>32-e}lt.rotl32=EP;function SP(t,e){return t+e>>>0}lt.sum32=SP;function AP(t,e,r){return t+e+r>>>0}lt.sum32_3=AP;function kP(t,e,r,n){return t+e+r+n>>>0}lt.sum32_4=kP;function CP(t,e,r,n,i){return t+e+r+n+i>>>0}lt.sum32_5=CP;function MP(t,e,r,n){var i=t[e],o=t[e+1],a=n+o>>>0,u=(a<n?1:0)+r+i;t[e]=u>>>0,t[e+1]=a}lt.sum64=MP;function IP(t,e,r,n){var i=e+n>>>0,o=(i<e?1:0)+t+r;return o>>>0}lt.sum64_hi=IP;function TP(t,e,r,n){var i=e+n;return i>>>0}lt.sum64_lo=TP;function PP(t,e,r,n,i,o,a,u){var s=0,l=e;l=l+n>>>0,s+=l<e?1:0,l=l+o>>>0,s+=l<o?1:0,l=l+u>>>0,s+=l<u?1:0;var c=t+r+i+a+s;return c>>>0}lt.sum64_4_hi=PP;function NP(t,e,r,n,i,o,a,u){var s=e+n+o+u;return s>>>0}lt.sum64_4_lo=NP;function FP(t,e,r,n,i,o,a,u,s,l){var c=0,h=e;h=h+n>>>0,c+=h<e?1:0,h=h+o>>>0,c+=h<o?1:0,h=h+u>>>0,c+=h<u?1:0,h=h+l>>>0,c+=h<l?1:0;var v=t+r+i+a+s+c;return v>>>0}lt.sum64_5_hi=FP;function OP(t,e,r,n,i,o,a,u,s,l){var c=e+n+o+u+l;return c>>>0}lt.sum64_5_lo=OP;function $P(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}lt.rotr64_hi=$P;function LP(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}lt.rotr64_lo=LP;function RP(t,e,r){return t>>>r}lt.shr64_hi=RP;function BP(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}lt.shr64_lo=BP;var Du={},a_=lt,UP=ta;function jf(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Du.BlockHash=jf;jf.prototype.update=function(e,r){if(e=a_.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=a_.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};jf.prototype.digest=function(e){return this.update(this._pad()),UP(this.pending===null),this._digest(e)};jf.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var o=1;o<n;o++)i[o]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[o++]=0;i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=e>>>24&255,i[o++]=e>>>16&255,i[o++]=e>>>8&255,i[o++]=e&255}else for(i[o++]=e&255,i[o++]=e>>>8&255,i[o++]=e>>>16&255,i[o++]=e>>>24&255,i[o++]=0,i[o++]=0,i[o++]=0,i[o++]=0,a=8;a<this.padLength;a++)i[o++]=0;return i};var Eu={},si={},jP=lt,li=jP.rotr32;function zP(t,e,r,n){if(t===0)return u_(e,r,n);if(t===1||t===3)return l_(e,r,n);if(t===2)return s_(e,r,n)}si.ft_1=zP;function u_(t,e,r){return t&e^~t&r}si.ch32=u_;function s_(t,e,r){return t&e^t&r^e&r}si.maj32=s_;function l_(t,e,r){return t^e^r}si.p32=l_;function qP(t){return li(t,2)^li(t,13)^li(t,22)}si.s0_256=qP;function HP(t){return li(t,6)^li(t,11)^li(t,25)}si.s1_256=HP;function WP(t){return li(t,7)^li(t,18)^t>>>3}si.g0_256=WP;function GP(t){return li(t,17)^li(t,19)^t>>>10}si.g1_256=GP;var Su=lt,VP=Du,KP=si,bv=Su.rotl32,pl=Su.sum32,JP=Su.sum32_5,YP=KP.ft_1,c_=VP.BlockHash,XP=[1518500249,1859775393,2400959708,3395469782];function ci(){if(!(this instanceof ci))return new ci;c_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Su.inherits(ci,c_);var QP=ci;ci.blockSize=512;ci.outSize=160;ci.hmacStrength=80;ci.padLength=64;ci.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=bv(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var o=this.h[0],a=this.h[1],u=this.h[2],s=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),h=JP(bv(o,5),YP(c,a,u,s),l,n[i],XP[c]);l=s,s=u,u=bv(a,30),a=o,o=h}this.h[0]=pl(this.h[0],o),this.h[1]=pl(this.h[1],a),this.h[2]=pl(this.h[2],u),this.h[3]=pl(this.h[3],s),this.h[4]=pl(this.h[4],l)};ci.prototype._digest=function(e){return e==="hex"?Su.toHex32(this.h,"big"):Su.split32(this.h,"big")};var Au=lt,ZP=Du,ku=si,eN=ta,jn=Au.sum32,tN=Au.sum32_4,rN=Au.sum32_5,nN=ku.ch32,iN=ku.maj32,oN=ku.s0_256,aN=ku.s1_256,uN=ku.g0_256,sN=ku.g1_256,f_=ZP.BlockHash,lN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fi(){if(!(this instanceof fi))return new fi;f_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=lN,this.W=new Array(64)}Au.inherits(fi,f_);var h_=fi;fi.blockSize=512;fi.outSize=256;fi.hmacStrength=192;fi.padLength=64;fi.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=tN(sN(n[i-2]),n[i-7],uN(n[i-15]),n[i-16]);var o=this.h[0],a=this.h[1],u=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],h=this.h[6],v=this.h[7];for(eN(this.k.length===n.length),i=0;i<n.length;i++){var y=rN(v,aN(l),nN(l,c,h),this.k[i],n[i]),k=jn(oN(o),iN(o,a,u));v=h,h=c,c=l,l=jn(s,y),s=u,u=a,a=o,o=jn(y,k)}this.h[0]=jn(this.h[0],o),this.h[1]=jn(this.h[1],a),this.h[2]=jn(this.h[2],u),this.h[3]=jn(this.h[3],s),this.h[4]=jn(this.h[4],l),this.h[5]=jn(this.h[5],c),this.h[6]=jn(this.h[6],h),this.h[7]=jn(this.h[7],v)};fi.prototype._digest=function(e){return e==="hex"?Au.toHex32(this.h,"big"):Au.split32(this.h,"big")};var _v=lt,d_=h_;function $i(){if(!(this instanceof $i))return new $i;d_.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_v.inherits($i,d_);var cN=$i;$i.blockSize=512;$i.outSize=224;$i.hmacStrength=192;$i.padLength=64;$i.prototype._digest=function(e){return e==="hex"?_v.toHex32(this.h.slice(0,7),"big"):_v.split32(this.h.slice(0,7),"big")};var Vr=lt,fN=Du,hN=ta,hi=Vr.rotr64_hi,di=Vr.rotr64_lo,p_=Vr.shr64_hi,v_=Vr.shr64_lo,wo=Vr.sum64,wv=Vr.sum64_hi,xv=Vr.sum64_lo,dN=Vr.sum64_4_hi,pN=Vr.sum64_4_lo,vN=Vr.sum64_5_hi,mN=Vr.sum64_5_lo,m_=fN.BlockHash,gN=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function zn(){if(!(this instanceof zn))return new zn;m_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=gN,this.W=new Array(160)}Vr.inherits(zn,m_);var g_=zn;zn.blockSize=1024;zn.outSize=512;zn.hmacStrength=192;zn.padLength=128;zn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var o=CN(n[i-4],n[i-3]),a=MN(n[i-4],n[i-3]),u=n[i-14],s=n[i-13],l=AN(n[i-30],n[i-29]),c=kN(n[i-30],n[i-29]),h=n[i-32],v=n[i-31];n[i]=dN(o,a,u,s,l,c,h,v),n[i+1]=pN(o,a,u,s,l,c,h,v)}};zn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],o=this.h[1],a=this.h[2],u=this.h[3],s=this.h[4],l=this.h[5],c=this.h[6],h=this.h[7],v=this.h[8],y=this.h[9],k=this.h[10],_=this.h[11],S=this.h[12],w=this.h[13],C=this.h[14],L=this.h[15];hN(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var B=C,U=L,f=EN(v,y),D=SN(v,y),$=yN(v,y,k,_,S),G=bN(v,y,k,_,S,w),O=this.k[P],p=this.k[P+1],E=n[P],m=n[P+1],g=vN(B,U,f,D,$,G,O,p,E,m),M=mN(B,U,f,D,$,G,O,p,E,m);B=xN(i,o),U=DN(i,o),f=_N(i,o,a,u,s),D=wN(i,o,a,u,s,l);var R=wv(B,U,f,D),x=xv(B,U,f,D);C=S,L=w,S=k,w=_,k=v,_=y,v=wv(c,h,g,M),y=xv(h,h,g,M),c=s,h=l,s=a,l=u,a=i,u=o,i=wv(g,M,R,x),o=xv(g,M,R,x)}wo(this.h,0,i,o),wo(this.h,2,a,u),wo(this.h,4,s,l),wo(this.h,6,c,h),wo(this.h,8,v,y),wo(this.h,10,k,_),wo(this.h,12,S,w),wo(this.h,14,C,L)};zn.prototype._digest=function(e){return e==="hex"?Vr.toHex32(this.h,"big"):Vr.split32(this.h,"big")};function yN(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function bN(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function _N(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function wN(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function xN(t,e){var r=hi(t,e,28),n=hi(e,t,2),i=hi(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function DN(t,e){var r=di(t,e,28),n=di(e,t,2),i=di(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function EN(t,e){var r=hi(t,e,14),n=hi(t,e,18),i=hi(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function SN(t,e){var r=di(t,e,14),n=di(t,e,18),i=di(e,t,9),o=r^n^i;return o<0&&(o+=4294967296),o}function AN(t,e){var r=hi(t,e,1),n=hi(t,e,8),i=p_(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function kN(t,e){var r=di(t,e,1),n=di(t,e,8),i=v_(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function CN(t,e){var r=hi(t,e,19),n=hi(e,t,29),i=p_(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}function MN(t,e){var r=di(t,e,19),n=di(e,t,29),i=v_(t,e,6),o=r^n^i;return o<0&&(o+=4294967296),o}var Dv=lt,y_=g_;function Li(){if(!(this instanceof Li))return new Li;y_.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Dv.inherits(Li,y_);var IN=Li;Li.blockSize=1024;Li.outSize=384;Li.hmacStrength=192;Li.padLength=128;Li.prototype._digest=function(e){return e==="hex"?Dv.toHex32(this.h.slice(0,12),"big"):Dv.split32(this.h.slice(0,12),"big")};Eu.sha1=QP;Eu.sha224=cN;Eu.sha256=h_;Eu.sha384=IN;Eu.sha512=g_;var b_={},na=lt,TN=Du,zf=na.rotl32,__=na.sum32,vl=na.sum32_3,w_=na.sum32_4,x_=TN.BlockHash;function pi(){if(!(this instanceof pi))return new pi;x_.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}na.inherits(pi,x_);b_.ripemd160=pi;pi.blockSize=512;pi.outSize=160;pi.hmacStrength=192;pi.padLength=64;pi.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],s=n,l=i,c=o,h=a,v=u,y=0;y<80;y++){var k=__(zf(w_(n,D_(y,i,o,a),e[FN[y]+r],PN(y)),$N[y]),u);n=u,u=a,a=zf(o,10),o=i,i=k,k=__(zf(w_(s,D_(79-y,l,c,h),e[ON[y]+r],NN(y)),LN[y]),v),s=v,v=h,h=zf(c,10),c=l,l=k}k=vl(this.h[1],o,h),this.h[1]=vl(this.h[2],a,v),this.h[2]=vl(this.h[3],u,s),this.h[3]=vl(this.h[4],n,l),this.h[4]=vl(this.h[0],i,c),this.h[0]=k};pi.prototype._digest=function(e){return e==="hex"?na.toHex32(this.h,"little"):na.split32(this.h,"little")};function D_(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function PN(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function NN(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var FN=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ON=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],$N=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],LN=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],RN=lt,BN=ta;function Cu(t,e,r){if(!(this instanceof Cu))return new Cu(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(RN.toArray(e,r))}var UN=Cu;Cu.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),BN(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Cu.prototype.update=function(e,r){return this.inner.update(e,r),this};Cu.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=lt,e.common=Du,e.sha=Eu,e.ripemd=b_,e.hmac=UN,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Uf);(function(t){var e=t,r=Uf,n=gv,i=an,o=i.assert;function a(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=a;function u(l,c){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var h=new a(c);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:h}),h}})}u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=require("./precomputed/secp256k1")}catch{s=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})})(Bf);var jN=Uf,ia=vv,E_=ta;function xo(t){if(!(this instanceof xo))return new xo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ia.toArray(t.entropy,t.entropyEnc||"hex"),r=ia.toArray(t.nonce,t.nonceEnc||"hex"),n=ia.toArray(t.pers,t.persEnc||"hex");E_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var zN=xo;xo.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var o=0;o<this.V.length;o++)this.K[o]=0,this.V[o]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};xo.prototype._hmac=function(){return new jN.hmac(this.hash,this.K)};xo.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};xo.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=ia.toArray(e,r),n=ia.toArray(n,i),E_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};xo.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=ia.toArray(n,i||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,ia.encode(a,r)};var qN=ai.exports,HN=an,Ev=HN.assert;function Sr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var WN=Sr;Sr.fromPublic=function(e,r,n){return r instanceof Sr?r:new Sr(e,{pub:r,pubEnc:n})};Sr.fromPrivate=function(e,r,n){return r instanceof Sr?r:new Sr(e,{priv:r,privEnc:n})};Sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Sr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Sr.prototype._importPrivate=function(e,r){this.priv=new qN(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Sr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Ev(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Ev(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Sr.prototype.derive=function(e){return e.validate()||Ev(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Sr.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Sr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var qf=ai.exports,Sv=an,GN=Sv.assert;function Hf(t,e){if(t instanceof Hf)return t;this._importDER(t,e)||(GN(t.r&&t.s,"Signature without r or s"),this.r=new qf(t.r,16),this.s=new qf(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var VN=Hf;function KN(){this.place=0}function Av(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function S_(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Hf.prototype._importDER=function(e,r){e=Sv.toArray(e,r);var n=new KN;if(e[n.place++]!==48)return!1;var i=Av(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var o=Av(e,n);if(o===!1)return!1;var a=e.slice(n.place,o+n.place);if(n.place+=o,e[n.place++]!==2)return!1;var u=Av(e,n);if(u===!1||e.length!==u+n.place)return!1;var s=e.slice(n.place,u+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;return this.r=new qf(a),this.s=new qf(s),this.recoveryParam=null,!0};function kv(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Hf.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=S_(r),n=S_(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];kv(i,r.length),i=i.concat(r),i.push(2),kv(i,n.length);var o=i.concat(n),a=[48];return kv(a,o.length),a=a.concat(o),Sv.encode(a,e)};var oa=ai.exports,A_=zN,JN=an,Cv=Bf,YN=Nf.exports,k_=JN.assert,Mv=WN,Wf=VN;function An(t){if(!(this instanceof An))return new An(t);typeof t=="string"&&(k_(Object.prototype.hasOwnProperty.call(Cv,t),"Unknown curve "+t),t=Cv[t]),t instanceof Cv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var XN=An;An.prototype.keyPair=function(e){return new Mv(this,e)};An.prototype.keyFromPrivate=function(e,r){return Mv.fromPrivate(this,e,r)};An.prototype.keyFromPublic=function(e,r){return Mv.fromPublic(this,e,r)};An.prototype.genKeyPair=function(e){e||(e={});for(var r=new A_({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||YN(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new oa(2));;){var o=new oa(r.generate(n));if(!(o.cmp(i)>0))return o.iaddn(1),this.keyFromPrivate(o)}};An.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};An.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new oa(e,16));for(var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),u=e.toArray("be",o),s=new A_({hash:this.hash,entropy:a,nonce:u,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new oa(1)),c=0;;c++){var h=i.k?i.k(c):new oa(s.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(l)>=0)){var v=this.g.mul(h);if(!v.isInfinity()){var y=v.getX(),k=y.umod(this.n);if(k.cmpn(0)!==0){var _=h.invm(this.n).mul(k.mul(r.getPrivate()).iadd(e));if(_=_.umod(this.n),_.cmpn(0)!==0){var S=(v.getY().isOdd()?1:0)|(y.cmp(k)!==0?2:0);return i.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),S^=1),new Wf({r:k,s:_,recoveryParam:S})}}}}}};An.prototype.verify=function(e,r,n,i){e=this._truncateToN(new oa(e,16)),n=this.keyFromPublic(n,i),r=new Wf(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var u=a.invm(this.n),s=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(s,n.getPublic(),l),c.isInfinity()?!1:c.eqXToP(o)):(c=this.g.mulAdd(s,n.getPublic(),l),c.isInfinity()?!1:c.getX().umod(this.n).cmp(o)===0)};An.prototype.recoverPubKey=function(t,e,r,n){k_((3&r)===r,"The recovery param is more than two bits"),e=new Wf(e,n);var i=this.n,o=new oa(t),a=e.r,u=e.s,s=r&1,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?a=this.curve.pointFromX(a.add(this.curve.n),s):a=this.curve.pointFromX(a,s);var c=e.r.invm(i),h=i.sub(o).mul(c).umod(i),v=u.mul(c).umod(i);return this.g.mulAdd(h,a,v)};An.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Wf(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch{continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ml=an,C_=ml.assert,M_=ml.parseBytes,Mu=ml.cachedProperty;function tr(t,e){this.eddsa=t,this._secret=M_(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=M_(e.pub)}tr.fromPublic=function(e,r){return r instanceof tr?r:new tr(e,{pub:r})};tr.fromSecret=function(e,r){return r instanceof tr?r:new tr(e,{secret:r})};tr.prototype.secret=function(){return this._secret};Mu(tr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Mu(tr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Mu(tr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Mu(tr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Mu(tr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Mu(tr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});tr.prototype.sign=function(e){return C_(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};tr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};tr.prototype.getSecret=function(e){return C_(this._secret,"KeyPair is public only"),ml.encode(this.secret(),e)};tr.prototype.getPublic=function(e){return ml.encode(this.pubBytes(),e)};var QN=tr,ZN=ai.exports,Gf=an,eF=Gf.assert,Vf=Gf.cachedProperty,tF=Gf.parseBytes;function aa(t,e){this.eddsa=t,typeof e!="object"&&(e=tF(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),eF(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof ZN&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Vf(aa,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Vf(aa,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Vf(aa,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Vf(aa,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});aa.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};aa.prototype.toHex=function(){return Gf.encode(this.toBytes(),"hex").toUpperCase()};var rF=aa,nF=Uf,iF=Bf,Iu=an,oF=Iu.assert,I_=Iu.parseBytes,T_=QN,P_=rF;function Kr(t){if(oF(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Kr))return new Kr(t);t=iF[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=nF.sha512}var aF=Kr;Kr.prototype.sign=function(e,r){e=I_(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),o=this.g.mul(i),a=this.encodePoint(o),u=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),s=i.add(u).umod(this.curve.n);return this.makeSignature({R:o,S:s,Rencoded:a})};Kr.prototype.verify=function(e,r,n){e=I_(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),o=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),u=r.R().add(i.pub().mul(o));return u.eq(a)};Kr.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Iu.intFromLE(e.digest()).umod(this.curve.n)};Kr.prototype.keyFromPublic=function(e){return T_.fromPublic(this,e)};Kr.prototype.keyFromSecret=function(e){return T_.fromSecret(this,e)};Kr.prototype.makeSignature=function(e){return e instanceof P_?e:new P_(this,e)};Kr.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Kr.prototype.decodePoint=function(e){e=Iu.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&~128),i=(e[r]&128)!=0,o=Iu.intFromLE(n);return this.curve.pointFromY(o,i)};Kr.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Kr.prototype.decodeInt=function(e){return Iu.intFromLE(e)};Kr.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=oP.version,e.utils=an,e.rand=Nf.exports,e.curve=gv,e.curves=Bf,e.ec=XN,e.eddsa=aF})(pv);var Kf={},Do={},Iv={},Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});var N_=65536,uF=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var e=typeof self!="undefined"?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var r=new Uint8Array(e),n=0;n<r.length;n+=N_)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,N_)));return r},t}();Tv.BrowserRandomSource=uF;var Pv={},sF={},lF=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sF}),cF=Ft(lF);Object.defineProperty(Pv,"__esModule",{value:!0});var fF=on,hF=function(){function t(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof bA!="undefined"){var e=cF;e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),i=0;i<n.length;i++)n[i]=r[i];return fF.wipe(r),n},t}();Pv.NodeRandomSource=hF;Object.defineProperty(Iv,"__esModule",{value:!0});var dF=Tv,pF=Pv,vF=function(){function t(){if(this.isAvailable=!1,this.name="",this._source=new dF.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new pF.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}return t.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},t}();Iv.SystemRandomSource=vF;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Iv,r=Ve,n=on;t.defaultRandomSource=new e.SystemRandomSource;function i(l,c){return c===void 0&&(c=t.defaultRandomSource),c.randomBytes(l)}t.randomBytes=i;function o(l){l===void 0&&(l=t.defaultRandomSource);var c=i(4,l),h=r.readUint32LE(c);return n.wipe(c),h}t.randomUint32=o;var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(l,c,h){if(c===void 0&&(c=a),h===void 0&&(h=t.defaultRandomSource),c.length<2)throw new Error("randomString charset is too short");if(c.length>256)throw new Error("randomString charset is too long");for(var v="",y=c.length,k=256-256%y;l>0;){for(var _=i(Math.ceil(l*256/k),h),S=0;S<_.length&&l>0;S++){var w=_[S];w<k&&(v+=c.charAt(w%y),l--)}n.wipe(_)}return v}t.randomString=u;function s(l,c,h){c===void 0&&(c=a),h===void 0&&(h=t.defaultRandomSource);var v=Math.ceil(l/(Math.log(c.length)/Math.LN2));return u(v,c,h)}t.randomStringForEntropy=s})(Do);var F_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ve,r=on;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function u(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return u.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},u.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},u.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},u.prototype.update=function(s,l){if(l===void 0&&(l=s.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var c=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=s[c++],l--;this._bufferLength===this.blockSize&&(o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(c=o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,s,c,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=s[c++],l--;return this},u.prototype.finish=function(s){if(!this._finished){var l=this._bytesHashed,c=this._bufferLength,h=l/536870912|0,v=l<<3,y=l%128<112?128:256;this._buffer[c]=128;for(var k=c+1;k<y-8;k++)this._buffer[k]=0;e.writeUint32BE(h,this._buffer,y-8),e.writeUint32BE(v,this._buffer,y-4),o(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,y),this._finished=!0}for(var k=0;k<this.digestLength/8;k++)e.writeUint32BE(this._stateHi[k],s,k*8),e.writeUint32BE(this._stateLo[k],s,k*8+4);return this},u.prototype.digest=function(){var s=new Uint8Array(this.digestLength);return this.finish(s),s},u.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},u.prototype.restoreState=function(s){return this._stateHi.set(s.stateHi),this._stateLo.set(s.stateLo),this._bufferLength=s.bufferLength,s.buffer&&this._buffer.set(s.buffer),this._bytesHashed=s.bytesHashed,this._finished=!1,this},u.prototype.cleanSavedState=function(s){r.wipe(s.stateHi),r.wipe(s.stateLo),s.buffer&&r.wipe(s.buffer),s.bufferLength=0,s.bytesHashed=0},u}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function o(u,s,l,c,h,v,y){for(var k=l[0],_=l[1],S=l[2],w=l[3],C=l[4],L=l[5],P=l[6],B=l[7],U=c[0],f=c[1],D=c[2],$=c[3],G=c[4],O=c[5],p=c[6],E=c[7],m,g,M,R,x,b,d,I;y>=128;){for(var W=0;W<16;W++){var Q=8*W+v;u[W]=e.readUint32BE(h,Q),s[W]=e.readUint32BE(h,Q+4)}for(var W=0;W<80;W++){var j=k,N=_,Z=S,q=w,K=C,H=L,A=P,V=B,ie=U,ce=f,he=D,ge=$,z=G,T=O,F=p,J=E;if(m=B,g=E,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=(C>>>14|G<<32-14)^(C>>>18|G<<32-18)^(G>>>41-32|C<<32-(41-32)),g=(G>>>14|C<<32-14)^(G>>>18|C<<32-18)^(C>>>41-32|G<<32-(41-32)),x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,m=C&L^~C&P,g=G&O^~G&p,x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,m=i[W*2],g=i[W*2+1],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,m=u[W%16],g=s[W%16],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,M=d&65535|I<<16,R=x&65535|b<<16,m=M,g=R,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=(k>>>28|U<<32-28)^(U>>>34-32|k<<32-(34-32))^(U>>>39-32|k<<32-(39-32)),g=(U>>>28|k<<32-28)^(k>>>34-32|U<<32-(34-32))^(k>>>39-32|U<<32-(39-32)),x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,m=k&_^k&S^_&S,g=U&f^U&D^f&D,x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,V=d&65535|I<<16,J=x&65535|b<<16,m=q,g=ge,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=M,g=R,x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,q=d&65535|I<<16,ge=x&65535|b<<16,_=j,S=N,w=Z,C=q,L=K,P=H,B=A,k=V,f=ie,D=ce,$=he,G=ge,O=z,p=T,E=F,U=J,W%16==15)for(var Q=0;Q<16;Q++)m=u[Q],g=s[Q],x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=u[(Q+9)%16],g=s[(Q+9)%16],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,M=u[(Q+1)%16],R=s[(Q+1)%16],m=(M>>>1|R<<32-1)^(M>>>8|R<<32-8)^M>>>7,g=(R>>>1|M<<32-1)^(R>>>8|M<<32-8)^(R>>>7|M<<32-7),x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,M=u[(Q+14)%16],R=s[(Q+14)%16],m=(M>>>19|R<<32-19)^(R>>>61-32|M<<32-(61-32))^M>>>6,g=(R>>>19|M<<32-19)^(M>>>61-32|R<<32-(61-32))^(R>>>6|M<<32-6),x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,u[Q]=d&65535|I<<16,s[Q]=x&65535|b<<16}m=k,g=U,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[0],g=c[0],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[0]=k=d&65535|I<<16,c[0]=U=x&65535|b<<16,m=_,g=f,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[1],g=c[1],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[1]=_=d&65535|I<<16,c[1]=f=x&65535|b<<16,m=S,g=D,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[2],g=c[2],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[2]=S=d&65535|I<<16,c[2]=D=x&65535|b<<16,m=w,g=$,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[3],g=c[3],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[3]=w=d&65535|I<<16,c[3]=$=x&65535|b<<16,m=C,g=G,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[4],g=c[4],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[4]=C=d&65535|I<<16,c[4]=G=x&65535|b<<16,m=L,g=O,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[5],g=c[5],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[5]=L=d&65535|I<<16,c[5]=O=x&65535|b<<16,m=P,g=p,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[6],g=c[6],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[6]=P=d&65535|I<<16,c[6]=p=x&65535|b<<16,m=B,g=E,x=g&65535,b=g>>>16,d=m&65535,I=m>>>16,m=l[7],g=c[7],x+=g&65535,b+=g>>>16,d+=m&65535,I+=m>>>16,b+=x>>>16,d+=b>>>16,I+=d>>>16,l[7]=B=d&65535|I<<16,c[7]=E=x&65535|b<<16,v+=128,y-=128}return v}function a(u){var s=new n;s.update(u);var l=s.digest();return s.clean(),l}t.hash=a})(F_);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Do,r=F_,n=on;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(q){var K=new Float64Array(16);if(q)for(var H=0;H<q.length;H++)K[H]=q[H];return K}var o=new Uint8Array(32);o[0]=9;var a=i(),u=i([1]),s=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(q,K){for(var H=0;H<16;H++)q[H]=K[H]|0}function k(q){for(var K=1,H=0;H<16;H++){var A=q[H]+K+65535;K=Math.floor(A/65536),q[H]=A-K*65536}q[0]+=K-1+37*(K-1)}function _(q,K,H){for(var A=~(H-1),V=0;V<16;V++){var ie=A&(q[V]^K[V]);q[V]^=ie,K[V]^=ie}}function S(q,K){for(var H=i(),A=i(),V=0;V<16;V++)A[V]=K[V];k(A),k(A),k(A);for(var ie=0;ie<2;ie++){H[0]=A[0]-65517;for(var V=1;V<15;V++)H[V]=A[V]-65535-(H[V-1]>>16&1),H[V-1]&=65535;H[15]=A[15]-32767-(H[14]>>16&1);var ce=H[15]>>16&1;H[14]&=65535,_(A,H,1-ce)}for(var V=0;V<16;V++)q[2*V]=A[V]&255,q[2*V+1]=A[V]>>8}function w(q,K){for(var H=0,A=0;A<32;A++)H|=q[A]^K[A];return(1&H-1>>>8)-1}function C(q,K){var H=new Uint8Array(32),A=new Uint8Array(32);return S(H,q),S(A,K),w(H,A)}function L(q){var K=new Uint8Array(32);return S(K,q),K[0]&1}function P(q,K){for(var H=0;H<16;H++)q[H]=K[2*H]+(K[2*H+1]<<8);q[15]&=32767}function B(q,K,H){for(var A=0;A<16;A++)q[A]=K[A]+H[A]}function U(q,K,H){for(var A=0;A<16;A++)q[A]=K[A]-H[A]}function f(q,K,H){var A,V,ie=0,ce=0,he=0,ge=0,z=0,T=0,F=0,J=0,te=0,ne=0,ae=0,ye=0,pe=0,oe=0,fe=0,le=0,me=0,Ne=0,Ce=0,Ie=0,Ze=0,xe=0,Pe=0,nt=0,it=0,rt=0,Nt=0,Te=0,at=0,or=0,ut=0,Le=H[0],yt=H[1],Fe=H[2],He=H[3],Et=H[4],Re=H[5],Be=H[6],Oe=H[7],We=H[8],Ge=H[9],St=H[10],Ue=H[11],je=H[12],st=H[13],ze=H[14],Ae=H[15];A=K[0],ie+=A*Le,ce+=A*yt,he+=A*Fe,ge+=A*He,z+=A*Et,T+=A*Re,F+=A*Be,J+=A*Oe,te+=A*We,ne+=A*Ge,ae+=A*St,ye+=A*Ue,pe+=A*je,oe+=A*st,fe+=A*ze,le+=A*Ae,A=K[1],ce+=A*Le,he+=A*yt,ge+=A*Fe,z+=A*He,T+=A*Et,F+=A*Re,J+=A*Be,te+=A*Oe,ne+=A*We,ae+=A*Ge,ye+=A*St,pe+=A*Ue,oe+=A*je,fe+=A*st,le+=A*ze,me+=A*Ae,A=K[2],he+=A*Le,ge+=A*yt,z+=A*Fe,T+=A*He,F+=A*Et,J+=A*Re,te+=A*Be,ne+=A*Oe,ae+=A*We,ye+=A*Ge,pe+=A*St,oe+=A*Ue,fe+=A*je,le+=A*st,me+=A*ze,Ne+=A*Ae,A=K[3],ge+=A*Le,z+=A*yt,T+=A*Fe,F+=A*He,J+=A*Et,te+=A*Re,ne+=A*Be,ae+=A*Oe,ye+=A*We,pe+=A*Ge,oe+=A*St,fe+=A*Ue,le+=A*je,me+=A*st,Ne+=A*ze,Ce+=A*Ae,A=K[4],z+=A*Le,T+=A*yt,F+=A*Fe,J+=A*He,te+=A*Et,ne+=A*Re,ae+=A*Be,ye+=A*Oe,pe+=A*We,oe+=A*Ge,fe+=A*St,le+=A*Ue,me+=A*je,Ne+=A*st,Ce+=A*ze,Ie+=A*Ae,A=K[5],T+=A*Le,F+=A*yt,J+=A*Fe,te+=A*He,ne+=A*Et,ae+=A*Re,ye+=A*Be,pe+=A*Oe,oe+=A*We,fe+=A*Ge,le+=A*St,me+=A*Ue,Ne+=A*je,Ce+=A*st,Ie+=A*ze,Ze+=A*Ae,A=K[6],F+=A*Le,J+=A*yt,te+=A*Fe,ne+=A*He,ae+=A*Et,ye+=A*Re,pe+=A*Be,oe+=A*Oe,fe+=A*We,le+=A*Ge,me+=A*St,Ne+=A*Ue,Ce+=A*je,Ie+=A*st,Ze+=A*ze,xe+=A*Ae,A=K[7],J+=A*Le,te+=A*yt,ne+=A*Fe,ae+=A*He,ye+=A*Et,pe+=A*Re,oe+=A*Be,fe+=A*Oe,le+=A*We,me+=A*Ge,Ne+=A*St,Ce+=A*Ue,Ie+=A*je,Ze+=A*st,xe+=A*ze,Pe+=A*Ae,A=K[8],te+=A*Le,ne+=A*yt,ae+=A*Fe,ye+=A*He,pe+=A*Et,oe+=A*Re,fe+=A*Be,le+=A*Oe,me+=A*We,Ne+=A*Ge,Ce+=A*St,Ie+=A*Ue,Ze+=A*je,xe+=A*st,Pe+=A*ze,nt+=A*Ae,A=K[9],ne+=A*Le,ae+=A*yt,ye+=A*Fe,pe+=A*He,oe+=A*Et,fe+=A*Re,le+=A*Be,me+=A*Oe,Ne+=A*We,Ce+=A*Ge,Ie+=A*St,Ze+=A*Ue,xe+=A*je,Pe+=A*st,nt+=A*ze,it+=A*Ae,A=K[10],ae+=A*Le,ye+=A*yt,pe+=A*Fe,oe+=A*He,fe+=A*Et,le+=A*Re,me+=A*Be,Ne+=A*Oe,Ce+=A*We,Ie+=A*Ge,Ze+=A*St,xe+=A*Ue,Pe+=A*je,nt+=A*st,it+=A*ze,rt+=A*Ae,A=K[11],ye+=A*Le,pe+=A*yt,oe+=A*Fe,fe+=A*He,le+=A*Et,me+=A*Re,Ne+=A*Be,Ce+=A*Oe,Ie+=A*We,Ze+=A*Ge,xe+=A*St,Pe+=A*Ue,nt+=A*je,it+=A*st,rt+=A*ze,Nt+=A*Ae,A=K[12],pe+=A*Le,oe+=A*yt,fe+=A*Fe,le+=A*He,me+=A*Et,Ne+=A*Re,Ce+=A*Be,Ie+=A*Oe,Ze+=A*We,xe+=A*Ge,Pe+=A*St,nt+=A*Ue,it+=A*je,rt+=A*st,Nt+=A*ze,Te+=A*Ae,A=K[13],oe+=A*Le,fe+=A*yt,le+=A*Fe,me+=A*He,Ne+=A*Et,Ce+=A*Re,Ie+=A*Be,Ze+=A*Oe,xe+=A*We,Pe+=A*Ge,nt+=A*St,it+=A*Ue,rt+=A*je,Nt+=A*st,Te+=A*ze,at+=A*Ae,A=K[14],fe+=A*Le,le+=A*yt,me+=A*Fe,Ne+=A*He,Ce+=A*Et,Ie+=A*Re,Ze+=A*Be,xe+=A*Oe,Pe+=A*We,nt+=A*Ge,it+=A*St,rt+=A*Ue,Nt+=A*je,Te+=A*st,at+=A*ze,or+=A*Ae,A=K[15],le+=A*Le,me+=A*yt,Ne+=A*Fe,Ce+=A*He,Ie+=A*Et,Ze+=A*Re,xe+=A*Be,Pe+=A*Oe,nt+=A*We,it+=A*Ge,rt+=A*St,Nt+=A*Ue,Te+=A*je,at+=A*st,or+=A*ze,ut+=A*Ae,ie+=38*me,ce+=38*Ne,he+=38*Ce,ge+=38*Ie,z+=38*Ze,T+=38*xe,F+=38*Pe,J+=38*nt,te+=38*it,ne+=38*rt,ae+=38*Nt,ye+=38*Te,pe+=38*at,oe+=38*or,fe+=38*ut,V=1,A=ie+V+65535,V=Math.floor(A/65536),ie=A-V*65536,A=ce+V+65535,V=Math.floor(A/65536),ce=A-V*65536,A=he+V+65535,V=Math.floor(A/65536),he=A-V*65536,A=ge+V+65535,V=Math.floor(A/65536),ge=A-V*65536,A=z+V+65535,V=Math.floor(A/65536),z=A-V*65536,A=T+V+65535,V=Math.floor(A/65536),T=A-V*65536,A=F+V+65535,V=Math.floor(A/65536),F=A-V*65536,A=J+V+65535,V=Math.floor(A/65536),J=A-V*65536,A=te+V+65535,V=Math.floor(A/65536),te=A-V*65536,A=ne+V+65535,V=Math.floor(A/65536),ne=A-V*65536,A=ae+V+65535,V=Math.floor(A/65536),ae=A-V*65536,A=ye+V+65535,V=Math.floor(A/65536),ye=A-V*65536,A=pe+V+65535,V=Math.floor(A/65536),pe=A-V*65536,A=oe+V+65535,V=Math.floor(A/65536),oe=A-V*65536,A=fe+V+65535,V=Math.floor(A/65536),fe=A-V*65536,A=le+V+65535,V=Math.floor(A/65536),le=A-V*65536,ie+=V-1+37*(V-1),V=1,A=ie+V+65535,V=Math.floor(A/65536),ie=A-V*65536,A=ce+V+65535,V=Math.floor(A/65536),ce=A-V*65536,A=he+V+65535,V=Math.floor(A/65536),he=A-V*65536,A=ge+V+65535,V=Math.floor(A/65536),ge=A-V*65536,A=z+V+65535,V=Math.floor(A/65536),z=A-V*65536,A=T+V+65535,V=Math.floor(A/65536),T=A-V*65536,A=F+V+65535,V=Math.floor(A/65536),F=A-V*65536,A=J+V+65535,V=Math.floor(A/65536),J=A-V*65536,A=te+V+65535,V=Math.floor(A/65536),te=A-V*65536,A=ne+V+65535,V=Math.floor(A/65536),ne=A-V*65536,A=ae+V+65535,V=Math.floor(A/65536),ae=A-V*65536,A=ye+V+65535,V=Math.floor(A/65536),ye=A-V*65536,A=pe+V+65535,V=Math.floor(A/65536),pe=A-V*65536,A=oe+V+65535,V=Math.floor(A/65536),oe=A-V*65536,A=fe+V+65535,V=Math.floor(A/65536),fe=A-V*65536,A=le+V+65535,V=Math.floor(A/65536),le=A-V*65536,ie+=V-1+37*(V-1),q[0]=ie,q[1]=ce,q[2]=he,q[3]=ge,q[4]=z,q[5]=T,q[6]=F,q[7]=J,q[8]=te,q[9]=ne,q[10]=ae,q[11]=ye,q[12]=pe,q[13]=oe,q[14]=fe,q[15]=le}function D(q,K){f(q,K,K)}function $(q,K){var H=i(),A;for(A=0;A<16;A++)H[A]=K[A];for(A=253;A>=0;A--)D(H,H),A!==2&&A!==4&&f(H,H,K);for(A=0;A<16;A++)q[A]=H[A]}function G(q,K){var H=i(),A;for(A=0;A<16;A++)H[A]=K[A];for(A=250;A>=0;A--)D(H,H),A!==1&&f(H,H,K);for(A=0;A<16;A++)q[A]=H[A]}function O(q,K){var H=i(),A=i(),V=i(),ie=i(),ce=i(),he=i(),ge=i(),z=i(),T=i();U(H,q[1],q[0]),U(T,K[1],K[0]),f(H,H,T),B(A,q[0],q[1]),B(T,K[0],K[1]),f(A,A,T),f(V,q[3],K[3]),f(V,V,l),f(ie,q[2],K[2]),B(ie,ie,ie),U(ce,A,H),U(he,ie,V),B(ge,ie,V),B(z,A,H),f(q[0],ce,he),f(q[1],z,ge),f(q[2],ge,he),f(q[3],ce,z)}function p(q,K,H){for(var A=0;A<4;A++)_(q[A],K[A],H)}function E(q,K){var H=i(),A=i(),V=i();$(V,K[2]),f(H,K[0],V),f(A,K[1],V),S(q,A),q[31]^=L(H)<<7}function m(q,K,H){y(q[0],a),y(q[1],u),y(q[2],u),y(q[3],a);for(var A=255;A>=0;--A){var V=H[A/8|0]>>(A&7)&1;p(q,K,V),O(K,q),O(q,q),p(q,K,V)}}function g(q,K){var H=[i(),i(),i(),i()];y(H[0],c),y(H[1],h),y(H[2],u),f(H[3],c,h),m(q,H,K)}function M(q){if(q.length!==t.SEED_LENGTH)throw new Error("ed25519: seed must be "+t.SEED_LENGTH+" bytes");var K=r.hash(q);K[0]&=248,K[31]&=127,K[31]|=64;var H=new Uint8Array(32),A=[i(),i(),i(),i()];g(A,K),E(H,A);var V=new Uint8Array(64);return V.set(q),V.set(H,32),{publicKey:H,secretKey:V}}t.generateKeyPairFromSeed=M;function R(q){var K=e.randomBytes(32,q),H=M(K);return n.wipe(K),H}t.generateKeyPair=R;function x(q){if(q.length!==t.SECRET_KEY_LENGTH)throw new Error("ed25519: secret key must be "+t.SECRET_KEY_LENGTH+" bytes");return new Uint8Array(q.subarray(32))}t.extractPublicKeyFromSecretKey=x;var b=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function d(q,K){var H,A,V,ie;for(A=63;A>=32;--A){for(H=0,V=A-32,ie=A-12;V<ie;++V)K[V]+=H-16*K[A]*b[V-(A-32)],H=Math.floor((K[V]+128)/256),K[V]-=H*256;K[V]+=H,K[A]=0}for(H=0,V=0;V<32;V++)K[V]+=H-(K[31]>>4)*b[V],H=K[V]>>8,K[V]&=255;for(V=0;V<32;V++)K[V]-=H*b[V];for(A=0;A<32;A++)K[A+1]+=K[A]>>8,q[A]=K[A]&255}function I(q){for(var K=new Float64Array(64),H=0;H<64;H++)K[H]=q[H];for(var H=0;H<64;H++)q[H]=0;d(q,K)}function W(q,K){var H=new Float64Array(64),A=[i(),i(),i(),i()],V=r.hash(q.subarray(0,32));V[0]&=248,V[31]&=127,V[31]|=64;var ie=new Uint8Array(64);ie.set(V.subarray(32),32);var ce=new r.SHA512;ce.update(ie.subarray(32)),ce.update(K);var he=ce.digest();ce.clean(),I(he),g(A,he),E(ie,A),ce.reset(),ce.update(ie.subarray(0,32)),ce.update(q.subarray(32)),ce.update(K);var ge=ce.digest();I(ge);for(var z=0;z<32;z++)H[z]=he[z];for(var z=0;z<32;z++)for(var T=0;T<32;T++)H[z+T]+=ge[z]*V[T];return d(ie.subarray(32),H),ie}t.sign=W;function Q(q,K){var H=i(),A=i(),V=i(),ie=i(),ce=i(),he=i(),ge=i();return y(q[2],u),P(q[1],K),D(V,q[1]),f(ie,V,s),U(V,V,q[2]),B(ie,q[2],ie),D(ce,ie),D(he,ce),f(ge,he,ce),f(H,ge,V),f(H,H,ie),G(H,H),f(H,H,V),f(H,H,ie),f(H,H,ie),f(q[0],H,ie),D(A,q[0]),f(A,A,ie),C(A,V)&&f(q[0],q[0],v),D(A,q[0]),f(A,A,ie),C(A,V)?-1:(L(q[0])===K[31]>>7&&U(q[0],a,q[0]),f(q[3],q[0],q[1]),0)}function j(q,K,H){var A=new Uint8Array(32),V=[i(),i(),i(),i()],ie=[i(),i(),i(),i()];if(H.length!==t.SIGNATURE_LENGTH)throw new Error("ed25519: signature must be "+t.SIGNATURE_LENGTH+" bytes");if(Q(ie,q))return!1;var ce=new r.SHA512;ce.update(H.subarray(0,32)),ce.update(q),ce.update(K);var he=ce.digest();return I(he),m(V,ie,he),g(ie,H.subarray(32)),O(V,ie),E(A,V),!w(H,A)}t.verify=j;function N(q){var K=[i(),i(),i(),i()];if(Q(K,q))throw new Error("Ed25519: invalid public key");var H=i(),A=i(),V=K[1];B(H,u,V),U(A,u,V),$(A,A),f(H,H,A);var ie=new Uint8Array(32);return S(ie,H),ie}t.convertPublicKeyToX25519=N;function Z(q){var K=r.hash(q.subarray(0,32));K[0]&=248,K[31]&=127,K[31]|=64;var H=new Uint8Array(K.subarray(0,32));return n.wipe(K),H}t.convertSecretKeyToX25519=Z})(Kf);var mF=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,i)=>{const o=i===0?"":",",a=n===void 0||typeof n=="symbol"?null:n;return r+o+t(a)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,i)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const o=r.length===0?"":",";return r+o+t(n)+":"+t(e[n])},"")+"}"},vi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Do,r=on;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(P){var B=new Float64Array(16);if(P)for(var U=0;U<P.length;U++)B[U]=P[U];return B}var i=new Uint8Array(32);i[0]=9;var o=n([56129,1]);function a(P){for(var B=1,U=0;U<16;U++){var f=P[U]+B+65535;B=Math.floor(f/65536),P[U]=f-B*65536}P[0]+=B-1+37*(B-1)}function u(P,B,U){for(var f=~(U-1),D=0;D<16;D++){var $=f&(P[D]^B[D]);P[D]^=$,B[D]^=$}}function s(P,B){for(var U=n(),f=n(),D=0;D<16;D++)f[D]=B[D];a(f),a(f),a(f);for(var $=0;$<2;$++){U[0]=f[0]-65517;for(var D=1;D<15;D++)U[D]=f[D]-65535-(U[D-1]>>16&1),U[D-1]&=65535;U[15]=f[15]-32767-(U[14]>>16&1);var G=U[15]>>16&1;U[14]&=65535,u(f,U,1-G)}for(var D=0;D<16;D++)P[2*D]=f[D]&255,P[2*D+1]=f[D]>>8}function l(P,B){for(var U=0;U<16;U++)P[U]=B[2*U]+(B[2*U+1]<<8);P[15]&=32767}function c(P,B,U){for(var f=0;f<16;f++)P[f]=B[f]+U[f]}function h(P,B,U){for(var f=0;f<16;f++)P[f]=B[f]-U[f]}function v(P,B,U){var f,D,$=0,G=0,O=0,p=0,E=0,m=0,g=0,M=0,R=0,x=0,b=0,d=0,I=0,W=0,Q=0,j=0,N=0,Z=0,q=0,K=0,H=0,A=0,V=0,ie=0,ce=0,he=0,ge=0,z=0,T=0,F=0,J=0,te=U[0],ne=U[1],ae=U[2],ye=U[3],pe=U[4],oe=U[5],fe=U[6],le=U[7],me=U[8],Ne=U[9],Ce=U[10],Ie=U[11],Ze=U[12],xe=U[13],Pe=U[14],nt=U[15];f=B[0],$+=f*te,G+=f*ne,O+=f*ae,p+=f*ye,E+=f*pe,m+=f*oe,g+=f*fe,M+=f*le,R+=f*me,x+=f*Ne,b+=f*Ce,d+=f*Ie,I+=f*Ze,W+=f*xe,Q+=f*Pe,j+=f*nt,f=B[1],G+=f*te,O+=f*ne,p+=f*ae,E+=f*ye,m+=f*pe,g+=f*oe,M+=f*fe,R+=f*le,x+=f*me,b+=f*Ne,d+=f*Ce,I+=f*Ie,W+=f*Ze,Q+=f*xe,j+=f*Pe,N+=f*nt,f=B[2],O+=f*te,p+=f*ne,E+=f*ae,m+=f*ye,g+=f*pe,M+=f*oe,R+=f*fe,x+=f*le,b+=f*me,d+=f*Ne,I+=f*Ce,W+=f*Ie,Q+=f*Ze,j+=f*xe,N+=f*Pe,Z+=f*nt,f=B[3],p+=f*te,E+=f*ne,m+=f*ae,g+=f*ye,M+=f*pe,R+=f*oe,x+=f*fe,b+=f*le,d+=f*me,I+=f*Ne,W+=f*Ce,Q+=f*Ie,j+=f*Ze,N+=f*xe,Z+=f*Pe,q+=f*nt,f=B[4],E+=f*te,m+=f*ne,g+=f*ae,M+=f*ye,R+=f*pe,x+=f*oe,b+=f*fe,d+=f*le,I+=f*me,W+=f*Ne,Q+=f*Ce,j+=f*Ie,N+=f*Ze,Z+=f*xe,q+=f*Pe,K+=f*nt,f=B[5],m+=f*te,g+=f*ne,M+=f*ae,R+=f*ye,x+=f*pe,b+=f*oe,d+=f*fe,I+=f*le,W+=f*me,Q+=f*Ne,j+=f*Ce,N+=f*Ie,Z+=f*Ze,q+=f*xe,K+=f*Pe,H+=f*nt,f=B[6],g+=f*te,M+=f*ne,R+=f*ae,x+=f*ye,b+=f*pe,d+=f*oe,I+=f*fe,W+=f*le,Q+=f*me,j+=f*Ne,N+=f*Ce,Z+=f*Ie,q+=f*Ze,K+=f*xe,H+=f*Pe,A+=f*nt,f=B[7],M+=f*te,R+=f*ne,x+=f*ae,b+=f*ye,d+=f*pe,I+=f*oe,W+=f*fe,Q+=f*le,j+=f*me,N+=f*Ne,Z+=f*Ce,q+=f*Ie,K+=f*Ze,H+=f*xe,A+=f*Pe,V+=f*nt,f=B[8],R+=f*te,x+=f*ne,b+=f*ae,d+=f*ye,I+=f*pe,W+=f*oe,Q+=f*fe,j+=f*le,N+=f*me,Z+=f*Ne,q+=f*Ce,K+=f*Ie,H+=f*Ze,A+=f*xe,V+=f*Pe,ie+=f*nt,f=B[9],x+=f*te,b+=f*ne,d+=f*ae,I+=f*ye,W+=f*pe,Q+=f*oe,j+=f*fe,N+=f*le,Z+=f*me,q+=f*Ne,K+=f*Ce,H+=f*Ie,A+=f*Ze,V+=f*xe,ie+=f*Pe,ce+=f*nt,f=B[10],b+=f*te,d+=f*ne,I+=f*ae,W+=f*ye,Q+=f*pe,j+=f*oe,N+=f*fe,Z+=f*le,q+=f*me,K+=f*Ne,H+=f*Ce,A+=f*Ie,V+=f*Ze,ie+=f*xe,ce+=f*Pe,he+=f*nt,f=B[11],d+=f*te,I+=f*ne,W+=f*ae,Q+=f*ye,j+=f*pe,N+=f*oe,Z+=f*fe,q+=f*le,K+=f*me,H+=f*Ne,A+=f*Ce,V+=f*Ie,ie+=f*Ze,ce+=f*xe,he+=f*Pe,ge+=f*nt,f=B[12],I+=f*te,W+=f*ne,Q+=f*ae,j+=f*ye,N+=f*pe,Z+=f*oe,q+=f*fe,K+=f*le,H+=f*me,A+=f*Ne,V+=f*Ce,ie+=f*Ie,ce+=f*Ze,he+=f*xe,ge+=f*Pe,z+=f*nt,f=B[13],W+=f*te,Q+=f*ne,j+=f*ae,N+=f*ye,Z+=f*pe,q+=f*oe,K+=f*fe,H+=f*le,A+=f*me,V+=f*Ne,ie+=f*Ce,ce+=f*Ie,he+=f*Ze,ge+=f*xe,z+=f*Pe,T+=f*nt,f=B[14],Q+=f*te,j+=f*ne,N+=f*ae,Z+=f*ye,q+=f*pe,K+=f*oe,H+=f*fe,A+=f*le,V+=f*me,ie+=f*Ne,ce+=f*Ce,he+=f*Ie,ge+=f*Ze,z+=f*xe,T+=f*Pe,F+=f*nt,f=B[15],j+=f*te,N+=f*ne,Z+=f*ae,q+=f*ye,K+=f*pe,H+=f*oe,A+=f*fe,V+=f*le,ie+=f*me,ce+=f*Ne,he+=f*Ce,ge+=f*Ie,z+=f*Ze,T+=f*xe,F+=f*Pe,J+=f*nt,$+=38*N,G+=38*Z,O+=38*q,p+=38*K,E+=38*H,m+=38*A,g+=38*V,M+=38*ie,R+=38*ce,x+=38*he,b+=38*ge,d+=38*z,I+=38*T,W+=38*F,Q+=38*J,D=1,f=$+D+65535,D=Math.floor(f/65536),$=f-D*65536,f=G+D+65535,D=Math.floor(f/65536),G=f-D*65536,f=O+D+65535,D=Math.floor(f/65536),O=f-D*65536,f=p+D+65535,D=Math.floor(f/65536),p=f-D*65536,f=E+D+65535,D=Math.floor(f/65536),E=f-D*65536,f=m+D+65535,D=Math.floor(f/65536),m=f-D*65536,f=g+D+65535,D=Math.floor(f/65536),g=f-D*65536,f=M+D+65535,D=Math.floor(f/65536),M=f-D*65536,f=R+D+65535,D=Math.floor(f/65536),R=f-D*65536,f=x+D+65535,D=Math.floor(f/65536),x=f-D*65536,f=b+D+65535,D=Math.floor(f/65536),b=f-D*65536,f=d+D+65535,D=Math.floor(f/65536),d=f-D*65536,f=I+D+65535,D=Math.floor(f/65536),I=f-D*65536,f=W+D+65535,D=Math.floor(f/65536),W=f-D*65536,f=Q+D+65535,D=Math.floor(f/65536),Q=f-D*65536,f=j+D+65535,D=Math.floor(f/65536),j=f-D*65536,$+=D-1+37*(D-1),D=1,f=$+D+65535,D=Math.floor(f/65536),$=f-D*65536,f=G+D+65535,D=Math.floor(f/65536),G=f-D*65536,f=O+D+65535,D=Math.floor(f/65536),O=f-D*65536,f=p+D+65535,D=Math.floor(f/65536),p=f-D*65536,f=E+D+65535,D=Math.floor(f/65536),E=f-D*65536,f=m+D+65535,D=Math.floor(f/65536),m=f-D*65536,f=g+D+65535,D=Math.floor(f/65536),g=f-D*65536,f=M+D+65535,D=Math.floor(f/65536),M=f-D*65536,f=R+D+65535,D=Math.floor(f/65536),R=f-D*65536,f=x+D+65535,D=Math.floor(f/65536),x=f-D*65536,f=b+D+65535,D=Math.floor(f/65536),b=f-D*65536,f=d+D+65535,D=Math.floor(f/65536),d=f-D*65536,f=I+D+65535,D=Math.floor(f/65536),I=f-D*65536,f=W+D+65535,D=Math.floor(f/65536),W=f-D*65536,f=Q+D+65535,D=Math.floor(f/65536),Q=f-D*65536,f=j+D+65535,D=Math.floor(f/65536),j=f-D*65536,$+=D-1+37*(D-1),P[0]=$,P[1]=G,P[2]=O,P[3]=p,P[4]=E,P[5]=m,P[6]=g,P[7]=M,P[8]=R,P[9]=x,P[10]=b,P[11]=d,P[12]=I,P[13]=W,P[14]=Q,P[15]=j}function y(P,B){v(P,B,B)}function k(P,B){for(var U=n(),f=0;f<16;f++)U[f]=B[f];for(var f=253;f>=0;f--)y(U,U),f!==2&&f!==4&&v(U,U,B);for(var f=0;f<16;f++)P[f]=U[f]}function _(P,B){for(var U=new Uint8Array(32),f=new Float64Array(80),D=n(),$=n(),G=n(),O=n(),p=n(),E=n(),m=0;m<31;m++)U[m]=P[m];U[31]=P[31]&127|64,U[0]&=248,l(f,B);for(var m=0;m<16;m++)$[m]=f[m];D[0]=O[0]=1;for(var m=254;m>=0;--m){var g=U[m>>>3]>>>(m&7)&1;u(D,$,g),u(G,O,g),c(p,D,G),h(D,D,G),c(G,$,O),h($,$,O),y(O,p),y(E,D),v(D,G,D),v(G,$,p),c(p,D,G),h(D,D,G),y($,D),h(G,O,E),v(D,G,o),c(D,D,O),v(G,G,D),v(D,O,E),v(O,$,f),y($,p),u(D,$,g),u(G,O,g)}for(var m=0;m<16;m++)f[m+16]=D[m],f[m+32]=G[m],f[m+48]=$[m],f[m+64]=O[m];var M=f.subarray(32),R=f.subarray(16);k(M,M),v(R,R,M);var x=new Uint8Array(32);return s(x,R),x}t.scalarMult=_;function S(P){return _(P,i)}t.scalarMultBase=S;function w(P){if(P.length!==t.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+t.SECRET_KEY_LENGTH+" bytes");var B=new Uint8Array(P),U=S(B);return{publicKey:U,secretKey:B}}t.generateKeyPairFromSeed=w;function C(P){var B=e.randomBytes(32,P),U=w(B);return r.wipe(B),U}t.generateKeyPair=C;function L(P,B,U){if(U===void 0&&(U=!1),P.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(B.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var f=_(P,B);if(U){for(var D=0,$=0;$<f.length;$++)D|=f[$];if(D===0)throw new Error("X25519: invalid shared key")}return f}t.sharedKey=L})(vi);var Nv={},gl={},yl={};Object.defineProperty(yl,"__esModule",{value:!0});var Ar=Ve,Fv=on,gF=20;function yF(t,e,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],s=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],c=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],v=r[23]<<24|r[22]<<16|r[21]<<8|r[20],y=r[27]<<24|r[26]<<16|r[25]<<8|r[24],k=r[31]<<24|r[30]<<16|r[29]<<8|r[28],_=e[3]<<24|e[2]<<16|e[1]<<8|e[0],S=e[7]<<24|e[6]<<16|e[5]<<8|e[4],w=e[11]<<24|e[10]<<16|e[9]<<8|e[8],C=e[15]<<24|e[14]<<16|e[13]<<8|e[12],L=n,P=i,B=o,U=a,f=u,D=s,$=l,G=c,O=h,p=v,E=y,m=k,g=_,M=S,R=w,x=C,b=0;b<gF;b+=2)L=L+f|0,g^=L,g=g>>>32-16|g<<16,O=O+g|0,f^=O,f=f>>>32-12|f<<12,P=P+D|0,M^=P,M=M>>>32-16|M<<16,p=p+M|0,D^=p,D=D>>>32-12|D<<12,B=B+$|0,R^=B,R=R>>>32-16|R<<16,E=E+R|0,$^=E,$=$>>>32-12|$<<12,U=U+G|0,x^=U,x=x>>>32-16|x<<16,m=m+x|0,G^=m,G=G>>>32-12|G<<12,B=B+$|0,R^=B,R=R>>>32-8|R<<8,E=E+R|0,$^=E,$=$>>>32-7|$<<7,U=U+G|0,x^=U,x=x>>>32-8|x<<8,m=m+x|0,G^=m,G=G>>>32-7|G<<7,P=P+D|0,M^=P,M=M>>>32-8|M<<8,p=p+M|0,D^=p,D=D>>>32-7|D<<7,L=L+f|0,g^=L,g=g>>>32-8|g<<8,O=O+g|0,f^=O,f=f>>>32-7|f<<7,L=L+D|0,x^=L,x=x>>>32-16|x<<16,E=E+x|0,D^=E,D=D>>>32-12|D<<12,P=P+$|0,g^=P,g=g>>>32-16|g<<16,m=m+g|0,$^=m,$=$>>>32-12|$<<12,B=B+G|0,M^=B,M=M>>>32-16|M<<16,O=O+M|0,G^=O,G=G>>>32-12|G<<12,U=U+f|0,R^=U,R=R>>>32-16|R<<16,p=p+R|0,f^=p,f=f>>>32-12|f<<12,B=B+G|0,M^=B,M=M>>>32-8|M<<8,O=O+M|0,G^=O,G=G>>>32-7|G<<7,U=U+f|0,R^=U,R=R>>>32-8|R<<8,p=p+R|0,f^=p,f=f>>>32-7|f<<7,P=P+$|0,g^=P,g=g>>>32-8|g<<8,m=m+g|0,$^=m,$=$>>>32-7|$<<7,L=L+D|0,x^=L,x=x>>>32-8|x<<8,E=E+x|0,D^=E,D=D>>>32-7|D<<7;Ar.writeUint32LE(L+n|0,t,0),Ar.writeUint32LE(P+i|0,t,4),Ar.writeUint32LE(B+o|0,t,8),Ar.writeUint32LE(U+a|0,t,12),Ar.writeUint32LE(f+u|0,t,16),Ar.writeUint32LE(D+s|0,t,20),Ar.writeUint32LE($+l|0,t,24),Ar.writeUint32LE(G+c|0,t,28),Ar.writeUint32LE(O+h|0,t,32),Ar.writeUint32LE(p+v|0,t,36),Ar.writeUint32LE(E+y|0,t,40),Ar.writeUint32LE(m+k|0,t,44),Ar.writeUint32LE(g+_|0,t,48),Ar.writeUint32LE(M+S|0,t,52),Ar.writeUint32LE(R+w|0,t,56),Ar.writeUint32LE(x+C|0,t,60)}function O_(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");o=new Uint8Array(16),a=o.length-e.length,o.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");o=e,a=i}for(var u=new Uint8Array(64),s=0;s<r.length;s+=64){yF(u,o,t);for(var l=s;l<s+64&&l<r.length;l++)n[l]=r[l]^u[l-s];_F(o,0,a)}return Fv.wipe(u),i===0&&Fv.wipe(o),n}yl.streamXOR=O_;function bF(t,e,r,n){return n===void 0&&(n=0),Fv.wipe(r),O_(t,e,r,r,n)}yl.stream=bF;function _F(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}Object.defineProperty(gl,"__esModule",{value:!0});var Eo=Ve,$_=on,wF=yl,xF=20;function L_(t,e,r,n){if(e.length!==24)throw new Error("XChaCha20 nonce must be 24 bytes");var i=R_(t,e.subarray(0,16),new Uint8Array(32)),o=new Uint8Array(12);o.set(e.subarray(16),4);var a=wF.streamXOR(i,o,r,n);return $_.wipe(i),a}gl.streamXOR=L_;function DF(t,e,r){return $_.wipe(r),L_(t,e,r,r)}gl.stream=DF;function R_(t,e,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,u=t[3]<<24|t[2]<<16|t[1]<<8|t[0],s=t[7]<<24|t[6]<<16|t[5]<<8|t[4],l=t[11]<<24|t[10]<<16|t[9]<<8|t[8],c=t[15]<<24|t[14]<<16|t[13]<<8|t[12],h=t[19]<<24|t[18]<<16|t[17]<<8|t[16],v=t[23]<<24|t[22]<<16|t[21]<<8|t[20],y=t[27]<<24|t[26]<<16|t[25]<<8|t[24],k=t[31]<<24|t[30]<<16|t[29]<<8|t[28],_=e[3]<<24|e[2]<<16|e[1]<<8|e[0],S=e[7]<<24|e[6]<<16|e[5]<<8|e[4],w=e[11]<<24|e[10]<<16|e[9]<<8|e[8],C=e[15]<<24|e[14]<<16|e[13]<<8|e[12],L=n,P=i,B=o,U=a,f=u,D=s,$=l,G=c,O=h,p=v,E=y,m=k,g=_,M=S,R=w,x=C,b=0;b<xF;b+=2)L=L+f|0,g^=L,g=g>>>32-16|g<<16,O=O+g|0,f^=O,f=f>>>32-12|f<<12,P=P+D|0,M^=P,M=M>>>32-16|M<<16,p=p+M|0,D^=p,D=D>>>32-12|D<<12,B=B+$|0,R^=B,R=R>>>32-16|R<<16,E=E+R|0,$^=E,$=$>>>32-12|$<<12,U=U+G|0,x^=U,x=x>>>32-16|x<<16,m=m+x|0,G^=m,G=G>>>32-12|G<<12,B=B+$|0,R^=B,R=R>>>32-8|R<<8,E=E+R|0,$^=E,$=$>>>32-7|$<<7,U=U+G|0,x^=U,x=x>>>32-8|x<<8,m=m+x|0,G^=m,G=G>>>32-7|G<<7,P=P+D|0,M^=P,M=M>>>32-8|M<<8,p=p+M|0,D^=p,D=D>>>32-7|D<<7,L=L+f|0,g^=L,g=g>>>32-8|g<<8,O=O+g|0,f^=O,f=f>>>32-7|f<<7,L=L+D|0,x^=L,x=x>>>32-16|x<<16,E=E+x|0,D^=E,D=D>>>32-12|D<<12,P=P+$|0,g^=P,g=g>>>32-16|g<<16,m=m+g|0,$^=m,$=$>>>32-12|$<<12,B=B+G|0,M^=B,M=M>>>32-16|M<<16,O=O+M|0,G^=O,G=G>>>32-12|G<<12,U=U+f|0,R^=U,R=R>>>32-16|R<<16,p=p+R|0,f^=p,f=f>>>32-12|f<<12,B=B+G|0,M^=B,M=M>>>32-8|M<<8,O=O+M|0,G^=O,G=G>>>32-7|G<<7,U=U+f|0,R^=U,R=R>>>32-8|R<<8,p=p+R|0,f^=p,f=f>>>32-7|f<<7,P=P+$|0,g^=P,g=g>>>32-8|g<<8,m=m+g|0,$^=m,$=$>>>32-7|$<<7,L=L+D|0,x^=L,x=x>>>32-8|x<<8,E=E+x|0,D^=E,D=D>>>32-7|D<<7;return Eo.writeUint32LE(L,r,0),Eo.writeUint32LE(P,r,4),Eo.writeUint32LE(B,r,8),Eo.writeUint32LE(U,r,12),Eo.writeUint32LE(g,r,16),Eo.writeUint32LE(M,r,20),Eo.writeUint32LE(R,r,24),Eo.writeUint32LE(x,r,28),r}gl.hchacha=R_;var B_={},U_={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});function EF(t,e,r){return~(t-1)&e|t-1&r}ua.select=EF;function SF(t,e){return(t|0)-(e|0)-1>>>31&1}ua.lessOrEqual=SF;function j_(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}ua.compare=j_;function AF(t,e){return t.length===0||e.length===0?!1:j_(t,e)!==0}ua.equal=AF;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ua,r=on;t.DIGEST_LENGTH=16;var n=function(){function a(u){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var s=u[0]|u[1]<<8;this._r[0]=s&8191;var l=u[2]|u[3]<<8;this._r[1]=(s>>>13|l<<3)&8191;var c=u[4]|u[5]<<8;this._r[2]=(l>>>10|c<<6)&7939;var h=u[6]|u[7]<<8;this._r[3]=(c>>>7|h<<9)&8191;var v=u[8]|u[9]<<8;this._r[4]=(h>>>4|v<<12)&255,this._r[5]=v>>>1&8190;var y=u[10]|u[11]<<8;this._r[6]=(v>>>14|y<<2)&8191;var k=u[12]|u[13]<<8;this._r[7]=(y>>>11|k<<5)&8065;var _=u[14]|u[15]<<8;this._r[8]=(k>>>8|_<<8)&8191,this._r[9]=_>>>5&127,this._pad[0]=u[16]|u[17]<<8,this._pad[1]=u[18]|u[19]<<8,this._pad[2]=u[20]|u[21]<<8,this._pad[3]=u[22]|u[23]<<8,this._pad[4]=u[24]|u[25]<<8,this._pad[5]=u[26]|u[27]<<8,this._pad[6]=u[28]|u[29]<<8,this._pad[7]=u[30]|u[31]<<8}return a.prototype._blocks=function(u,s,l){for(var c=this._fin?0:1<<11,h=this._h[0],v=this._h[1],y=this._h[2],k=this._h[3],_=this._h[4],S=this._h[5],w=this._h[6],C=this._h[7],L=this._h[8],P=this._h[9],B=this._r[0],U=this._r[1],f=this._r[2],D=this._r[3],$=this._r[4],G=this._r[5],O=this._r[6],p=this._r[7],E=this._r[8],m=this._r[9];l>=16;){var g=u[s+0]|u[s+1]<<8;h+=g&8191;var M=u[s+2]|u[s+3]<<8;v+=(g>>>13|M<<3)&8191;var R=u[s+4]|u[s+5]<<8;y+=(M>>>10|R<<6)&8191;var x=u[s+6]|u[s+7]<<8;k+=(R>>>7|x<<9)&8191;var b=u[s+8]|u[s+9]<<8;_+=(x>>>4|b<<12)&8191,S+=b>>>1&8191;var d=u[s+10]|u[s+11]<<8;w+=(b>>>14|d<<2)&8191;var I=u[s+12]|u[s+13]<<8;C+=(d>>>11|I<<5)&8191;var W=u[s+14]|u[s+15]<<8;L+=(I>>>8|W<<8)&8191,P+=W>>>5|c;var Q=0,j=Q;j+=h*B,j+=v*(5*m),j+=y*(5*E),j+=k*(5*p),j+=_*(5*O),Q=j>>>13,j&=8191,j+=S*(5*G),j+=w*(5*$),j+=C*(5*D),j+=L*(5*f),j+=P*(5*U),Q+=j>>>13,j&=8191;var N=Q;N+=h*U,N+=v*B,N+=y*(5*m),N+=k*(5*E),N+=_*(5*p),Q=N>>>13,N&=8191,N+=S*(5*O),N+=w*(5*G),N+=C*(5*$),N+=L*(5*D),N+=P*(5*f),Q+=N>>>13,N&=8191;var Z=Q;Z+=h*f,Z+=v*U,Z+=y*B,Z+=k*(5*m),Z+=_*(5*E),Q=Z>>>13,Z&=8191,Z+=S*(5*p),Z+=w*(5*O),Z+=C*(5*G),Z+=L*(5*$),Z+=P*(5*D),Q+=Z>>>13,Z&=8191;var q=Q;q+=h*D,q+=v*f,q+=y*U,q+=k*B,q+=_*(5*m),Q=q>>>13,q&=8191,q+=S*(5*E),q+=w*(5*p),q+=C*(5*O),q+=L*(5*G),q+=P*(5*$),Q+=q>>>13,q&=8191;var K=Q;K+=h*$,K+=v*D,K+=y*f,K+=k*U,K+=_*B,Q=K>>>13,K&=8191,K+=S*(5*m),K+=w*(5*E),K+=C*(5*p),K+=L*(5*O),K+=P*(5*G),Q+=K>>>13,K&=8191;var H=Q;H+=h*G,H+=v*$,H+=y*D,H+=k*f,H+=_*U,Q=H>>>13,H&=8191,H+=S*B,H+=w*(5*m),H+=C*(5*E),H+=L*(5*p),H+=P*(5*O),Q+=H>>>13,H&=8191;var A=Q;A+=h*O,A+=v*G,A+=y*$,A+=k*D,A+=_*f,Q=A>>>13,A&=8191,A+=S*U,A+=w*B,A+=C*(5*m),A+=L*(5*E),A+=P*(5*p),Q+=A>>>13,A&=8191;var V=Q;V+=h*p,V+=v*O,V+=y*G,V+=k*$,V+=_*D,Q=V>>>13,V&=8191,V+=S*f,V+=w*U,V+=C*B,V+=L*(5*m),V+=P*(5*E),Q+=V>>>13,V&=8191;var ie=Q;ie+=h*E,ie+=v*p,ie+=y*O,ie+=k*G,ie+=_*$,Q=ie>>>13,ie&=8191,ie+=S*D,ie+=w*f,ie+=C*U,ie+=L*B,ie+=P*(5*m),Q+=ie>>>13,ie&=8191;var ce=Q;ce+=h*m,ce+=v*E,ce+=y*p,ce+=k*O,ce+=_*G,Q=ce>>>13,ce&=8191,ce+=S*$,ce+=w*D,ce+=C*f,ce+=L*U,ce+=P*B,Q+=ce>>>13,ce&=8191,Q=(Q<<2)+Q|0,Q=Q+j|0,j=Q&8191,Q=Q>>>13,N+=Q,h=j,v=N,y=Z,k=q,_=K,S=H,w=A,C=V,L=ie,P=ce,s+=16,l-=16}this._h[0]=h,this._h[1]=v,this._h[2]=y,this._h[3]=k,this._h[4]=_,this._h[5]=S,this._h[6]=w,this._h[7]=C,this._h[8]=L,this._h[9]=P},a.prototype.finish=function(u,s){s===void 0&&(s=0);var l=new Uint16Array(10),c,h,v,y;if(this._leftover){for(y=this._leftover,this._buffer[y++]=1;y<16;y++)this._buffer[y]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(c=this._h[1]>>>13,this._h[1]&=8191,y=2;y<10;y++)this._h[y]+=c,c=this._h[y]>>>13,this._h[y]&=8191;for(this._h[0]+=c*5,c=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=c,c=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=c,l[0]=this._h[0]+5,c=l[0]>>>13,l[0]&=8191,y=1;y<10;y++)l[y]=this._h[y]+c,c=l[y]>>>13,l[y]&=8191;for(l[9]-=1<<13,h=(c^1)-1,y=0;y<10;y++)l[y]&=h;for(h=~h,y=0;y<10;y++)this._h[y]=this._h[y]&h|l[y];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,v=this._h[0]+this._pad[0],this._h[0]=v&65535,y=1;y<8;y++)v=(this._h[y]+this._pad[y]|0)+(v>>>16)|0,this._h[y]=v&65535;return u[s+0]=this._h[0]>>>0,u[s+1]=this._h[0]>>>8,u[s+2]=this._h[1]>>>0,u[s+3]=this._h[1]>>>8,u[s+4]=this._h[2]>>>0,u[s+5]=this._h[2]>>>8,u[s+6]=this._h[3]>>>0,u[s+7]=this._h[3]>>>8,u[s+8]=this._h[4]>>>0,u[s+9]=this._h[4]>>>8,u[s+10]=this._h[5]>>>0,u[s+11]=this._h[5]>>>8,u[s+12]=this._h[6]>>>0,u[s+13]=this._h[6]>>>8,u[s+14]=this._h[7]>>>0,u[s+15]=this._h[7]>>>8,this._finished=!0,this},a.prototype.update=function(u){var s=0,l=u.length,c;if(this._leftover){c=16-this._leftover,c>l&&(c=l);for(var h=0;h<c;h++)this._buffer[this._leftover+h]=u[s+h];if(l-=c,s+=c,this._leftover+=c,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(c=l-l%16,this._blocks(u,s,c),s+=c,l-=c),l){for(var h=0;h<l;h++)this._buffer[this._leftover+h]=u[s+h];this._leftover+=l}return this},a.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var u=new Uint8Array(16);return this.finish(u),u},a.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},a}();t.Poly1305=n;function i(a,u){var s=new n(a);s.update(u);var l=s.digest();return s.clean(),l}t.oneTimeAuth=i;function o(a,u){return a.length!==t.DIGEST_LENGTH||u.length!==t.DIGEST_LENGTH?!1:e.equal(a,u)}t.equal=o})(U_);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=yl,r=U_,n=on,i=Ve,o=ua;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var a=new Uint8Array(16),u=function(){function s(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return s.prototype.seal=function(l,c,h,v){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var y=new Uint8Array(16);y.set(l,y.length-l.length);var k=new Uint8Array(32);e.stream(this._key,y,k,4);var _=c.length+this.tagLength,S;if(v){if(v.length!==_)throw new Error("ChaCha20Poly1305: incorrect destination length");S=v}else S=new Uint8Array(_);return e.streamXOR(this._key,y,c,S,4),this._authenticate(S.subarray(S.length-this.tagLength,S.length),k,S.subarray(0,S.length-this.tagLength),h),n.wipe(y),S},s.prototype.open=function(l,c,h,v){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(c.length<this.tagLength)return null;var y=new Uint8Array(16);y.set(l,y.length-l.length);var k=new Uint8Array(32);e.stream(this._key,y,k,4);var _=new Uint8Array(this.tagLength);if(this._authenticate(_,k,c.subarray(0,c.length-this.tagLength),h),!o.equal(_,c.subarray(c.length-this.tagLength,c.length)))return null;var S=c.length-this.tagLength,w;if(v){if(v.length!==S)throw new Error("ChaCha20Poly1305: incorrect destination length");w=v}else w=new Uint8Array(S);return e.streamXOR(this._key,y,c.subarray(0,c.length-this.tagLength),w,4),n.wipe(y),w},s.prototype.clean=function(){return n.wipe(this._key),this},s.prototype._authenticate=function(l,c,h,v){var y=new r.Poly1305(c);v&&(y.update(v),v.length%16>0&&y.update(a.subarray(v.length%16))),y.update(h),h.length%16>0&&y.update(a.subarray(h.length%16));var k=new Uint8Array(8);v&&i.writeUint64LE(v.length,k),y.update(k),i.writeUint64LE(h.length,k),y.update(k);for(var _=y.digest(),S=0;S<_.length;S++)l[S]=_[S];y.clean(),n.wipe(_),n.wipe(k)},s}();t.ChaCha20Poly1305=u})(B_);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gl,r=B_,n=on;t.KEY_LENGTH=32,t.NONCE_LENGTH=24,t.TAG_LENGTH=16;var i=function(){function o(a){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,a.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(a)}return o.prototype.seal=function(a,u,s,l){if(a.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");var c=e.hchacha(this._key,a.subarray(0,16),new Uint8Array(32)),h=new Uint8Array(12);h.set(a.subarray(16),4);var v=new r.ChaCha20Poly1305(c),y=v.seal(h,u,s,l);return n.wipe(c),n.wipe(h),v.clean(),y},o.prototype.open=function(a,u,s,l){if(a.length!==24)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var c=e.hchacha(this._key,a.subarray(0,16),new Uint8Array(32)),h=new Uint8Array(12);h.set(a.subarray(16),4);var v=new r.ChaCha20Poly1305(c),y=v.open(h,u,s,l);return n.wipe(c),n.wipe(h),v.clean(),y},o.prototype.clean=function(){return n.wipe(this._key),this},o}();t.XChaCha20Poly1305=i})(Nv);function kr(t){return If(t,"base64url")}function qt(t){const e=t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return Un(e,"base64url")}function Ov(t){return Un(t,"base58btc")}function $v(t){const e=t.startsWith("0x")?t.substring(2):t;return Un(e.toLowerCase(),"base16")}function Lv(t){return kr(Un(t))}function Rv(t){return If(qt(t))}function sa(t){return If(t,"base16")}function z_(t){return Un(t)}function q_({r:t,s:e,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(Un(t,"base16"),0),i.set(Un(e,"base16"),32),n){if(typeof r=="undefined")throw new Error("Signer did not return a recoveryParam");i[64]=r}return kr(i)}function H_(t){const e=qt(t);if(e.length<64||e.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${e.length}`);const r=sa(e.slice(0,32)),n=sa(e.slice(32,64)),i=e.length===65?e[64]:void 0;return{r,s:n,recoveryParam:i}}function Bv(t,e){return Df([qt(t),qt(e)])}const kF=/^(0x)?([a-fA-F0-9]{64}|[a-fA-F0-9]{128})$/,CF=/^([1-9A-HJ-NP-Za-km-z]{44}|[1-9A-HJ-NP-Za-km-z]{88})$/,MF=/^([0-9a-zA-Z=\-_+/]{43}|[0-9a-zA-Z=\-_+/]{86})(={0,2})$/;function W_(t){if(typeof t=="string"){if(kF.test(t))return $v(t);if(CF.test(t))return Ov(t);if(MF.test(t))return qt(t);throw TypeError("bad_key: Invalid private key format")}else{if(t instanceof Uint8Array)return t;throw TypeError("bad_key: Invalid private key format")}}function G_(t,e=64){return t.length===e?t:"0".repeat(e-t.length)+t}function Uv(t){const e=typeof t=="string"?Un(t):t;return yo.hash(e)}function IF(t){return new Uint8Array(dv.exports.keccak_256.arrayBuffer(t))}function V_(t){const e=Un(t.slice(2),"base16");return`0x${If(IF(e).slice(-20),"base16")}`}function jv(t,e=new Uint8Array(4)){const r=Un(t.toString(),"base10");return e.set(r,4-r.length),e}const zv=t=>Df([jv(t.length),t]);function Jf(t,e,r,n,i){if(e!==256)throw new Error(`Unsupported key length: ${e}`);const o=Df([zv(Un(r)),zv(typeof n=="undefined"?new Uint8Array(0):n),zv(typeof i=="undefined"?new Uint8Array(0):i),jv(e)]),a=1;return yo.hash(Df([jv(a),t,o]))}const TF=new pv.ec("secp256k1");function qv(t,e=!1){const r=W_(t);if(r.length!==32)throw new Error(`bad_key: Invalid private key format. Expecting 32 bytes, but got ${r.length}`);const n=TF.keyFromPrivate(r);return function(i){try{const{r:o,s:a,recoveryParam:u}=n.sign(Uv(i));return Promise.resolve(q_({r:G_(o.toString("hex")),s:G_(a.toString("hex")),recoveryParam:u},e))}catch(o){return Promise.reject(o)}}}function PF(t){const e=qv(t,!0);return function(r){try{return Promise.resolve(e(r)).then(H_)}catch(n){return Promise.reject(n)}}}function NF(t){return qv(t)}function K_(t){const e=W_(t);if(e.length!==64)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${e.length}`);return function(r){try{const n=typeof r=="string"?z_(r):r,i=Kf.sign(e,n);return Promise.resolve(kr(i))}catch(n){return Promise.reject(n)}}}function FF(t){return K_(t)}function J_(t){return typeof t=="object"&&"r"in t&&"s"in t}function Y_(t){return function(r,n){try{return Promise.resolve(n(r)).then(function(i){if(J_(i))return q_(i,t);if(t&&typeof H_(i).recoveryParam=="undefined")throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return i})}catch(i){return Promise.reject(i)}}}function X_(){return function(e,r){try{return Promise.resolve(r(e)).then(function(n){if(J_(n))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return n})}catch(n){return Promise.reject(n)}}}const OF={ES256K:Y_(),"ES256K-R":Y_(!0),Ed25519:X_(),EdDSA:X_()};function $F(t){const e=OF[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}const Hv=new pv.ec("secp256k1");function Yf(t,e=!1){const r=qt(t);if(r.length!==(e?65:64))throw new Error("wrong signature length");const n=sa(r.slice(0,32)),i=sa(r.slice(32,64)),o={r:n,s:i};return e&&(o.recoveryParam=r[64]),o}function Wv(t){if(t.publicKeyBase58)return Ov(t.publicKeyBase58);if(t.publicKeyBase64)return qt(t.publicKeyBase64);if(t.publicKeyHex)return $v(t.publicKeyHex);if(t.publicKeyJwk&&t.publicKeyJwk.crv==="secp256k1"&&t.publicKeyJwk.x&&t.publicKeyJwk.y)return $v(Hv.keyFromPublic({x:sa(qt(t.publicKeyJwk.x)),y:sa(qt(t.publicKeyJwk.y))}).getPublic("hex"));if(t.publicKeyMultibase){const{base16:e,base58btc:r,base64:n,base64url:i}=Dn;return e.decoder.or(r.decoder.or(n.decoder.or(i.decoder))).decode(t.publicKeyMultibase)}return new Uint8Array}function LF(t,e,r){const n=Uv(t),i=Yf(e),o=r.filter(({ethereumAddress:s,blockchainAccountId:l})=>typeof s=="undefined"&&typeof l=="undefined"),a=r.filter(({ethereumAddress:s,blockchainAccountId:l})=>typeof s!="undefined"||typeof l!==void 0);let u=o.find(s=>{try{const l=Wv(s);return Hv.keyFromPublic(l).verify(n,i)}catch{return!1}});if(!u&&a.length>0&&(u=Q_(t,e,a)),!u)throw new Error("invalid_signature: Signature invalid for JWT");return u}function Q_(t,e,r){let n;if(e.length>86)n=[Yf(e,!0)];else{const a=Yf(e,!1);n=[Nr(Se({},a),{recoveryParam:0}),Nr(Se({},a),{recoveryParam:1})]}const i=a=>{const u=Uv(t),s=Hv.recoverPubKey(u,a,a.recoveryParam),l=s.encode("hex"),c=s.encode("hex",!0),h=V_(l);return r.find(y=>{var k,_,S;const w=sa(Wv(y));return w===l||w===c||((k=y.ethereumAddress)==null?void 0:k.toLowerCase())===h||((_=y.blockchainAccountId)==null||(S=_.split("@eip155"))==null?void 0:S[0].toLowerCase())===h})},o=n.map(i).filter(a=>typeof a!="undefined");if(o.length===0)throw new Error("invalid_signature: Signature invalid for JWT");return o[0]}function Z_(t,e,r){const n=z_(t),i=qt(e),o=r.find(a=>Kf.verify(Wv(a),n,i));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const RF={ES256K:LF,"ES256K-R":Q_,Ed25519:Z_,EdDSA:Z_};function ew(t){const e=RF[t];if(!e)throw new Error(`not_supported: Unsupported algorithm ${t}`);return e}ew.toSignatureObject=Yf;const BF=function(t,e,r,n){try{const i=zF[e];if(!i||i.length===0)throw new Error(`not_supported: No supported signature types for algorithm ${e}`);let o;return Promise.resolve(t.resolve(r,{accept:rw})).then(function(a){var u,s,l,c,h;if(Object.getOwnPropertyNames(a).indexOf("didDocument")===-1?o={didDocument:a,didDocumentMetadata:{},didResolutionMetadata:{contentType:rw}}:o=a,(u=o.didResolutionMetadata)!=null&&u.error||o.didDocument==null){const{error:S,message:w}=o.didResolutionMetadata;throw new Error(`resolver_error: Unable to resolve DID document for ${r}: ${S}, ${w||""}`)}const v=(S,w)=>{const C=S.filter(({id:L})=>w===L);return C.length>0?C[0]:null};let y=[...((s=o)==null||(l=s.didDocument)==null?void 0:l.verificationMethod)||[],...((c=o)==null||(h=c.didDocument)==null?void 0:h.publicKey)||[]];if(typeof n=="string"){var k;n.startsWith("assertion")&&!Object.getOwnPropertyNames((k=o)==null?void 0:k.didDocument).includes("assertionMethod")&&(o.didDocument=Se({},o.didDocument),o.didDocument.assertionMethod=[...y.map(S=>S.id)]),y=(o.didDocument[n]||[]).map(S=>typeof S=="string"?v(y,S):typeof S.publicKey=="string"?v(y,S.publicKey):S).filter(S=>S!=null)}const _=y.filter(({type:S})=>i.find(w=>w===S));if(typeof n=="string"&&(!_||_.length===0))throw new Error(`no_suitable_keys: DID document for ${r} does not have public keys suitable for ${e} with ${n} purpose`);if(!_||_.length===0)throw new Error(`no_suitable_keys: DID document for ${r} does not have public keys for ${e}`);return{authenticators:_,issuer:r,didResolutionResult:o}})}catch(i){return Promise.reject(i)}},UF=function(t,e={resolver:void 0,auth:void 0,audience:void 0,callbackUrl:void 0,skewTime:void 0,proofPurpose:void 0}){try{if(!e.resolver)throw new Error("missing_resolver: No DID resolver has been configured");const{payload:r,header:n,signature:i,data:o}=ow(t),a=Object.prototype.hasOwnProperty.call(e,"auth")?e.auth?"authentication":void 0:e.proofPurpose;return Promise.resolve(BF(e.resolver,n.alg,r.iss||"",a)).then(function({didResolutionResult:u,authenticators:s,issuer:l}){return Promise.resolve(aw({header:n,data:o,signature:i},s)).then(function(c){const h=Math.floor(Date.now()/1e3),v=typeof e.skewTime!="undefined"&&e.skewTime>=0?e.skewTime:HF;if(c){const y=h+v;if(r.nbf){if(r.nbf>y)throw new Error(`invalid_jwt: JWT not valid before nbf: ${r.nbf}`)}else if(r.iat&&r.iat>y)throw new Error(`invalid_jwt: JWT not valid yet (issued in the future) iat: ${r.iat}`);if(r.exp&&r.exp<=h-v)throw new Error(`invalid_jwt: JWT has expired: exp: ${r.exp} < now: ${h}`);if(r.aud){if(!e.audience&&!e.callbackUrl)throw new Error("invalid_config: JWT audience is required but your app address has not been configured");if(typeof(Array.isArray(r.aud)?r.aud:[r.aud]).find(S=>e.audience===S||e.callbackUrl===S)=="undefined")throw new Error("invalid_config: JWT audience does not match your DID or callback url")}return{payload:r,didResolutionResult:u,issuer:l,signer:c,jwt:t}}throw new Error("invalid_signature: JWT not valid. issuer DID document does not contain a verificationMethod that matches the signature.")})})}catch(r){return Promise.reject(r)}},jF=function(t,{issuer:e,signer:r,alg:n,expiresIn:i,canonicalize:o},a={}){try{if(!r)throw new Error("missing_signer: No Signer functionality has been configured");if(!e)throw new Error("missing_issuer: No issuing DID has been configured");a.typ||(a.typ="JWT"),a.alg||(a.alg=n);const u={iat:Math.floor(Date.now()/1e3),exp:void 0};if(i)if(typeof i=="number")u.exp=(t.nbf||u.iat)+Math.floor(i);else throw new Error("invalid_argument: JWT expiresIn is not a number");const s=Nr(Se(Se({},u),t),{iss:e});return tw(s,r,a,{canonicalize:o})}catch(u){return Promise.reject(u)}},tw=function(t,e,r={},n={}){try{r.alg||(r.alg=qF);const i=typeof t=="string"?t:nw(t,n.canonicalize),o=[nw(r,n.canonicalize),i].join("."),a=$F(r.alg);return Promise.resolve(a(o,e)).then(function(u){return[o,u].join(".")})}catch(i){return Promise.reject(i)}},zF={ES256K:["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],"ES256K-R":["EcdsaSecp256k1VerificationKey2019","EcdsaSecp256k1RecoveryMethod2020","Secp256k1VerificationKey2018","Secp256k1SignatureVerificationKey2018","EcdsaPublicKeySecp256k1"],Ed25519:["ED25519SignatureVerification","Ed25519VerificationKey2018"],EdDSA:["ED25519SignatureVerification","Ed25519VerificationKey2018"]},qF="ES256K",rw="application/did+json";function nw(t,e=!1){return Lv(e?mF(t):JSON.stringify(t))}const HF=300;function iw(t){const e=t.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(e)return{header:JSON.parse(Rv(e[1])),payload:e[2],signature:e[3],data:`${e[1]}.${e[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function ow(t){if(!t)throw new Error("invalid_argument: no JWT passed into decodeJWT");try{const e=iw(t);return Object.assign(e,{payload:JSON.parse(Rv(e.payload))})}catch{throw new Error("invalid_argument: Incorrect format JWT")}}function aw({header:t,data:e,signature:r},n){return Array.isArray(n)||(n=[n]),ew(t.alg)(e,r,n)}function WF(t,e){const r=iw(t);return aw(r,e)}function GF(t,e,r){for(var n;;){var i=t();if(So(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then)if(So(o))o=o.s;else{n=1;break}if(e){var a=e();if(a&&a.then&&!So(a)){n=2;break}}}var u=new la,s=Gt.bind(null,u,2);return(n===0?i.then(c):n===1?o.then(l):a.then(h)).then(void 0,s),u;function l(v){o=v;do{if(e&&(a=e(),a&&a.then&&!So(a))){a.then(h).then(void 0,s);return}if(i=t(),!i||So(i)&&!i.v){Gt(u,1,o);return}if(i.then){i.then(c).then(void 0,s);return}o=r(),So(o)&&(o=o.v)}while(!o||!o.then);o.then(l).then(void 0,s)}function c(v){v?(o=r(),o&&o.then?o.then(l).then(void 0,s):l(o)):Gt(u,1,o)}function h(){(i=t())?i.then?i.then(c).then(void 0,s):c(i):Gt(u,1,o)}}const VF=function(t,e){try{let n=function(l){if(u===null)throw new Error("failure: Failed to decrypt");return u},r;YF(t);const i=JSON.parse(Rv(t.protected));if(i.enc!==e.enc)throw new Error(`not_supported: Decrypter does not supported: '${i.enc}'`);const o=Bv(t.ciphertext,t.tag),a=new Uint8Array(Buffer.from(t.aad?`${t.protected}.${t.aad}`:t.protected));let u=null;const s=function(){return i.alg==="dir"&&e.alg==="dir"?Promise.resolve(e.decrypt(o,qt(t.iv),a)).then(function(l){u=l}):function(){if(!t.recipients||t.recipients.length===0)throw new Error("bad_jwe: missing recipients");{let l=0;return GF(function(){return!u&&l<t.recipients.length},function(){return l++},function(){const c=t.recipients[l];Object.assign(c.header,i);const h=function(){if(c.header.alg===e.alg)return Promise.resolve(e.decrypt(o,qt(t.iv),a,c)).then(function(v){u=v})}();if(h&&h.then)return h.then(function(){})})}}()}();return Promise.resolve(s&&s.then?s.then(n):n(s))}catch(r){return Promise.reject(r)}},uw=typeof Symbol!="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Gt(t,e,r){if(!t.s){if(r instanceof la)if(r.s)e&1&&(e=r.s),r=r.v;else{r.o=Gt.bind(null,t,e);return}if(r&&r.then){r.then(Gt.bind(null,t,e),Gt.bind(null,t,2));return}t.s=e,t.v=r;const n=t.o;n&&n(t)}}const la=function(){function t(){}return t.prototype.then=function(e,r){const n=new t,i=this.s;if(i){const o=i&1?e:r;if(o){try{Gt(n,1,o(this.v))}catch(a){Gt(n,2,a)}return n}else return this}return this.o=function(o){try{const a=o.v;o.s&1?Gt(n,1,e?e(a):a):r?Gt(n,1,r(a)):Gt(n,2,a)}catch(a){Gt(n,2,a)}},n},t}();function So(t){return t instanceof la&&t.s&1}function KF(t,e,r){var n=-1,i,o;function a(u){try{for(;++n<t.length&&(!r||!r());)if(u=e(n),u&&u.then)if(So(u))u=u.v;else{u.then(a,o||(o=Gt.bind(null,i=new la,2)));return}i?Gt(i,1,u):i=u}catch(s){Gt(i||(i=new la),2,s)}}return a(),i}function JF(t,e,r){if(typeof t[uw]=="function"){let c=function(h){try{for(;!(i=n.next()).done&&(!r||!r());)if(h=e(i.value),h&&h.then)if(So(h))h=h.v;else{h.then(c,a||(a=Gt.bind(null,o=new la,2)));return}o?Gt(o,1,h):o=h}catch(v){Gt(o||(o=new la),2,v)}};var n=t[uw](),i,o,a;if(c(),n.return){var u=function(h){try{i.done||n.return()}catch{}return h};if(o&&o.then)return o.then(u,function(h){throw u(h)});u()}return o}if(!("length"in t))throw new TypeError("Object is not iterable");for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return KF(s,function(c){return e(s[c])},r)}function YF(t){if(!(t.protected&&t.iv&&t.ciphertext&&t.tag))throw new Error("bad_jwe: missing properties");t.recipients&&t.recipients.map(e=>{if(!(e.header&&e.encrypted_key))throw new Error("bad_jwe: malformed recipients")})}function sw({ciphertext:t,tag:e,iv:r,protectedHeader:n,recipient:i},o){const a={protected:n,iv:kr(r),ciphertext:kr(t),tag:kr(e)};return o&&(a.aad=kr(o)),i&&(a.recipients=[i]),a}const XF=function(t,e,r={},n){try{if(e[0].alg==="dir"){if(e.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(e[0].encrypt(t,r,n)).then(function(i){return sw(i,n)})}else{const i=e[0].enc;if(!e.reduce((s,l)=>s&&l.enc===i,!0))throw new Error("invalid_argument: Incompatible encrypters passed");let o,a;const u=JF(e,function(s){const l=function(){return o?Promise.resolve(s.encryptCek==null?void 0:s.encryptCek(o)).then(function(c){if(c){var h,v;(h=a)==null||(v=h.recipients)==null||v.push(c)}}):Promise.resolve(s.encrypt(t,r,n)).then(function(c){o=c.cek,a=sw(c,n)})}();if(l&&l.then)return l.then(function(){})});return Promise.resolve(u&&u.then?u.then(function(){return a}):a)}}catch(i){return Promise.reject(i)}};function QF(t){if(t.length!==32)throw new Error("invalid_argument: incorrect secret key length for X25519");return function(e){try{if(e.length!==32)throw new Error("invalid_argument: incorrect publicKey key length for X25519");return Promise.resolve(vi.sharedKey(t,e))}catch(r){return Promise.reject(r)}}}const ZF=function(t,e){try{const r=function(i){try{return Promise.resolve(e.resolve(i)).then(function({didResolutionMetadata:o,didDocument:a}){var u;if(o!=null&&o.error||a==null)throw new Error(`resolver_error: Could not resolve ${i}: ${o.error}, ${o.message}`);if(!a.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);const l=((u=a.keyAgreement)==null?void 0:u.map(c=>typeof c=="string"?[...a.publicKey||[],...a.verificationMethod||[]].find(h=>h.id===c):c).filter(c=>typeof c!="undefined")).filter(c=>c.type==="X25519KeyAgreementKey2019"&&Boolean(c.publicKeyBase58));if(!l.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${i}`);return l.map(c=>Kv(Ov(c.publicKeyBase58),c.id))})}catch(o){return Promise.reject(o)}},n=t.map(i=>r(i));return Promise.resolve(Promise.all(n)).then(function(i){return[].concat(...i)})}catch(r){return Promise.reject(r)}};function eO(t,e,r={}){return lw(t,e,r)}function tO(t,e={}){return Kv(t,e==null?void 0:e.kid)}function rO(t,e){return hw(t,e)}function nO(t){return fw(t)}function Gv(t){const e=new Nv.XChaCha20Poly1305(t);return(r,n)=>{const i=Do.randomBytes(e.nonceLength),o=e.seal(i,r,n);return{ciphertext:o.subarray(0,o.length-e.tagLength),tag:o.subarray(o.length-e.tagLength),iv:i}}}function Vv(t){const e=function(o,a={},u){try{const s=Lv(JSON.stringify(Object.assign({alg:i},a,{enc:n}))),l=new Uint8Array(Buffer.from(u?`${s}.${kr(u)}`:s));return Promise.resolve(Nr(Se({},r(o,l)),{protectedHeader:s}))}catch(s){return Promise.reject(s)}},r=Gv(t),n="XC20P",i="dir";return{alg:i,enc:n,encrypt:e}}function bl(t){const e=function(n,i,o){try{return Promise.resolve(r.open(i,n,o))}catch(a){return Promise.reject(a)}},r=new Nv.XChaCha20Poly1305(t);return{alg:"dir",enc:"XC20P",decrypt:e}}function Kv(t,e){const r=function(u,s={},l){try{Object.assign(s,{alg:void 0});const c=Do.randomBytes(32);return Promise.resolve(Vv(c).encrypt(u,s,l)).then(function(h){return Promise.resolve(n(c)).then(function(v){return Nr(Se({},h),{recipient:v,cek:c})})})}catch(c){return Promise.reject(c)}},n=function(u){try{const s=vi.generateKeyPair(),l=vi.sharedKey(s.secretKey,t),c=Jf(l,o,i),h=Gv(c)(u),v={encrypted_key:kr(h.ciphertext),header:{alg:i,iv:kr(h.iv),tag:kr(h.tag),epk:{kty:"OKP",crv:a,x:kr(s.publicKey)}}};return e&&(v.header.kid=e),Promise.resolve(v)}catch(s){return Promise.reject(s)}},i="ECDH-ES+XC20PKW",o=256,a="X25519";return{alg:i,enc:"XC20P",encrypt:r,encryptCek:n}}function lw(t,e,r={}){const n=function(c,h={},v){try{Object.assign(h,{alg:void 0});const y=Do.randomBytes(32);return Promise.resolve(Vv(y).encrypt(c,h,v)).then(function(k){return Promise.resolve(i(y)).then(function(_){return Nr(Se({},k),{recipient:_,cek:y})})})}catch(y){return Promise.reject(y)}},i=function(c){try{let h=function(){const S=new Uint8Array(y.length+k.length);S.set(y),S.set(k,y.length);const w=Jf(S,a,o,s,l),C=Gv(w)(c),L={encrypted_key:kr(C.ciphertext),header:{alg:o,iv:kr(C.iv),tag:kr(C.tag),epk:{kty:"OKP",crv:u,x:kr(v.publicKey)}}};return r.kid&&(L.header.kid=r.kid),r.apu&&(L.header.apu=r.apu),r.apv&&(L.header.apv=r.apv),L};const v=vi.generateKeyPair(),y=vi.sharedKey(v.secretKey,t);let k;const _=function(){if(e instanceof Uint8Array)k=vi.sharedKey(e,t);else return Promise.resolve(e(t)).then(function(S){k=S})}();return Promise.resolve(_&&_.then?_.then(h):h(_))}catch(h){return Promise.reject(h)}},o="ECDH-1PU+XC20PKW",a=256,u="X25519";let s,l;return r.apu!==void 0&&(s=qt(r.apu)),r.apv!==void 0&&(l=qt(r.apv)),{alg:o,enc:"XC20P",encrypt:n,encryptCek:i}}function cw(t){if(!(t&&t.epk&&t.iv&&t.tag))throw new Error("bad_jwe: malformed header")}function fw(t){const e=function(o,a,u,s){try{let h=function(){const _=Jf(y,n,r),S=Bv(s.encrypted_key,s.header.tag);return Promise.resolve(bl(_).decrypt(S,qt(s.header.iv))).then(function(w){return w===null?null:bl(w).decrypt(o,a,u)})};var l,c;if(cw((l=s)==null?void 0:l.header),s=s,((c=s.header.epk)==null?void 0:c.crv)!==i||typeof s.header.epk.x=="undefined")return Promise.resolve(null);const v=qt(s.header.epk.x);let y;const k=function(){if(t instanceof Uint8Array)y=vi.sharedKey(t,v);else return Promise.resolve(t(v)).then(function(_){y=_})}();return Promise.resolve(k&&k.then?k.then(h):h(k))}catch(h){return Promise.reject(h)}},r="ECDH-ES+XC20PKW",n=256,i="X25519";return{alg:r,enc:"XC20P",decrypt:e}}function hw(t,e){const r=function(a,u,s,l){try{let h=function(){const S=new Uint8Array(y.length+k.length);S.set(y),S.set(k,y.length);let w,C;l.header.apu&&(w=qt(l.header.apu)),l.header.apv&&(C=qt(l.header.apv));const L=Jf(S,i,n,w,C),P=Bv(l.encrypted_key,l.header.tag);return Promise.resolve(bl(L).decrypt(P,qt(l.header.iv))).then(function(B){return B===null?null:bl(B).decrypt(a,u,s)})};var c;if(l=l,cw(l.header),((c=l.header.epk)==null?void 0:c.crv)!==o||typeof l.header.epk.x=="undefined")return Promise.resolve(null);const v=qt(l.header.epk.x);let y,k;const _=function(){if(t instanceof Uint8Array)y=vi.sharedKey(t,v),k=vi.sharedKey(t,e);else return Promise.resolve(t(v)).then(function(S){return y=S,Promise.resolve(t(e)).then(function(w){k=w})})}();return Promise.resolve(_&&_.then?_.then(h):h(_))}catch(h){return Promise.reject(h)}},n="ECDH-1PU+XC20PKW",i=256,o="X25519";return{alg:n,enc:"XC20P",decrypt:r}}var iO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ES256KSigner:qv,EdDSASigner:K_,EllipticSigner:NF,NaclSigner:FF,SimpleSigner:PF,createAnonDecrypter:nO,createAnonEncrypter:tO,createAuthDecrypter:rO,createAuthEncrypter:eO,createJWE:XF,createJWS:tw,createJWT:jF,createX25519ECDH:QF,decodeJWT:ow,decryptJWE:VF,resolveX25519Encrypters:ZF,toEthereumAddress:V_,verifyJWS:WF,verifyJWT:UF,x25519Decrypter:fw,x25519Encrypter:Kv,xc20pAuthDecrypterEcdh1PuV3x25519WithXc20PkwV2:hw,xc20pAuthEncrypterEcdh1PuV3x25519WithXc20PkwV2:lw,xc20pDirDecrypter:bl,xc20pDirEncrypter:Vv}),oO=Ft(iO),kn={},Jv={},dw={},_l={},Xf={};Xf.byteLength=sO;Xf.toByteArray=cO;Xf.fromByteArray=dO;var mi=[],Cn=[],aO=typeof Uint8Array!="undefined"?Uint8Array:Array,Yv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tu=0,uO=Yv.length;Tu<uO;++Tu)mi[Tu]=Yv[Tu],Cn[Yv.charCodeAt(Tu)]=Tu;Cn["-".charCodeAt(0)]=62;Cn["_".charCodeAt(0)]=63;function pw(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function sO(t){var e=pw(t),r=e[0],n=e[1];return(r+n)*3/4-n}function lO(t,e,r){return(e+r)*3/4-r}function cO(t){var e,r=pw(t),n=r[0],i=r[1],o=new aO(lO(t,n,i)),a=0,u=i>0?n-4:n,s;for(s=0;s<u;s+=4)e=Cn[t.charCodeAt(s)]<<18|Cn[t.charCodeAt(s+1)]<<12|Cn[t.charCodeAt(s+2)]<<6|Cn[t.charCodeAt(s+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=Cn[t.charCodeAt(s)]<<2|Cn[t.charCodeAt(s+1)]>>4,o[a++]=e&255),i===1&&(e=Cn[t.charCodeAt(s)]<<10|Cn[t.charCodeAt(s+1)]<<4|Cn[t.charCodeAt(s+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function fO(t){return mi[t>>18&63]+mi[t>>12&63]+mi[t>>6&63]+mi[t&63]}function hO(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(fO(n));return i.join("")}function dO(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,u=r-n;a<u;a+=o)i.push(hO(t,a,a+o>u?u:a+o));return n===1?(e=t[r-1],i.push(mi[e>>2]+mi[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(mi[e>>10]+mi[e>>4&63]+mi[e<<2&63]+"=")),i.join("")}var Qf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Qf.read=function(t,e,r,n,i){var o,a,u=i*8-n-1,s=(1<<u)-1,l=s>>1,c=-7,h=r?i-1:0,v=r?-1:1,y=t[e+h];for(h+=v,o=y&(1<<-c)-1,y>>=-c,c+=u;c>0;o=o*256+t[e+h],h+=v,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=a*256+t[e+h],h+=v,c-=8);if(o===0)o=1-l;else{if(o===s)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-l}return(y?-1:1)*a*Math.pow(2,o-n)};Qf.write=function(t,e,r,n,i,o){var a,u,s,l=o*8-i-1,c=(1<<l)-1,h=c>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,k=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-a))<1&&(a--,s*=2),a+h>=1?e+=v/s:e+=v*Math.pow(2,1-h),e*s>=2&&(a++,s/=2),a+h>=c?(u=0,a=c):a+h>=1?(u=(e*s-1)*Math.pow(2,i),a=a+h):(u=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+y]=u&255,y+=k,u/=256,i-=8);for(a=a<<i|u,l+=i;l>0;t[r+y]=a&255,y+=k,a/=256,l-=8);t[r+y-k]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=Xf,r=Qf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;var i=2147483647;t.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var z=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(z,T),z.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');var T=new Uint8Array(z);return Object.setPrototypeOf(T,u.prototype),T}function u(z,T,F){if(typeof z=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return s(z,T,F)}u.poolSize=8192;function s(z,T,F){if(typeof z=="string")return v(z,T);if(ArrayBuffer.isView(z))return k(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(ce(z,ArrayBuffer)||z&&ce(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(ce(z,SharedArrayBuffer)||z&&ce(z.buffer,SharedArrayBuffer)))return _(z,T,F);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=z.valueOf&&z.valueOf();if(J!=null&&J!==z)return u.from(J,T,F);var te=S(z);if(te)return te;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return u.from(z[Symbol.toPrimitive]("string"),T,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}u.from=function(z,T,F){return s(z,T,F)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function l(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function c(z,T,F){return l(z),z<=0?a(z):T!==void 0?typeof F=="string"?a(z).fill(T,F):a(z).fill(T):a(z)}u.alloc=function(z,T,F){return c(z,T,F)};function h(z){return l(z),a(z<0?0:w(z)|0)}u.allocUnsafe=function(z){return h(z)},u.allocUnsafeSlow=function(z){return h(z)};function v(z,T){if((typeof T!="string"||T==="")&&(T="utf8"),!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var F=L(z,T)|0,J=a(F),te=J.write(z,T);return te!==F&&(J=J.slice(0,te)),J}function y(z){for(var T=z.length<0?0:w(z.length)|0,F=a(T),J=0;J<T;J+=1)F[J]=z[J]&255;return F}function k(z){if(ce(z,Uint8Array)){var T=new Uint8Array(z);return _(T.buffer,T.byteOffset,T.byteLength)}return y(z)}function _(z,T,F){if(T<0||z.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<T+(F||0))throw new RangeError('"length" is outside of buffer bounds');var J;return T===void 0&&F===void 0?J=new Uint8Array(z):F===void 0?J=new Uint8Array(z,T):J=new Uint8Array(z,T,F),Object.setPrototypeOf(J,u.prototype),J}function S(z){if(u.isBuffer(z)){var T=w(z.length)|0,F=a(T);return F.length===0||z.copy(F,0,0,T),F}if(z.length!==void 0)return typeof z.length!="number"||he(z.length)?a(0):y(z);if(z.type==="Buffer"&&Array.isArray(z.data))return y(z.data)}function w(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function C(z){return+z!=z&&(z=0),u.alloc(+z)}u.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==u.prototype},u.compare=function(T,F){if(ce(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),ce(F,Uint8Array)&&(F=u.from(F,F.offset,F.byteLength)),!u.isBuffer(T)||!u.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===F)return 0;for(var J=T.length,te=F.length,ne=0,ae=Math.min(J,te);ne<ae;++ne)if(T[ne]!==F[ne]){J=T[ne],te=F[ne];break}return J<te?-1:te<J?1:0},u.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(T,F){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return u.alloc(0);var J;if(F===void 0)for(F=0,J=0;J<T.length;++J)F+=T[J].length;var te=u.allocUnsafe(F),ne=0;for(J=0;J<T.length;++J){var ae=T[J];if(ce(ae,Uint8Array))ne+ae.length>te.length?u.from(ae).copy(te,ne):Uint8Array.prototype.set.call(te,ae,ne);else if(u.isBuffer(ae))ae.copy(te,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=ae.length}return te};function L(z,T){if(u.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||ce(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var F=z.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&F===0)return 0;for(var te=!1;;)switch(T){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return K(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return V(z).length;default:if(te)return J?-1:K(z).length;T=(""+T).toLowerCase(),te=!0}}u.byteLength=L;function P(z,T,F){var J=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,T>>>=0,F<=T))return"";for(z||(z="utf8");;)switch(z){case"hex":return b(this,T,F);case"utf8":case"utf-8":return m(this,T,F);case"ascii":return R(this,T,F);case"latin1":case"binary":return x(this,T,F);case"base64":return E(this,T,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,T,F);default:if(J)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),J=!0}}u.prototype._isBuffer=!0;function B(z,T,F){var J=z[T];z[T]=z[F],z[F]=J}u.prototype.swap16=function(){var T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<T;F+=2)B(this,F,F+1);return this},u.prototype.swap32=function(){var T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<T;F+=4)B(this,F,F+3),B(this,F+1,F+2);return this},u.prototype.swap64=function(){var T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<T;F+=8)B(this,F,F+7),B(this,F+1,F+6),B(this,F+2,F+5),B(this,F+3,F+4);return this},u.prototype.toString=function(){var T=this.length;return T===0?"":arguments.length===0?m(this,0,T):P.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(T){if(!u.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:u.compare(this,T)===0},u.prototype.inspect=function(){var T="",F=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(T+=" ... "),"<Buffer "+T+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(T,F,J,te,ne){if(ce(T,Uint8Array)&&(T=u.from(T,T.offset,T.byteLength)),!u.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(F===void 0&&(F=0),J===void 0&&(J=T?T.length:0),te===void 0&&(te=0),ne===void 0&&(ne=this.length),F<0||J>T.length||te<0||ne>this.length)throw new RangeError("out of range index");if(te>=ne&&F>=J)return 0;if(te>=ne)return-1;if(F>=J)return 1;if(F>>>=0,J>>>=0,te>>>=0,ne>>>=0,this===T)return 0;for(var ae=ne-te,ye=J-F,pe=Math.min(ae,ye),oe=this.slice(te,ne),fe=T.slice(F,J),le=0;le<pe;++le)if(oe[le]!==fe[le]){ae=oe[le],ye=fe[le];break}return ae<ye?-1:ye<ae?1:0};function U(z,T,F,J,te){if(z.length===0)return-1;if(typeof F=="string"?(J=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,he(F)&&(F=te?0:z.length-1),F<0&&(F=z.length+F),F>=z.length){if(te)return-1;F=z.length-1}else if(F<0)if(te)F=0;else return-1;if(typeof T=="string"&&(T=u.from(T,J)),u.isBuffer(T))return T.length===0?-1:f(z,T,F,J,te);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(z,T,F):Uint8Array.prototype.lastIndexOf.call(z,T,F):f(z,[T],F,J,te);throw new TypeError("val must be string, number or Buffer")}function f(z,T,F,J,te){var ne=1,ae=z.length,ye=T.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(z.length<2||T.length<2)return-1;ne=2,ae/=2,ye/=2,F/=2}function pe(Ne,Ce){return ne===1?Ne[Ce]:Ne.readUInt16BE(Ce*ne)}var oe;if(te){var fe=-1;for(oe=F;oe<ae;oe++)if(pe(z,oe)===pe(T,fe===-1?0:oe-fe)){if(fe===-1&&(fe=oe),oe-fe+1===ye)return fe*ne}else fe!==-1&&(oe-=oe-fe),fe=-1}else for(F+ye>ae&&(F=ae-ye),oe=F;oe>=0;oe--){for(var le=!0,me=0;me<ye;me++)if(pe(z,oe+me)!==pe(T,me)){le=!1;break}if(le)return oe}return-1}u.prototype.includes=function(T,F,J){return this.indexOf(T,F,J)!==-1},u.prototype.indexOf=function(T,F,J){return U(this,T,F,J,!0)},u.prototype.lastIndexOf=function(T,F,J){return U(this,T,F,J,!1)};function D(z,T,F,J){F=Number(F)||0;var te=z.length-F;J?(J=Number(J),J>te&&(J=te)):J=te;var ne=T.length;J>ne/2&&(J=ne/2);for(var ae=0;ae<J;++ae){var ye=parseInt(T.substr(ae*2,2),16);if(he(ye))return ae;z[F+ae]=ye}return ae}function $(z,T,F,J){return ie(K(T,z.length-F),z,F,J)}function G(z,T,F,J){return ie(H(T),z,F,J)}function O(z,T,F,J){return ie(V(T),z,F,J)}function p(z,T,F,J){return ie(A(T,z.length-F),z,F,J)}u.prototype.write=function(T,F,J,te){if(F===void 0)te="utf8",J=this.length,F=0;else if(J===void 0&&typeof F=="string")te=F,J=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(J)?(J=J>>>0,te===void 0&&(te="utf8")):(te=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ne=this.length-F;if((J===void 0||J>ne)&&(J=ne),T.length>0&&(J<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var ae=!1;;)switch(te){case"hex":return D(this,T,F,J);case"utf8":case"utf-8":return $(this,T,F,J);case"ascii":case"latin1":case"binary":return G(this,T,F,J);case"base64":return O(this,T,F,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,T,F,J);default:if(ae)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ae=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(z,T,F){return T===0&&F===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(T,F))}function m(z,T,F){F=Math.min(z.length,F);for(var J=[],te=T;te<F;){var ne=z[te],ae=null,ye=ne>239?4:ne>223?3:ne>191?2:1;if(te+ye<=F){var pe,oe,fe,le;switch(ye){case 1:ne<128&&(ae=ne);break;case 2:pe=z[te+1],(pe&192)==128&&(le=(ne&31)<<6|pe&63,le>127&&(ae=le));break;case 3:pe=z[te+1],oe=z[te+2],(pe&192)==128&&(oe&192)==128&&(le=(ne&15)<<12|(pe&63)<<6|oe&63,le>2047&&(le<55296||le>57343)&&(ae=le));break;case 4:pe=z[te+1],oe=z[te+2],fe=z[te+3],(pe&192)==128&&(oe&192)==128&&(fe&192)==128&&(le=(ne&15)<<18|(pe&63)<<12|(oe&63)<<6|fe&63,le>65535&&le<1114112&&(ae=le))}}ae===null?(ae=65533,ye=1):ae>65535&&(ae-=65536,J.push(ae>>>10&1023|55296),ae=56320|ae&1023),J.push(ae),te+=ye}return M(J)}var g=4096;function M(z){var T=z.length;if(T<=g)return String.fromCharCode.apply(String,z);for(var F="",J=0;J<T;)F+=String.fromCharCode.apply(String,z.slice(J,J+=g));return F}function R(z,T,F){var J="";F=Math.min(z.length,F);for(var te=T;te<F;++te)J+=String.fromCharCode(z[te]&127);return J}function x(z,T,F){var J="";F=Math.min(z.length,F);for(var te=T;te<F;++te)J+=String.fromCharCode(z[te]);return J}function b(z,T,F){var J=z.length;(!T||T<0)&&(T=0),(!F||F<0||F>J)&&(F=J);for(var te="",ne=T;ne<F;++ne)te+=ge[z[ne]];return te}function d(z,T,F){for(var J=z.slice(T,F),te="",ne=0;ne<J.length-1;ne+=2)te+=String.fromCharCode(J[ne]+J[ne+1]*256);return te}u.prototype.slice=function(T,F){var J=this.length;T=~~T,F=F===void 0?J:~~F,T<0?(T+=J,T<0&&(T=0)):T>J&&(T=J),F<0?(F+=J,F<0&&(F=0)):F>J&&(F=J),F<T&&(F=T);var te=this.subarray(T,F);return Object.setPrototypeOf(te,u.prototype),te};function I(z,T,F){if(z%1!=0||z<0)throw new RangeError("offset is not uint");if(z+T>F)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(T,F,J){T=T>>>0,F=F>>>0,J||I(T,F,this.length);for(var te=this[T],ne=1,ae=0;++ae<F&&(ne*=256);)te+=this[T+ae]*ne;return te},u.prototype.readUintBE=u.prototype.readUIntBE=function(T,F,J){T=T>>>0,F=F>>>0,J||I(T,F,this.length);for(var te=this[T+--F],ne=1;F>0&&(ne*=256);)te+=this[T+--F]*ne;return te},u.prototype.readUint8=u.prototype.readUInt8=function(T,F){return T=T>>>0,F||I(T,1,this.length),this[T]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(T,F){return T=T>>>0,F||I(T,2,this.length),this[T]|this[T+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(T,F){return T=T>>>0,F||I(T,2,this.length),this[T]<<8|this[T+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(T,F){return T=T>>>0,F||I(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(T,F){return T=T>>>0,F||I(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},u.prototype.readIntLE=function(T,F,J){T=T>>>0,F=F>>>0,J||I(T,F,this.length);for(var te=this[T],ne=1,ae=0;++ae<F&&(ne*=256);)te+=this[T+ae]*ne;return ne*=128,te>=ne&&(te-=Math.pow(2,8*F)),te},u.prototype.readIntBE=function(T,F,J){T=T>>>0,F=F>>>0,J||I(T,F,this.length);for(var te=F,ne=1,ae=this[T+--te];te>0&&(ne*=256);)ae+=this[T+--te]*ne;return ne*=128,ae>=ne&&(ae-=Math.pow(2,8*F)),ae},u.prototype.readInt8=function(T,F){return T=T>>>0,F||I(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},u.prototype.readInt16LE=function(T,F){T=T>>>0,F||I(T,2,this.length);var J=this[T]|this[T+1]<<8;return J&32768?J|4294901760:J},u.prototype.readInt16BE=function(T,F){T=T>>>0,F||I(T,2,this.length);var J=this[T+1]|this[T]<<8;return J&32768?J|4294901760:J},u.prototype.readInt32LE=function(T,F){return T=T>>>0,F||I(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},u.prototype.readInt32BE=function(T,F){return T=T>>>0,F||I(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},u.prototype.readFloatLE=function(T,F){return T=T>>>0,F||I(T,4,this.length),r.read(this,T,!0,23,4)},u.prototype.readFloatBE=function(T,F){return T=T>>>0,F||I(T,4,this.length),r.read(this,T,!1,23,4)},u.prototype.readDoubleLE=function(T,F){return T=T>>>0,F||I(T,8,this.length),r.read(this,T,!0,52,8)},u.prototype.readDoubleBE=function(T,F){return T=T>>>0,F||I(T,8,this.length),r.read(this,T,!1,52,8)};function W(z,T,F,J,te,ne){if(!u.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>te||T<ne)throw new RangeError('"value" argument is out of bounds');if(F+J>z.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(T,F,J,te){if(T=+T,F=F>>>0,J=J>>>0,!te){var ne=Math.pow(2,8*J)-1;W(this,T,F,J,ne,0)}var ae=1,ye=0;for(this[F]=T&255;++ye<J&&(ae*=256);)this[F+ye]=T/ae&255;return F+J},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(T,F,J,te){if(T=+T,F=F>>>0,J=J>>>0,!te){var ne=Math.pow(2,8*J)-1;W(this,T,F,J,ne,0)}var ae=J-1,ye=1;for(this[F+ae]=T&255;--ae>=0&&(ye*=256);)this[F+ae]=T/ye&255;return F+J},u.prototype.writeUint8=u.prototype.writeUInt8=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,1,255,0),this[F]=T&255,F+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,2,65535,0),this[F]=T&255,this[F+1]=T>>>8,F+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,2,65535,0),this[F]=T>>>8,this[F+1]=T&255,F+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,4,4294967295,0),this[F+3]=T>>>24,this[F+2]=T>>>16,this[F+1]=T>>>8,this[F]=T&255,F+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,4,4294967295,0),this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=T&255,F+4},u.prototype.writeIntLE=function(T,F,J,te){if(T=+T,F=F>>>0,!te){var ne=Math.pow(2,8*J-1);W(this,T,F,J,ne-1,-ne)}var ae=0,ye=1,pe=0;for(this[F]=T&255;++ae<J&&(ye*=256);)T<0&&pe===0&&this[F+ae-1]!==0&&(pe=1),this[F+ae]=(T/ye>>0)-pe&255;return F+J},u.prototype.writeIntBE=function(T,F,J,te){if(T=+T,F=F>>>0,!te){var ne=Math.pow(2,8*J-1);W(this,T,F,J,ne-1,-ne)}var ae=J-1,ye=1,pe=0;for(this[F+ae]=T&255;--ae>=0&&(ye*=256);)T<0&&pe===0&&this[F+ae+1]!==0&&(pe=1),this[F+ae]=(T/ye>>0)-pe&255;return F+J},u.prototype.writeInt8=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,1,127,-128),T<0&&(T=255+T+1),this[F]=T&255,F+1},u.prototype.writeInt16LE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,2,32767,-32768),this[F]=T&255,this[F+1]=T>>>8,F+2},u.prototype.writeInt16BE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,2,32767,-32768),this[F]=T>>>8,this[F+1]=T&255,F+2},u.prototype.writeInt32LE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,4,2147483647,-2147483648),this[F]=T&255,this[F+1]=T>>>8,this[F+2]=T>>>16,this[F+3]=T>>>24,F+4},u.prototype.writeInt32BE=function(T,F,J){return T=+T,F=F>>>0,J||W(this,T,F,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[F]=T>>>24,this[F+1]=T>>>16,this[F+2]=T>>>8,this[F+3]=T&255,F+4};function Q(z,T,F,J,te,ne){if(F+J>z.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function j(z,T,F,J,te){return T=+T,F=F>>>0,te||Q(z,T,F,4),r.write(z,T,F,J,23,4),F+4}u.prototype.writeFloatLE=function(T,F,J){return j(this,T,F,!0,J)},u.prototype.writeFloatBE=function(T,F,J){return j(this,T,F,!1,J)};function N(z,T,F,J,te){return T=+T,F=F>>>0,te||Q(z,T,F,8),r.write(z,T,F,J,52,8),F+8}u.prototype.writeDoubleLE=function(T,F,J){return N(this,T,F,!0,J)},u.prototype.writeDoubleBE=function(T,F,J){return N(this,T,F,!1,J)},u.prototype.copy=function(T,F,J,te){if(!u.isBuffer(T))throw new TypeError("argument should be a Buffer");if(J||(J=0),!te&&te!==0&&(te=this.length),F>=T.length&&(F=T.length),F||(F=0),te>0&&te<J&&(te=J),te===J||T.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),T.length-F<te-J&&(te=T.length-F+J);var ne=te-J;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,J,te):Uint8Array.prototype.set.call(T,this.subarray(J,te),F),ne},u.prototype.fill=function(T,F,J,te){if(typeof T=="string"){if(typeof F=="string"?(te=F,F=0,J=this.length):typeof J=="string"&&(te=J,J=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!u.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(T.length===1){var ne=T.charCodeAt(0);(te==="utf8"&&ne<128||te==="latin1")&&(T=ne)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(F<0||this.length<F||this.length<J)throw new RangeError("Out of range index");if(J<=F)return this;F=F>>>0,J=J===void 0?this.length:J>>>0,T||(T=0);var ae;if(typeof T=="number")for(ae=F;ae<J;++ae)this[ae]=T;else{var ye=u.isBuffer(T)?T:u.from(T,te),pe=ye.length;if(pe===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ae=0;ae<J-F;++ae)this[ae+F]=ye[ae%pe]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function q(z){if(z=z.split("=")[0],z=z.trim().replace(Z,""),z.length<2)return"";for(;z.length%4!=0;)z=z+"=";return z}function K(z,T){T=T||1/0;for(var F,J=z.length,te=null,ne=[],ae=0;ae<J;++ae){if(F=z.charCodeAt(ae),F>55295&&F<57344){if(!te){if(F>56319){(T-=3)>-1&&ne.push(239,191,189);continue}else if(ae+1===J){(T-=3)>-1&&ne.push(239,191,189);continue}te=F;continue}if(F<56320){(T-=3)>-1&&ne.push(239,191,189),te=F;continue}F=(te-55296<<10|F-56320)+65536}else te&&(T-=3)>-1&&ne.push(239,191,189);if(te=null,F<128){if((T-=1)<0)break;ne.push(F)}else if(F<2048){if((T-=2)<0)break;ne.push(F>>6|192,F&63|128)}else if(F<65536){if((T-=3)<0)break;ne.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((T-=4)<0)break;ne.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return ne}function H(z){for(var T=[],F=0;F<z.length;++F)T.push(z.charCodeAt(F)&255);return T}function A(z,T){for(var F,J,te,ne=[],ae=0;ae<z.length&&!((T-=2)<0);++ae)F=z.charCodeAt(ae),J=F>>8,te=F%256,ne.push(te),ne.push(J);return ne}function V(z){return e.toByteArray(q(z))}function ie(z,T,F,J){for(var te=0;te<J&&!(te+F>=T.length||te>=z.length);++te)T[te+F]=z[te];return te}function ce(z,T){return z instanceof T||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===T.name}function he(z){return z!==z}var ge=function(){for(var z="0123456789abcdef",T=new Array(256),F=0;F<16;++F)for(var J=F*16,te=0;te<16;++te)T[J+te]=z[F]+z[te];return T}()})(_l);var pO=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Xv=Math.ceil,gi=Math.floor,Jr="[BigNumber Error] ",vw=Jr+"Number primitive has more than 15 significant digits: ",qn=1e14,Ke=14,Qv=9007199254740991,Zv=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Ao=1e7,rr=1e9;function mw(t){var e,r,n,i=w.prototype={constructor:w,toString:null,valueOf:null},o=new w(1),a=20,u=4,s=-7,l=21,c=-1e7,h=1e7,v=!1,y=1,k=0,_={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},S="0123456789abcdefghijklmnopqrstuvwxyz";function w(f,D){var $,G,O,p,E,m,g,M,R=this;if(!(R instanceof w))return new w(f,D);if(D==null){if(f&&f._isBigNumber===!0){R.s=f.s,!f.c||f.e>h?R.c=R.e=null:f.e<c?R.c=[R.e=0]:(R.e=f.e,R.c=f.c.slice());return}if((m=typeof f=="number")&&f*0==0){if(R.s=1/f<0?(f=-f,-1):1,f===~~f){for(p=0,E=f;E>=10;E/=10,p++);p>h?R.c=R.e=null:(R.e=p,R.c=[f]);return}M=String(f)}else{if(!pO.test(M=String(f)))return n(R,M,m);R.s=M.charCodeAt(0)==45?(M=M.slice(1),-1):1}(p=M.indexOf("."))>-1&&(M=M.replace(".","")),(E=M.search(/e/i))>0?(p<0&&(p=E),p+=+M.slice(E+1),M=M.substring(0,E)):p<0&&(p=M.length)}else{if(Pt(D,2,S.length,"Base"),D==10)return R=new w(f),B(R,a+R.e+1,u);if(M=String(f),m=typeof f=="number"){if(f*0!=0)return n(R,M,m,D);if(R.s=1/f<0?(M=M.slice(1),-1):1,w.DEBUG&&M.replace(/^0\.0*|\./,"").length>15)throw Error(vw+f)}else R.s=M.charCodeAt(0)===45?(M=M.slice(1),-1):1;for($=S.slice(0,D),p=E=0,g=M.length;E<g;E++)if($.indexOf(G=M.charAt(E))<0){if(G=="."){if(E>p){p=g;continue}}else if(!O&&(M==M.toUpperCase()&&(M=M.toLowerCase())||M==M.toLowerCase()&&(M=M.toUpperCase()))){O=!0,E=-1,p=0;continue}return n(R,String(f),m,D)}m=!1,M=r(M,D,10,R.s),(p=M.indexOf("."))>-1?M=M.replace(".",""):p=M.length}for(E=0;M.charCodeAt(E)===48;E++);for(g=M.length;M.charCodeAt(--g)===48;);if(M=M.slice(E,++g)){if(g-=E,m&&w.DEBUG&&g>15&&(f>Qv||f!==gi(f)))throw Error(vw+R.s*f);if((p=p-E-1)>h)R.c=R.e=null;else if(p<c)R.c=[R.e=0];else{if(R.e=p,R.c=[],E=(p+1)%Ke,p<0&&(E+=Ke),E<g){for(E&&R.c.push(+M.slice(0,E)),g-=Ke;E<g;)R.c.push(+M.slice(E,E+=Ke));E=Ke-(M=M.slice(E)).length}else E-=g;for(;E--;M+="0");R.c.push(+M)}}else R.c=[R.e=0]}w.clone=mw,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(f){var D,$;if(f!=null)if(typeof f=="object"){if(f.hasOwnProperty(D="DECIMAL_PLACES")&&($=f[D],Pt($,0,rr,D),a=$),f.hasOwnProperty(D="ROUNDING_MODE")&&($=f[D],Pt($,0,8,D),u=$),f.hasOwnProperty(D="EXPONENTIAL_AT")&&($=f[D],$&&$.pop?(Pt($[0],-rr,0,D),Pt($[1],0,rr,D),s=$[0],l=$[1]):(Pt($,-rr,rr,D),s=-(l=$<0?-$:$))),f.hasOwnProperty(D="RANGE"))if($=f[D],$&&$.pop)Pt($[0],-rr,-1,D),Pt($[1],1,rr,D),c=$[0],h=$[1];else if(Pt($,-rr,rr,D),$)c=-(h=$<0?-$:$);else throw Error(Jr+D+" cannot be zero: "+$);if(f.hasOwnProperty(D="CRYPTO"))if($=f[D],$===!!$)if($)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=$;else throw v=!$,Error(Jr+"crypto unavailable");else v=$;else throw Error(Jr+D+" not true or false: "+$);if(f.hasOwnProperty(D="MODULO_MODE")&&($=f[D],Pt($,0,9,D),y=$),f.hasOwnProperty(D="POW_PRECISION")&&($=f[D],Pt($,0,rr,D),k=$),f.hasOwnProperty(D="FORMAT"))if($=f[D],typeof $=="object")_=$;else throw Error(Jr+D+" not an object: "+$);if(f.hasOwnProperty(D="ALPHABET"))if($=f[D],typeof $=="string"&&!/^.$|[+-.\s]|(.).*\1/.test($))S=$;else throw Error(Jr+D+" invalid: "+$)}else throw Error(Jr+"Object expected: "+f);return{DECIMAL_PLACES:a,ROUNDING_MODE:u,EXPONENTIAL_AT:[s,l],RANGE:[c,h],CRYPTO:v,MODULO_MODE:y,POW_PRECISION:k,FORMAT:_,ALPHABET:S}},w.isBigNumber=function(f){if(!f||f._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var D,$,G=f.c,O=f.e,p=f.s;e:if({}.toString.call(G)=="[object Array]"){if((p===1||p===-1)&&O>=-rr&&O<=rr&&O===gi(O)){if(G[0]===0){if(O===0&&G.length===1)return!0;break e}if(D=(O+1)%Ke,D<1&&(D+=Ke),String(G[0]).length==D){for(D=0;D<G.length;D++)if($=G[D],$<0||$>=qn||$!==gi($))break e;if($!==0)return!0}}}else if(G===null&&O===null&&(p===null||p===1||p===-1))return!0;throw Error(Jr+"Invalid BigNumber: "+f)},w.maximum=w.max=function(){return L(arguments,i.lt)},w.minimum=w.min=function(){return L(arguments,i.gt)},w.random=function(){var f=9007199254740992,D=Math.random()*f&2097151?function(){return gi(Math.random()*f)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function($){var G,O,p,E,m,g=0,M=[],R=new w(o);if($==null?$=a:Pt($,0,rr),E=Xv($/Ke),v)if(crypto.getRandomValues){for(G=crypto.getRandomValues(new Uint32Array(E*=2));g<E;)m=G[g]*131072+(G[g+1]>>>11),m>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),G[g]=O[0],G[g+1]=O[1]):(M.push(m%1e14),g+=2);g=E/2}else if(crypto.randomBytes){for(G=crypto.randomBytes(E*=7);g<E;)m=(G[g]&31)*281474976710656+G[g+1]*1099511627776+G[g+2]*4294967296+G[g+3]*16777216+(G[g+4]<<16)+(G[g+5]<<8)+G[g+6],m>=9e15?crypto.randomBytes(7).copy(G,g):(M.push(m%1e14),g+=7);g=E/7}else throw v=!1,Error(Jr+"crypto unavailable");if(!v)for(;g<E;)m=D(),m<9e15&&(M[g++]=m%1e14);for(E=M[--g],$%=Ke,E&&$&&(m=Zv[Ke-$],M[g]=gi(E/m)*m);M[g]===0;M.pop(),g--);if(g<0)M=[p=0];else{for(p=-1;M[0]===0;M.splice(0,1),p-=Ke);for(g=1,m=M[0];m>=10;m/=10,g++);g<Ke&&(p-=Ke-g)}return R.e=p,R.c=M,R}}(),w.sum=function(){for(var f=1,D=arguments,$=new w(D[0]);f<D.length;)$=$.plus(D[f++]);return $},r=function(){var f="0123456789";function D($,G,O,p){for(var E,m=[0],g,M=0,R=$.length;M<R;){for(g=m.length;g--;m[g]*=G);for(m[0]+=p.indexOf($.charAt(M++)),E=0;E<m.length;E++)m[E]>O-1&&(m[E+1]==null&&(m[E+1]=0),m[E+1]+=m[E]/O|0,m[E]%=O)}return m.reverse()}return function($,G,O,p,E){var m,g,M,R,x,b,d,I,W=$.indexOf("."),Q=a,j=u;for(W>=0&&(R=k,k=0,$=$.replace(".",""),I=new w(G),b=I.pow($.length-W),k=R,I.c=D(Ri(In(b.c),b.e,"0"),10,O,f),I.e=I.c.length),d=D($,G,O,E?(m=S,f):(m=f,S)),M=R=d.length;d[--R]==0;d.pop());if(!d[0])return m.charAt(0);if(W<0?--M:(b.c=d,b.e=M,b.s=p,b=e(b,I,Q,j,O),d=b.c,x=b.r,M=b.e),g=M+Q+1,W=d[g],R=O/2,x=x||g<0||d[g+1]!=null,x=j<4?(W!=null||x)&&(j==0||j==(b.s<0?3:2)):W>R||W==R&&(j==4||x||j==6&&d[g-1]&1||j==(b.s<0?8:7)),g<1||!d[0])$=x?Ri(m.charAt(1),-Q,m.charAt(0)):m.charAt(0);else{if(d.length=g,x)for(--O;++d[--g]>O;)d[g]=0,g||(++M,d=[1].concat(d));for(R=d.length;!d[--R];);for(W=0,$="";W<=R;$+=m.charAt(d[W++]));$=Ri($,M,m.charAt(0))}return $}}(),e=function(){function f(G,O,p){var E,m,g,M,R=0,x=G.length,b=O%Ao,d=O/Ao|0;for(G=G.slice();x--;)g=G[x]%Ao,M=G[x]/Ao|0,E=d*g+M*b,m=b*g+E%Ao*Ao+R,R=(m/p|0)+(E/Ao|0)+d*M,G[x]=m%p;return R&&(G=[R].concat(G)),G}function D(G,O,p,E){var m,g;if(p!=E)g=p>E?1:-1;else for(m=g=0;m<p;m++)if(G[m]!=O[m]){g=G[m]>O[m]?1:-1;break}return g}function $(G,O,p,E){for(var m=0;p--;)G[p]-=m,m=G[p]<O[p]?1:0,G[p]=m*E+G[p]-O[p];for(;!G[0]&&G.length>1;G.splice(0,1));}return function(G,O,p,E,m){var g,M,R,x,b,d,I,W,Q,j,N,Z,q,K,H,A,V,ie=G.s==O.s?1:-1,ce=G.c,he=O.c;if(!ce||!ce[0]||!he||!he[0])return new w(!G.s||!O.s||(ce?he&&ce[0]==he[0]:!he)?NaN:ce&&ce[0]==0||!he?ie*0:ie/0);for(W=new w(ie),Q=W.c=[],M=G.e-O.e,ie=p+M+1,m||(m=qn,M=Mn(G.e/Ke)-Mn(O.e/Ke),ie=ie/Ke|0),R=0;he[R]==(ce[R]||0);R++);if(he[R]>(ce[R]||0)&&M--,ie<0)Q.push(1),x=!0;else{for(K=ce.length,A=he.length,R=0,ie+=2,b=gi(m/(he[0]+1)),b>1&&(he=f(he,b,m),ce=f(ce,b,m),A=he.length,K=ce.length),q=A,j=ce.slice(0,A),N=j.length;N<A;j[N++]=0);V=he.slice(),V=[0].concat(V),H=he[0],he[1]>=m/2&&H++;do{if(b=0,g=D(he,j,A,N),g<0){if(Z=j[0],A!=N&&(Z=Z*m+(j[1]||0)),b=gi(Z/H),b>1)for(b>=m&&(b=m-1),d=f(he,b,m),I=d.length,N=j.length;D(d,j,I,N)==1;)b--,$(d,A<I?V:he,I,m),I=d.length,g=1;else b==0&&(g=b=1),d=he.slice(),I=d.length;if(I<N&&(d=[0].concat(d)),$(j,d,N,m),N=j.length,g==-1)for(;D(he,j,A,N)<1;)b++,$(j,A<N?V:he,N,m),N=j.length}else g===0&&(b++,j=[0]);Q[R++]=b,j[0]?j[N++]=ce[q]||0:(j=[ce[q]],N=1)}while((q++<K||j[0]!=null)&&ie--);x=j[0]!=null,Q[0]||Q.splice(0,1)}if(m==qn){for(R=1,ie=Q[0];ie>=10;ie/=10,R++);B(W,p+(W.e=R+M*Ke-1)+1,E,x)}else W.e=M,W.r=+x;return W}}();function C(f,D,$,G){var O,p,E,m,g;if($==null?$=u:Pt($,0,8),!f.c)return f.toString();if(O=f.c[0],E=f.e,D==null)g=In(f.c),g=G==1||G==2&&(E<=s||E>=l)?eh(g,E):Ri(g,E,"0");else if(f=B(new w(f),D,$),p=f.e,g=In(f.c),m=g.length,G==1||G==2&&(D<=p||p<=s)){for(;m<D;g+="0",m++);g=eh(g,p)}else if(D-=E,g=Ri(g,p,"0"),p+1>m){if(--D>0)for(g+=".";D--;g+="0");}else if(D+=p-m,D>0)for(p+1==m&&(g+=".");D--;g+="0");return f.s<0&&O?"-"+g:g}function L(f,D){for(var $,G=1,O=new w(f[0]);G<f.length;G++)if($=new w(f[G]),$.s)D.call(O,$)&&(O=$);else{O=$;break}return O}function P(f,D,$){for(var G=1,O=D.length;!D[--O];D.pop());for(O=D[0];O>=10;O/=10,G++);return($=G+$*Ke-1)>h?f.c=f.e=null:$<c?f.c=[f.e=0]:(f.e=$,f.c=D),f}n=function(){var f=/^(-?)0([xbo])(?=\w[\w.]*$)/i,D=/^([^.]+)\.$/,$=/^\.([^.]+)$/,G=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(p,E,m,g){var M,R=m?E:E.replace(O,"");if(G.test(R))p.s=isNaN(R)?null:R<0?-1:1;else{if(!m&&(R=R.replace(f,function(x,b,d){return M=(d=d.toLowerCase())=="x"?16:d=="b"?2:8,!g||g==M?b:x}),g&&(M=g,R=R.replace(D,"$1").replace($,"0.$1")),E!=R))return new w(R,M);if(w.DEBUG)throw Error(Jr+"Not a"+(g?" base "+g:"")+" number: "+E);p.s=null}p.c=p.e=null}}();function B(f,D,$,G){var O,p,E,m,g,M,R,x=f.c,b=Zv;if(x){e:{for(O=1,m=x[0];m>=10;m/=10,O++);if(p=D-O,p<0)p+=Ke,E=D,g=x[M=0],R=g/b[O-E-1]%10|0;else if(M=Xv((p+1)/Ke),M>=x.length)if(G){for(;x.length<=M;x.push(0));g=R=0,O=1,p%=Ke,E=p-Ke+1}else break e;else{for(g=m=x[M],O=1;m>=10;m/=10,O++);p%=Ke,E=p-Ke+O,R=E<0?0:g/b[O-E-1]%10|0}if(G=G||D<0||x[M+1]!=null||(E<0?g:g%b[O-E-1]),G=$<4?(R||G)&&($==0||$==(f.s<0?3:2)):R>5||R==5&&($==4||G||$==6&&(p>0?E>0?g/b[O-E]:0:x[M-1])%10&1||$==(f.s<0?8:7)),D<1||!x[0])return x.length=0,G?(D-=f.e+1,x[0]=b[(Ke-D%Ke)%Ke],f.e=-D||0):x[0]=f.e=0,f;if(p==0?(x.length=M,m=1,M--):(x.length=M+1,m=b[Ke-p],x[M]=E>0?gi(g/b[O-E]%b[E])*m:0),G)for(;;)if(M==0){for(p=1,E=x[0];E>=10;E/=10,p++);for(E=x[0]+=m,m=1;E>=10;E/=10,m++);p!=m&&(f.e++,x[0]==qn&&(x[0]=1));break}else{if(x[M]+=m,x[M]!=qn)break;x[M--]=0,m=1}for(p=x.length;x[--p]===0;x.pop());}f.e>h?f.c=f.e=null:f.e<c&&(f.c=[f.e=0])}return f}function U(f){var D,$=f.e;return $===null?f.toString():(D=In(f.c),D=$<=s||$>=l?eh(D,$):Ri(D,$,"0"),f.s<0?"-"+D:D)}return i.absoluteValue=i.abs=function(){var f=new w(this);return f.s<0&&(f.s=1),f},i.comparedTo=function(f,D){return Pu(this,new w(f,D))},i.decimalPlaces=i.dp=function(f,D){var $,G,O,p=this;if(f!=null)return Pt(f,0,rr),D==null?D=u:Pt(D,0,8),B(new w(p),f+p.e+1,D);if(!($=p.c))return null;if(G=((O=$.length-1)-Mn(this.e/Ke))*Ke,O=$[O])for(;O%10==0;O/=10,G--);return G<0&&(G=0),G},i.dividedBy=i.div=function(f,D){return e(this,new w(f,D),a,u)},i.dividedToIntegerBy=i.idiv=function(f,D){return e(this,new w(f,D),0,1)},i.exponentiatedBy=i.pow=function(f,D){var $,G,O,p,E,m,g,M,R,x=this;if(f=new w(f),f.c&&!f.isInteger())throw Error(Jr+"Exponent not an integer: "+U(f));if(D!=null&&(D=new w(D)),m=f.e>14,!x.c||!x.c[0]||x.c[0]==1&&!x.e&&x.c.length==1||!f.c||!f.c[0])return R=new w(Math.pow(+U(x),m?2-Zf(f):+U(f))),D?R.mod(D):R;if(g=f.s<0,D){if(D.c?!D.c[0]:!D.s)return new w(NaN);G=!g&&x.isInteger()&&D.isInteger(),G&&(x=x.mod(D))}else{if(f.e>9&&(x.e>0||x.e<-1||(x.e==0?x.c[0]>1||m&&x.c[1]>=24e7:x.c[0]<8e13||m&&x.c[0]<=9999975e7)))return p=x.s<0&&Zf(f)?-0:0,x.e>-1&&(p=1/p),new w(g?1/p:p);k&&(p=Xv(k/Ke+2))}for(m?($=new w(.5),g&&(f.s=1),M=Zf(f)):(O=Math.abs(+U(f)),M=O%2),R=new w(o);;){if(M){if(R=R.times(x),!R.c)break;p?R.c.length>p&&(R.c.length=p):G&&(R=R.mod(D))}if(O){if(O=gi(O/2),O===0)break;M=O%2}else if(f=f.times($),B(f,f.e+1,1),f.e>14)M=Zf(f);else{if(O=+U(f),O===0)break;M=O%2}x=x.times(x),p?x.c&&x.c.length>p&&(x.c.length=p):G&&(x=x.mod(D))}return G?R:(g&&(R=o.div(R)),D?R.mod(D):p?B(R,k,u,E):R)},i.integerValue=function(f){var D=new w(this);return f==null?f=u:Pt(f,0,8),B(D,D.e+1,f)},i.isEqualTo=i.eq=function(f,D){return Pu(this,new w(f,D))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(f,D){return Pu(this,new w(f,D))>0},i.isGreaterThanOrEqualTo=i.gte=function(f,D){return(D=Pu(this,new w(f,D)))===1||D===0},i.isInteger=function(){return!!this.c&&Mn(this.e/Ke)>this.c.length-2},i.isLessThan=i.lt=function(f,D){return Pu(this,new w(f,D))<0},i.isLessThanOrEqualTo=i.lte=function(f,D){return(D=Pu(this,new w(f,D)))===-1||D===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(f,D){var $,G,O,p,E=this,m=E.s;if(f=new w(f,D),D=f.s,!m||!D)return new w(NaN);if(m!=D)return f.s=-D,E.plus(f);var g=E.e/Ke,M=f.e/Ke,R=E.c,x=f.c;if(!g||!M){if(!R||!x)return R?(f.s=-D,f):new w(x?E:NaN);if(!R[0]||!x[0])return x[0]?(f.s=-D,f):new w(R[0]?E:u==3?-0:0)}if(g=Mn(g),M=Mn(M),R=R.slice(),m=g-M){for((p=m<0)?(m=-m,O=R):(M=g,O=x),O.reverse(),D=m;D--;O.push(0));O.reverse()}else for(G=(p=(m=R.length)<(D=x.length))?m:D,m=D=0;D<G;D++)if(R[D]!=x[D]){p=R[D]<x[D];break}if(p&&(O=R,R=x,x=O,f.s=-f.s),D=(G=x.length)-($=R.length),D>0)for(;D--;R[$++]=0);for(D=qn-1;G>m;){if(R[--G]<x[G]){for($=G;$&&!R[--$];R[$]=D);--R[$],R[G]+=qn}R[G]-=x[G]}for(;R[0]==0;R.splice(0,1),--M);return R[0]?P(f,R,M):(f.s=u==3?-1:1,f.c=[f.e=0],f)},i.modulo=i.mod=function(f,D){var $,G,O=this;return f=new w(f,D),!O.c||!f.s||f.c&&!f.c[0]?new w(NaN):!f.c||O.c&&!O.c[0]?new w(O):(y==9?(G=f.s,f.s=1,$=e(O,f,0,3),f.s=G,$.s*=G):$=e(O,f,0,y),f=O.minus($.times(f)),!f.c[0]&&y==1&&(f.s=O.s),f)},i.multipliedBy=i.times=function(f,D){var $,G,O,p,E,m,g,M,R,x,b,d,I,W,Q,j=this,N=j.c,Z=(f=new w(f,D)).c;if(!N||!Z||!N[0]||!Z[0])return!j.s||!f.s||N&&!N[0]&&!Z||Z&&!Z[0]&&!N?f.c=f.e=f.s=null:(f.s*=j.s,!N||!Z?f.c=f.e=null:(f.c=[0],f.e=0)),f;for(G=Mn(j.e/Ke)+Mn(f.e/Ke),f.s*=j.s,g=N.length,x=Z.length,g<x&&(I=N,N=Z,Z=I,O=g,g=x,x=O),O=g+x,I=[];O--;I.push(0));for(W=qn,Q=Ao,O=x;--O>=0;){for($=0,b=Z[O]%Q,d=Z[O]/Q|0,E=g,p=O+E;p>O;)M=N[--E]%Q,R=N[E]/Q|0,m=d*M+R*b,M=b*M+m%Q*Q+I[p]+$,$=(M/W|0)+(m/Q|0)+d*R,I[p--]=M%W;I[p]=$}return $?++G:I.splice(0,1),P(f,I,G)},i.negated=function(){var f=new w(this);return f.s=-f.s||null,f},i.plus=function(f,D){var $,G=this,O=G.s;if(f=new w(f,D),D=f.s,!O||!D)return new w(NaN);if(O!=D)return f.s=-D,G.minus(f);var p=G.e/Ke,E=f.e/Ke,m=G.c,g=f.c;if(!p||!E){if(!m||!g)return new w(O/0);if(!m[0]||!g[0])return g[0]?f:new w(m[0]?G:O*0)}if(p=Mn(p),E=Mn(E),m=m.slice(),O=p-E){for(O>0?(E=p,$=g):(O=-O,$=m),$.reverse();O--;$.push(0));$.reverse()}for(O=m.length,D=g.length,O-D<0&&($=g,g=m,m=$,D=O),O=0;D;)O=(m[--D]=m[D]+g[D]+O)/qn|0,m[D]=qn===m[D]?0:m[D]%qn;return O&&(m=[O].concat(m),++E),P(f,m,E)},i.precision=i.sd=function(f,D){var $,G,O,p=this;if(f!=null&&f!==!!f)return Pt(f,1,rr),D==null?D=u:Pt(D,0,8),B(new w(p),f,D);if(!($=p.c))return null;if(O=$.length-1,G=O*Ke+1,O=$[O]){for(;O%10==0;O/=10,G--);for(O=$[0];O>=10;O/=10,G++);}return f&&p.e+1>G&&(G=p.e+1),G},i.shiftedBy=function(f){return Pt(f,-Qv,Qv),this.times("1e"+f)},i.squareRoot=i.sqrt=function(){var f,D,$,G,O,p=this,E=p.c,m=p.s,g=p.e,M=a+4,R=new w("0.5");if(m!==1||!E||!E[0])return new w(!m||m<0&&(!E||E[0])?NaN:E?p:1/0);if(m=Math.sqrt(+U(p)),m==0||m==1/0?(D=In(E),(D.length+g)%2==0&&(D+="0"),m=Math.sqrt(+D),g=Mn((g+1)/2)-(g<0||g%2),m==1/0?D="5e"+g:(D=m.toExponential(),D=D.slice(0,D.indexOf("e")+1)+g),$=new w(D)):$=new w(m+""),$.c[0]){for(g=$.e,m=g+M,m<3&&(m=0);;)if(O=$,$=R.times(O.plus(e(p,O,M,1))),In(O.c).slice(0,m)===(D=In($.c)).slice(0,m))if($.e<g&&--m,D=D.slice(m-3,m+1),D=="9999"||!G&&D=="4999"){if(!G&&(B(O,O.e+a+2,0),O.times(O).eq(p))){$=O;break}M+=4,m+=4,G=1}else{(!+D||!+D.slice(1)&&D.charAt(0)=="5")&&(B($,$.e+a+2,1),f=!$.times($).eq(p));break}}return B($,$.e+a+1,u,f)},i.toExponential=function(f,D){return f!=null&&(Pt(f,0,rr),f++),C(this,f,D,1)},i.toFixed=function(f,D){return f!=null&&(Pt(f,0,rr),f=f+this.e+1),C(this,f,D)},i.toFormat=function(f,D,$){var G,O=this;if($==null)f!=null&&D&&typeof D=="object"?($=D,D=null):f&&typeof f=="object"?($=f,f=D=null):$=_;else if(typeof $!="object")throw Error(Jr+"Argument not an object: "+$);if(G=O.toFixed(f,D),O.c){var p,E=G.split("."),m=+$.groupSize,g=+$.secondaryGroupSize,M=$.groupSeparator||"",R=E[0],x=E[1],b=O.s<0,d=b?R.slice(1):R,I=d.length;if(g&&(p=m,m=g,g=p,I-=p),m>0&&I>0){for(p=I%m||m,R=d.substr(0,p);p<I;p+=m)R+=M+d.substr(p,m);g>0&&(R+=M+d.slice(p)),b&&(R="-"+R)}G=x?R+($.decimalSeparator||"")+((g=+$.fractionGroupSize)?x.replace(new RegExp("\\d{"+g+"}\\B","g"),"$&"+($.fractionGroupSeparator||"")):x):R}return($.prefix||"")+G+($.suffix||"")},i.toFraction=function(f){var D,$,G,O,p,E,m,g,M,R,x,b,d=this,I=d.c;if(f!=null&&(m=new w(f),!m.isInteger()&&(m.c||m.s!==1)||m.lt(o)))throw Error(Jr+"Argument "+(m.isInteger()?"out of range: ":"not an integer: ")+U(m));if(!I)return new w(d);for(D=new w(o),M=$=new w(o),G=g=new w(o),b=In(I),p=D.e=b.length-d.e-1,D.c[0]=Zv[(E=p%Ke)<0?Ke+E:E],f=!f||m.comparedTo(D)>0?p>0?D:M:m,E=h,h=1/0,m=new w(b),g.c[0]=0;R=e(m,D,0,1),O=$.plus(R.times(G)),O.comparedTo(f)!=1;)$=G,G=O,M=g.plus(R.times(O=M)),g=O,D=m.minus(R.times(O=D)),m=O;return O=e(f.minus($),G,0,1),g=g.plus(O.times(M)),$=$.plus(O.times(G)),g.s=M.s=d.s,p=p*2,x=e(M,G,p,u).minus(d).abs().comparedTo(e(g,$,p,u).minus(d).abs())<1?[M,G]:[g,$],h=E,x},i.toNumber=function(){return+U(this)},i.toPrecision=function(f,D){return f!=null&&Pt(f,1,rr),C(this,f,D,2)},i.toString=function(f){var D,$=this,G=$.s,O=$.e;return O===null?G?(D="Infinity",G<0&&(D="-"+D)):D="NaN":(f==null?D=O<=s||O>=l?eh(In($.c),O):Ri(In($.c),O,"0"):f===10?($=B(new w($),a+O+1,u),D=Ri(In($.c),$.e,"0")):(Pt(f,2,S.length,"Base"),D=r(Ri(In($.c),O,"0"),10,f,G,!0)),G<0&&$.c[0]&&(D="-"+D)),D},i.valueOf=i.toJSON=function(){return U(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&w.set(t),w}function Mn(t){var e=t|0;return t>0||t===e?e:e-1}function In(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=Ke-e.length;r--;e="0"+e);o+=e}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Pu(t,e){var r,n,i=t.c,o=e.c,a=t.s,u=e.s,s=t.e,l=e.e;if(!a||!u)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-u:a;if(a!=u)return a;if(r=a<0,n=s==l,!i||!o)return n?0:!i^r?1:-1;if(!n)return s>l^r?1:-1;for(u=(s=i.length)<(l=o.length)?s:l,a=0;a<u;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return s==l?0:s>l^r?1:-1}function Pt(t,e,r,n){if(t<e||t>r||t!==gi(t))throw Error(Jr+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Zf(t){var e=t.c.length-1;return Mn(t.e/Ke)==e&&t.c[e]%2!=0}function eh(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function Ri(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var gw=mw(),vO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",BigNumber:gw,default:gw}),th=Ft(vO),mO=function(e,r,n){var i=new e.Uint8Array(n),o=r.pushInt,a=r.pushInt32,u=r.pushInt32Neg,s=r.pushInt64,l=r.pushInt64Neg,c=r.pushFloat,h=r.pushFloatSingle,v=r.pushFloatDouble,y=r.pushTrue,k=r.pushFalse,_=r.pushUndefined,S=r.pushNull,w=r.pushInfinity,C=r.pushInfinityNeg,L=r.pushNaN,P=r.pushNaNNeg,B=r.pushArrayStart,U=r.pushArrayStartFixed,f=r.pushArrayStartFixed32,D=r.pushArrayStartFixed64,$=r.pushObjectStart,G=r.pushObjectStartFixed,O=r.pushObjectStartFixed32,p=r.pushObjectStartFixed64,E=r.pushByteString,m=r.pushByteStringStart,g=r.pushUtf8String,M=r.pushUtf8StringStart,R=r.pushSimpleUnassigned,x=r.pushTagStart,b=r.pushTagStart4,d=r.pushTagStart8,I=r.pushTagUnassigned,W=r.pushBreak,Q=e.Math.pow,j=0,N=0,Z=0;function q(ee){for(ee=ee|0,j=0,N=ee;(j|0)<(N|0)&&(Z=Oo[i[j]&255](i[j]|0)|0,!((Z|0)>0)););return Z|0}function K(ee){return ee=ee|0,((j|0)+(ee|0)|0)<(N|0)?0:1}function H(ee){return ee=ee|0,i[ee|0]<<8|i[ee+1|0]|0}function A(ee){return ee=ee|0,i[ee|0]<<24|i[ee+1|0]<<16|i[ee+2|0]<<8|i[ee+3|0]|0}function V(ee){return ee=ee|0,o(ee|0),j=j+1|0,0}function ie(ee){return ee=ee|0,K(1)|0?1:(o(i[j+1|0]|0),j=j+2|0,0)}function ce(ee){return ee=ee|0,K(2)|0?1:(o(H(j+1|0)|0),j=j+3|0,0)}function he(ee){return ee=ee|0,K(4)|0?1:(a(H(j+1|0)|0,H(j+3|0)|0),j=j+5|0,0)}function ge(ee){return ee=ee|0,K(8)|0?1:(s(H(j+1|0)|0,H(j+3|0)|0,H(j+5|0)|0,H(j+7|0)|0),j=j+9|0,0)}function z(ee){return ee=ee|0,o(-1-(ee-32|0)|0),j=j+1|0,0}function T(ee){return ee=ee|0,K(1)|0?1:(o(-1-(i[j+1|0]|0)|0),j=j+2|0,0)}function F(ee){ee=ee|0;var et=0;return K(2)|0?1:(et=H(j+1|0)|0,o(-1-(et|0)|0),j=j+3|0,0)}function J(ee){return ee=ee|0,K(4)|0?1:(u(H(j+1|0)|0,H(j+3|0)|0),j=j+5|0,0)}function te(ee){return ee=ee|0,K(8)|0?1:(l(H(j+1|0)|0,H(j+3|0)|0,H(j+5|0)|0,H(j+7|0)|0),j=j+9|0,0)}function ne(ee){ee=ee|0;var et=0,tt=0,Xe=0;return Xe=ee-64|0,K(Xe|0)|0?1:(et=j+1|0,tt=(j+1|0)+(Xe|0)|0,E(et|0,tt|0),j=tt|0,0)}function ae(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(1)|0||(Xe=i[j+1|0]|0,et=j+2|0,tt=(j+2|0)+(Xe|0)|0,K(Xe+1|0)|0)?1:(E(et|0,tt|0),j=tt|0,0)}function ye(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(2)|0||(Xe=H(j+1|0)|0,et=j+3|0,tt=(j+3|0)+(Xe|0)|0,K(Xe+2|0)|0)?1:(E(et|0,tt|0),j=tt|0,0)}function pe(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(4)|0||(Xe=A(j+1|0)|0,et=j+5|0,tt=(j+5|0)+(Xe|0)|0,K(Xe+4|0)|0)?1:(E(et|0,tt|0),j=tt|0,0)}function oe(ee){return ee=ee|0,1}function fe(ee){return ee=ee|0,m(),j=j+1|0,0}function le(ee){ee=ee|0;var et=0,tt=0,Xe=0;return Xe=ee-96|0,K(Xe|0)|0?1:(et=j+1|0,tt=(j+1|0)+(Xe|0)|0,g(et|0,tt|0),j=tt|0,0)}function me(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(1)|0||(Xe=i[j+1|0]|0,et=j+2|0,tt=(j+2|0)+(Xe|0)|0,K(Xe+1|0)|0)?1:(g(et|0,tt|0),j=tt|0,0)}function Ne(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(2)|0||(Xe=H(j+1|0)|0,et=j+3|0,tt=(j+3|0)+(Xe|0)|0,K(Xe+2|0)|0)?1:(g(et|0,tt|0),j=tt|0,0)}function Ce(ee){ee=ee|0;var et=0,tt=0,Xe=0;return K(4)|0||(Xe=A(j+1|0)|0,et=j+5|0,tt=(j+5|0)+(Xe|0)|0,K(Xe+4|0)|0)?1:(g(et|0,tt|0),j=tt|0,0)}function Ie(ee){return ee=ee|0,1}function Ze(ee){return ee=ee|0,M(),j=j+1|0,0}function xe(ee){return ee=ee|0,U(ee-128|0),j=j+1|0,0}function Pe(ee){return ee=ee|0,K(1)|0?1:(U(i[j+1|0]|0),j=j+2|0,0)}function nt(ee){return ee=ee|0,K(2)|0?1:(U(H(j+1|0)|0),j=j+3|0,0)}function it(ee){return ee=ee|0,K(4)|0?1:(f(H(j+1|0)|0,H(j+3|0)|0),j=j+5|0,0)}function rt(ee){return ee=ee|0,K(8)|0?1:(D(H(j+1|0)|0,H(j+3|0)|0,H(j+5|0)|0,H(j+7|0)|0),j=j+9|0,0)}function Nt(ee){return ee=ee|0,B(),j=j+1|0,0}function Te(ee){ee=ee|0;var et=0;return et=ee-160|0,K(et|0)|0?1:(G(et|0),j=j+1|0,0)}function at(ee){return ee=ee|0,K(1)|0?1:(G(i[j+1|0]|0),j=j+2|0,0)}function or(ee){return ee=ee|0,K(2)|0?1:(G(H(j+1|0)|0),j=j+3|0,0)}function ut(ee){return ee=ee|0,K(4)|0?1:(O(H(j+1|0)|0,H(j+3|0)|0),j=j+5|0,0)}function Le(ee){return ee=ee|0,K(8)|0?1:(p(H(j+1|0)|0,H(j+3|0)|0,H(j+5|0)|0,H(j+7|0)|0),j=j+9|0,0)}function yt(ee){return ee=ee|0,$(),j=j+1|0,0}function Fe(ee){return ee=ee|0,x(ee-192|0|0),j=j+1|0,0}function He(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Et(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Re(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Be(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Oe(ee){return ee=ee|0,x(ee-192|0|0),j=j+1|0,0}function We(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Ge(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function St(ee){return ee=ee|0,x(ee|0),j=j+1|0,0}function Ue(ee){return ee=ee|0,K(1)|0?1:(x(i[j+1|0]|0),j=j+2|0,0)}function je(ee){return ee=ee|0,K(2)|0?1:(x(H(j+1|0)|0),j=j+3|0,0)}function st(ee){return ee=ee|0,K(4)|0?1:(b(H(j+1|0)|0,H(j+3|0)|0),j=j+5|0,0)}function ze(ee){return ee=ee|0,K(8)|0?1:(d(H(j+1|0)|0,H(j+3|0)|0,H(j+5|0)|0,H(j+7|0)|0),j=j+9|0,0)}function Ae(ee){return ee=ee|0,R((ee|0)-224|0),j=j+1|0,0}function Ln(ee){return ee=ee|0,k(),j=j+1|0,0}function mt(ee){return ee=ee|0,y(),j=j+1|0,0}function gt(ee){return ee=ee|0,S(),j=j+1|0,0}function ar(ee){return ee=ee|0,_(),j=j+1|0,0}function cn(ee){return ee=ee|0,K(1)|0?1:(R(i[j+1|0]|0),j=j+2|0,0)}function fn(ee){ee=ee|0;var et=0,tt=0,Xe=1,Xn=0,pn=0,ki=0;return K(2)|0?1:(et=i[j+1|0]|0,tt=i[j+2|0]|0,(et|0)&128&&(Xe=-1),Xn=+(((et|0)&124)>>2),pn=+(((et|0)&3)<<8|tt),+Xn==0?c(+(+Xe*5960464477539063e-23*+pn)):+Xn==31?+Xe==1?+pn>0?L():w():+pn>0?P():C():c(+(+Xe*Q(2,+(+Xn-25))*+(1024+pn))),j=j+3|0,0)}function hn(ee){return ee=ee|0,K(4)|0?1:(h(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0),j=j+5|0,0)}function dn(ee){return ee=ee|0,K(8)|0?1:(v(i[j+1|0]|0,i[j+2|0]|0,i[j+3|0]|0,i[j+4|0]|0,i[j+5|0]|0,i[j+6|0]|0,i[j+7|0]|0,i[j+8|0]|0),j=j+9|0,0)}function ot(ee){return ee=ee|0,1}function ur(ee){return ee=ee|0,W(),j=j+1|0,0}var Oo=[V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,V,ie,ce,he,ge,ot,ot,ot,ot,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,z,T,F,J,te,ot,ot,ot,ot,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ne,ae,ye,pe,oe,ot,ot,ot,fe,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,le,me,Ne,Ce,Ie,ot,ot,ot,Ze,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,xe,Pe,nt,it,rt,ot,ot,ot,Nt,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,at,or,ut,Le,ot,ot,ot,yt,Fe,Fe,Fe,Fe,Fe,Fe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Oe,Ue,je,st,ze,ot,ot,ot,ot,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ln,mt,gt,ar,cn,fn,hn,dn,ot,ot,ot,ur];return{parse:q}},rh={},Cr={};const e1=th.BigNumber;Cr.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Cr.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Cr.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Cr.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Cr.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Cr.SHIFT32=Math.pow(2,32);Cr.SHIFT16=Math.pow(2,16);Cr.MAX_SAFE_HIGH=2097151;Cr.NEG_ONE=new e1(-1);Cr.TEN=new e1(10);Cr.TWO=new e1(2);Cr.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(t){const{Buffer:e}=_l,r=th.BigNumber,n=Cr,i=n.SHIFT32,o=n.SHIFT16,a=2097151;t.parseHalf=function(l){var c,h,v;return v=l[0]&128?-1:1,c=(l[0]&124)>>2,h=(l[0]&3)<<8|l[1],c?c===31?v*(h?0/0:1/0):v*Math.pow(2,c-25)*(1024+h):v*5960464477539063e-23*h};function u(s){return s<16?"0"+s.toString(16):s.toString(16)}t.arrayBufferToBignumber=function(s){const l=s.byteLength;let c="";for(let h=0;h<l;h++)c+=u(s[h]);return new r(c,16)},t.buildMap=s=>{const l=new Map,c=Object.keys(s),h=c.length;for(let v=0;v<h;v++)l.set(c[v],s[c[v]]);return l},t.buildInt32=(s,l)=>s*o+l,t.buildInt64=(s,l,c,h)=>{const v=t.buildInt32(s,l),y=t.buildInt32(c,h);return v>a?new r(v).times(i).plus(y):v*i+y},t.writeHalf=function(l,c){const h=e.allocUnsafe(4);h.writeFloatBE(c,0);const v=h.readUInt32BE(0);if((v&8191)!=0)return!1;var y=v>>16&32768;const k=v>>23&255,_=v&8388607;if(k>=113&&k<=142)y+=(k-112<<10)+(_>>13);else if(k>=103&&k<113){if(_&(1<<126-k)-1)return!1;y+=_+8388608>>126-k}else return!1;return l.writeUInt16BE(y,0),!0},t.keySorter=function(s,l){var c=s[0].byteLength,h=l[0].byteLength;return c>h?1:h>c?-1:s[0].compare(l[0])},t.isNegativeZero=s=>s===0&&1/s<0,t.nextPowerOf2=s=>{let l=0;if(s&&!(s&s-1))return s;for(;s!==0;)s>>=1,l+=1;return 1<<l}})(rh);const t1=Cr,gO=t1.MT,nh=t1.SIMPLE,r1=t1.SYMS;class ih{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,gO.SIMPLE_FLOAT)}static isSimple(e){return e instanceof ih}static decode(e,r){switch(r==null&&(r=!0),e){case nh.FALSE:return!1;case nh.TRUE:return!0;case nh.NULL:return r?null:r1.NULL;case nh.UNDEFINED:return r?void 0:r1.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return r1.BREAK;default:return new ih(e)}}}var yw=ih;class oh{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var r,n;if(n=e!=null?e[this.tag]:void 0,typeof n!="function"&&(n=oh["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(oh,this.value)}catch(i){return r=i,this.err=r,this}}}var bw=oh;const _w=self.location?self.location.protocol+"//"+self.location.host:"",n1=self.URL;class yO{constructor(e="",r=_w){this.super=new n1(e,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}function bO(t){if(typeof t=="string")return new n1(t).toString();if(!(t instanceof n1)){const e=t.username&&t.password?`${t.username}:${t.password}@`:"",r=t.auth?t.auth+"@":"",n=t.port?":"+t.port:"",i=t.protocol?t.protocol+"//":"",o=t.host||"",a=t.hostname||"",u=t.search||(t.query?"?"+t.query:""),s=t.hash||"",l=t.pathname||"",c=t.path||l+u;return`${i}${e||r}${o||a+n}${c}${s}`}}var ww={URLWithLegacySupport:yO,URLSearchParams:self.URLSearchParams,defaultBase:_w,format:bO};const{URLWithLegacySupport:xw,format:_O}=ww;var wO=(t,e={},r={},n)=>{let i=e.protocol?e.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let o;try{o=new xw(t)}catch{o={}}const a=Object.assign({},e,{protocol:i||o.protocol,host:e.host||o.host});return new xw(t,_O(a)).toString()};const{URLWithLegacySupport:xO,format:DO,URLSearchParams:EO,defaultBase:SO}=ww,AO=wO;var Dw={URL:xO,URLSearchParams:EO,format:DO,relative:AO,defaultBase:SO};const{Buffer:Nu}=_l,Ew=Qf,kO=th.BigNumber,CO=mO,$r=rh,bt=Cr,MO=yw,IO=bw,{URL:TO}=Dw;class Fu{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=$r.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=Nu.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>$r.arrayBufferToBignumber(r),3:r=>bt.NEG_ONE.minus($r.arrayBufferToBignumber(r)),4:r=>bt.TEN.pow(r[0]).times(r[1]),5:r=>bt.TWO.pow(r[0]).times(r[1]),32:r=>new TO(r),35:r=>new RegExp(r)},e.tags),this.parser=CO(re,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case bt.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case bt.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case bt.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case bt.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case bt.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case bt.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break}this._currentParent&&this._currentParent.type===bt.PARENT.TAG&&this._dec()}_dec(){const e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,r){const n=this._currentParent;switch(n.values++,n.type){case bt.PARENT.ARRAY:case bt.PARENT.BYTE_STRING:case bt.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=e:this._ref.push(e),this._dec();break;case bt.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=e,n.tmpKey=null,this._dec()):(n.tmpKey=e,typeof n.tmpKey!="string"&&(n.type=bt.PARENT.MAP,n.ref=$r.buildMap(n.ref)));break;case bt.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,e),n.tmpKey=null,this._dec()):n.tmpKey=e;break;case bt.PARENT.TAG:this._ref.push(e),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,r,n){this._parents[this._depth]={type:r,length:n,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:bt.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,r){const n=this._knownTags[e];return n?n(r):new IO(e,r)}createMap(e,r){return e}createObject(e,r){return e}createArray(e,r){return e}createByteString(e,r){return Nu.concat(e)}createByteStringFromHeap(e,r){return e===r?Nu.alloc(0):Nu.from(this._heap.slice(e,r))}createInt(e){return e}createInt32(e,r){return $r.buildInt32(e,r)}createInt64(e,r,n,i){return $r.buildInt64(e,r,n,i)}createFloat(e){return e}createFloatSingle(e,r,n,i){return Ew.read([e,r,n,i],0,!1,23,4)}createFloatDouble(e,r,n,i,o,a,u,s){return Ew.read([e,r,n,i,o,a,u,s],0,!1,52,8)}createInt32Neg(e,r){return-1-$r.buildInt32(e,r)}createInt64Neg(e,r,n,i){const o=$r.buildInt32(e,r),a=$r.buildInt32(n,i);return o>bt.MAX_SAFE_HIGH?bt.NEG_ONE.minus(new kO(o).times(bt.SHIFT32).plus(a)):-1-(o*bt.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,r){return e.join("")}createUtf8StringFromHeap(e,r){return e===r?"":this._buffer.toString("utf8",e,r)}createSimpleUnassigned(e){return new MO(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,r){this._push(this.createInt32(e,r))}pushInt64(e,r,n,i){this._push(this.createInt64(e,r,n,i))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,r,n,i){this._push(this.createFloatSingle(e,r,n,i))}pushFloatDouble(e,r,n,i,o,a,u,s){this._push(this.createFloatDouble(e,r,n,i,o,a,u,s))}pushInt32Neg(e,r){this._push(this.createInt32Neg(e,r))}pushInt64Neg(e,r,n,i){this._push(this.createInt64Neg(e,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],bt.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,r){const n=$r.buildInt32(e,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(e,r,n,i){const o=$r.buildInt64(e,r,n,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,r){const n=$r.buildInt32(e,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(e,r,n,i){const o=$r.buildInt64(e,r,n,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:bt.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,r){this._push(this.createByteStringFromHeap(e,r))}pushUtf8StringStart(){this._parents[this._depth]={type:bt.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,r){this._push(this.createUtf8StringFromHeap(e,r))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:bt.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,r){this.pushTagStart($r.buildInt32(e,r))}pushTagStart8(e,r,n,i){this.pushTagStart($r.buildInt64(e,r,n,i))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},bt.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),bt.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);const r=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,r){return typeof e=="string"&&(e=Nu.from(e,r||"hex")),new Fu({size:e.length}).decodeFirst(e)}static decodeAll(e,r){return typeof e=="string"&&(e=Nu.from(e,r||"hex")),new Fu({size:e.length}).decodeAll(e)}}Fu.decodeFirst=Fu.decode;var Sw=Fu;const{Buffer:i1}=_l,PO=Sw,NO=rh;class o1 extends PO{createTag(e,r){return`${e}(${r})`}createInt(e){return super.createInt(e).toString()}createInt32(e,r){return super.createInt32(e,r).toString()}createInt64(e,r,n,i){return super.createInt64(e,r,n,i).toString()}createInt32Neg(e,r){return super.createInt32Neg(e,r).toString()}createInt64Neg(e,r,n,i){return super.createInt64Neg(e,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){const r=super.createFloat(e);return NO.isNegativeZero(e)?"-0_1":`${r}_1`}createFloatSingle(e,r,n,i){return`${super.createFloatSingle(e,r,n,i)}_2`}createFloatDouble(e,r,n,i,o,a,u,s){return`${super.createFloatDouble(e,r,n,i,o,a,u,s)}_3`}createByteString(e,r){const n=e.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(e,r){return`h'${i1.from(super.createByteStringFromHeap(e,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,r){const n=super.createArray(e,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(e,r){const n=super.createMap(e),i=Array.from(n.keys()).reduce(Aw(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(e,r){const n=super.createObject(e),i=Object.keys(n).reduce(Aw(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(e,r){const n=e.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(e,r){return`"${i1.from(super.createUtf8StringFromHeap(e,r)).toString("utf8")}"`}static diagnose(e,r){return typeof e=="string"&&(e=i1.from(e,r||"hex")),new o1().decodeFirst(e)}}var FO=o1;function Aw(t){return(e,r)=>e?`${e}, ${r}: ${t[r]}`:`${r}: ${t[r]}`}const{Buffer:yi}=_l,{URL:OO}=Dw,a1=th.BigNumber,u1=rh,Vt=Cr,Hn=Vt.MT,ah=Vt.NUMBYTES,kw=Vt.SHIFT32,Cw=Vt.SYMS,Ou=Vt.TAG,$O=Vt.MT.SIMPLE_FLOAT<<5|Vt.NUMBYTES.TWO,LO=Vt.MT.SIMPLE_FLOAT<<5|Vt.NUMBYTES.FOUR,RO=Vt.MT.SIMPLE_FLOAT<<5|Vt.NUMBYTES.EIGHT,BO=Vt.MT.SIMPLE_FLOAT<<5|Vt.SIMPLE.TRUE,UO=Vt.MT.SIMPLE_FLOAT<<5|Vt.SIMPLE.FALSE,jO=Vt.MT.SIMPLE_FLOAT<<5|Vt.SIMPLE.UNDEFINED,Mw=Vt.MT.SIMPLE_FLOAT<<5|Vt.SIMPLE.NULL,zO=new a1("0x20000000000000"),qO=yi.from("f97e00","hex"),HO=yi.from("f9fc00","hex"),WO=yi.from("f97c00","hex");function GO(t){return{}.toString.call(t).slice(8,-1)}class uh{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[OO,this._pushUrl],[a1,this._pushBigNumber]];const r=e.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(e,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===e){const a=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,a}return this.semanticTypes.push([e,r]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,r,n){return this.result[this.offset]=e,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(qO)}_pushInfinity(e){const r=e<0?HO:WO;return this.push(r)}_pushFloat(e){const r=yi.allocUnsafe(2);if(u1.writeHalf(r,e)&&u1.parseHalf(r)===e)return this._pushUInt8($O)&&this.push(r);const n=yi.allocUnsafe(4);return n.writeFloatBE(e,0),n.readFloatBE(0)===e?this._pushUInt8(LO)&&this.push(n):this._pushUInt8(RO)&&this._pushDoubleBE(e)}_pushInt(e,r,n){const i=r<<5;return e<24?this._pushUInt8(i|e):e<=255?this._pushUInt8(i|ah.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(i|ah.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(i|ah.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ah.EIGHT)&&this._pushUInt32BE(Math.floor(e/kw))&&this._pushUInt32BE(e%kw):r===Hn.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,Hn.NEG_INT,e):this._pushInt(e,Hn.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){const r=yi.byteLength(e,"utf8");return this._pushInt(r,Hn.UTF8_STRING)&&this.pushWrite(e,5,r)}_pushBoolean(e){return this._pushUInt8(e?BO:UO)}_pushUndefined(e){return this._pushUInt8(jO)}_pushArray(e,r){const n=r.length;if(!e._pushInt(n,Hn.ARRAY))return!1;for(let i=0;i<n;i++)if(!e.pushAny(r[i]))return!1;return!0}_pushTag(e){return this._pushInt(e,Hn.TAG)}_pushDate(e,r){return e._pushTag(Ou.DATE_EPOCH)&&e.pushAny(Math.round(r/1e3))}_pushBuffer(e,r){return e._pushInt(r.length,Hn.BYTE_STRING)&&e.push(r)}_pushNoFilter(e,r){return e._pushBuffer(e,r.slice())}_pushRegexp(e,r){return e._pushTag(Ou.REGEXP)&&e.pushAny(r.source)}_pushSet(e,r){if(!e._pushInt(r.size,Hn.ARRAY))return!1;for(const n of r)if(!e.pushAny(n))return!1;return!0}_pushUrl(e,r){return e._pushTag(Ou.URI)&&e.pushAny(r.format())}_pushBigint(e){let r=Ou.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),r=Ou.NEG_BIGINT);let n=e.toString(16);n.length%2&&(n="0"+n);const i=yi.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(e,r){if(r.isNaN())return e._pushNaN();if(!r.isFinite())return e._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return e._pushBigint(r);if(!(e._pushTag(Ou.DECIMAL_FRAC)&&e._pushInt(2,Hn.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new a1(10).pow(n));return e._pushIntNum(-n)?i.abs().isLessThan(zO)?e._pushIntNum(i.toNumber()):e._pushBigint(i):!1}_pushMap(e,r){return e._pushInt(r.size,Hn.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(e){if(!e)return this._pushUInt8(Mw);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(e instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(e,this,e);var i=e.encodeCBOR;if(typeof i=="function")return i.call(e,this);var o=Object.keys(e),a=o.length;return this._pushInt(a,Hn.MAP)?this._pushRawMap(a,o.map(u=>[u,e[u]])):!1}_pushRawMap(e,r){r=r.map(function(i){return i[0]=uh.encode(i[0]),i}).sort(u1.keySorter);for(var n=0;n<e;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var r=GO(e);switch(r){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,yi.isBuffer(e)?e:yi.from(e));case"Null":return this._pushUInt8(Mw);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case Cw.NULL:return this._pushObject(null);case Cw.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,a=0;a<i;a++)o+=r[a];var u=yi.allocUnsafe(o),s=0,l=0;for(a=0;a<i;a++){switch(l=r[a],n[a]){case 0:e[a].copy(u,s);break;case 1:u.writeUInt8(e[a],s,!0);break;case 2:u.writeUInt16BE(e[a],s,!0);break;case 3:u.writeUInt32BE(e[a],s,!0);break;case 4:u.writeDoubleBE(e[a],s,!0);break;case 5:u.write(e[a],s,l,"utf8");break;default:throw new Error("unkown method")}s+=l}var c=u;return this._reset(),c}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){const r=new uh;if(!r.pushAny(e))throw new Error("Failed to encode input");return r.finalize()}}var VO=uh;(function(t){t.Diagnose=FO,t.Decoder=Sw,t.Encoder=VO,t.Simple=yw,t.Tagged=bw,t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}})(dw);var KO=s1,Iw=128,JO=127,YO=~JO,XO=Math.pow(2,31);function s1(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw s1.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=XO;)e[r++]=t&255|Iw,t/=128;for(;t&YO;)e[r++]=t&255|Iw,t>>>=7;return e[r]=t|0,s1.bytes=r-n+1,e}var QO=l1,ZO=128,Tw=127;function l1(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a||n>49)throw l1.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&Tw)<<n:(o&Tw)*Math.pow(2,n),n+=7}while(o>=ZO);return l1.bytes=i-e,r}var e9=Math.pow(2,7),t9=Math.pow(2,14),r9=Math.pow(2,21),n9=Math.pow(2,28),i9=Math.pow(2,35),o9=Math.pow(2,42),a9=Math.pow(2,49),u9=Math.pow(2,56),s9=Math.pow(2,63),l9=function(t){return t<e9?1:t<t9?2:t<r9?3:t<n9?4:t<i9?5:t<o9?6:t<a9?7:t<u9?8:t<s9?9:10},ca={encode:KO,decode:QO,encodingLength:l9};function c9(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var f9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:c9}),h9=Ft(f9);function Pw(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Nw=Pw("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),c1=Pw("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Fw=Se({utf8:Nw,"utf-8":Nw,hex:Dn.base16,latin1:c1,ascii:c1,binary:c1},Dn);function d9(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var p9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:d9}),v9=Ft(p9);function m9(t,e="utf8"){const r=Fw[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var g9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:m9}),y9=Ft(g9);const Ow=ca,{toString:b9}=v9,{fromString:_9}=y9;var $w={numberToUint8Array:w9,uint8ArrayToNumber:Lw,varintUint8ArrayEncode:x9,varintEncode:D9};function Lw(t){return parseInt(b9(t,"base16"),16)}function w9(t){let e=t.toString(16);return e.length%2==1&&(e="0"+e),_9(e,"base16")}function x9(t){return Uint8Array.from(Ow.encode(Lw(t)))}function D9(t){return Uint8Array.from(Ow.encode(t))}const E9=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"eth-receipt-log-trie":153,"eth-reciept-log":154,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,"caip-50":202,streamid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,noise:454,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,"swhid-1-snp":496,json:512,messagepack:513,"libp2p-peer-record":769,"libp2p-relay-rsvp":770,"car-index-sorted":1024,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,"secp256k1-priv":4865,"x25519-priv":4866,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056,"arweave-ns":11704592});var S9={baseTable:E9};const{baseTable:f1}=S9,A9=$w.varintEncode,h1={},d1={},sh={};for(const t in f1){const e=t,r=f1[e];h1[e]=A9(r);const n=e.toUpperCase().replace(/-/g,"_");d1[n]=r,sh[r]||(sh[r]=e)}Object.freeze(h1);Object.freeze(d1);Object.freeze(sh);const k9=Object.freeze(f1);var C9={nameToVarint:h1,constantToCode:d1,nameToCode:k9,codeToName:sh};const lh=ca,{concat:M9}=h9,Rw=$w,{nameToVarint:ch,constantToCode:I9,nameToCode:Bw,codeToName:p1}=C9;function T9(t,e){let r;if(t instanceof Uint8Array)r=Rw.varintUint8ArrayEncode(t);else if(ch[t])r=ch[t];else throw new Error("multicodec not recognized");return M9([r,e],r.length+e.length)}function P9(t){return lh.decode(t),t.slice(lh.decode.bytes)}function Uw(t){const e=lh.decode(t),r=p1[e];if(r===void 0)throw new Error(`Code "${e}" not found`);return r}function jw(t){return p1[t]}function zw(t){const e=Bw[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function qw(t){return lh.decode(t)}function Hw(t){const e=ch[t];if(e===void 0)throw new Error(`Codec "${t}" not found`);return e}function Ww(t){return Rw.varintEncode(t)}function N9(t){return Uw(t)}function F9(t){return jw(t)}function O9(t){return zw(t)}function $9(t){return qw(t)}function L9(t){return Hw(t)}function R9(t){return Array.from(Ww(t))}var Gw=Nr(Se({addPrefix:T9,rmPrefix:P9,getNameFromData:Uw,getNameFromCode:jw,getCodeFromName:zw,getCodeFromData:qw,getVarintFromName:Hw,getVarintFromCode:Ww,getCodec:N9,getName:F9,getNumber:O9,getCode:$9,getCodeVarint:L9,getVarint:R9},I9),{nameToVarint:ch,nameToCode:Bw,codeToName:p1});function Vw(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function B9(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return Vw(t,r)}catch{r.message=t.message,r.stack=t.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),Vw(new i,r)}}var U9=B9,fa={exports:{}};function j9(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var a=t.length,u=t.charAt(0),s=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function c(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var k=0,_=0,S=0,w=y.length;S!==w&&y[S]===0;)S++,k++;for(var C=(w-S)*l+1>>>0,L=new Uint8Array(C);S!==w;){for(var P=y[S],B=0,U=C-1;(P!==0||B<_)&&U!==-1;U--,B++)P+=256*L[U]>>>0,L[U]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");_=B,S++}for(var f=C-_;f!==C&&L[f]===0;)f++;for(var D=u.repeat(k);f<C;++f)D+=t.charAt(L[f]);return D}function h(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;var k=0;if(y[k]!==" "){for(var _=0,S=0;y[k]===u;)_++,k++;for(var w=(y.length-k)*s+1>>>0,C=new Uint8Array(w);y[k];){var L=e[y.charCodeAt(k)];if(L===255)return;for(var P=0,B=w-1;(L!==0||P<S)&&B!==-1;B--,P++)L+=a*C[B]>>>0,C[B]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");S=P,k++}if(y[k]!==" "){for(var U=w-S;U!==w&&C[U]===0;)U++;for(var f=new Uint8Array(_+(w-U)),D=_;U!==w;)f[D++]=C[U++];return f}}}function v(y){var k=h(y);if(k)return k;throw new Error("Non-base"+a+" character")}return{encode:c,decodeUnsafe:h,decode:v}}var z9=j9;const q9=new TextDecoder,H9=t=>q9.decode(t),W9=new TextEncoder,G9=t=>W9.encode(t);function V9(t,e){const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var v1={decodeText:H9,encodeText:G9,concat:V9};const{encodeText:K9}=v1;class J9{constructor(e,r,n,i){this.name=e,this.code=r,this.codeBuf=K9(this.code),this.alphabet=i,this.codec=n(i)}encode(e){return this.codec.encode(e)}decode(e){for(const r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}}var Y9=J9;const X9=(t,e,r)=>{const n={};for(let l=0;l<e.length;++l)n[e[l]]=l;let i=t.length;for(;t[i-1]==="=";)--i;const o=new Uint8Array(i*r/8|0);let a=0,u=0,s=0;for(let l=0;l<i;++l){const c=n[t[l]];if(c===void 0)throw new SyntaxError("Invalid character "+t[l]);u=u<<r|c,a+=r,a>=8&&(a-=8,o[s++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},Q9=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let o="",a=0,u=0;for(let s=0;s<t.length;++s)for(u=u<<8|t[s],a+=8;a>r;)a-=r,o+=e[i&u>>a];if(a&&(o+=e[i&u<<r-a]),n)for(;o.length*r&7;)o+="=";return o},Z9=t=>e=>({encode(r){return Q9(r,e,t)},decode(r){return X9(r,e,t)}});var e$={rfc4648:Z9};const wl=z9,t$=Y9,{rfc4648:dr}=e$,{decodeText:r$,encodeText:n$}=v1,i$=()=>({encode:r$,decode:n$}),Kw=[["identity","\0",i$,""],["base2","0",dr(1),"01"],["base8","7",dr(3),"01234567"],["base10","9",wl,"0123456789"],["base16","f",dr(4),"0123456789abcdef"],["base16upper","F",dr(4),"0123456789ABCDEF"],["base32hex","v",dr(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",dr(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",dr(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",dr(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",dr(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",dr(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",dr(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",dr(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",dr(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",wl,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",wl,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",wl,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",wl,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",dr(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",dr(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",dr(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",dr(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Jw=Kw.reduce((t,e)=>(t[e[0]]=new t$(e[0],e[1],e[2],e[3]),t),{}),o$=Kw.reduce((t,e)=>(t[e[1]]=Jw[e[0]],t),{});var a$={names:Jw,codes:o$};(function(t,e){const r=a$,{encodeText:n,decodeText:i,concat:o}=v1;function a(_,S){if(!S)throw new Error("requires an encoded Uint8Array");const{name:w,codeBuf:C}=h(_);return c(w,S),o([C,S],C.length+S.length)}function u(_,S){const w=h(_),C=n(w.encode(S));return o([w.codeBuf,C],w.codeBuf.length+C.length)}function s(_){_ instanceof Uint8Array&&(_=i(_));const S=_[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(S)&&(_=_.toLowerCase()),h(_[0]).decode(_.substring(1))}function l(_){if(_ instanceof Uint8Array&&(_=i(_)),Object.prototype.toString.call(_)!=="[object String]")return!1;try{return h(_[0]).name}catch{return!1}}function c(_,S){h(_).decode(i(S))}function h(_){if(Object.prototype.hasOwnProperty.call(r.names,_))return r.names[_];if(Object.prototype.hasOwnProperty.call(r.codes,_))return r.codes[_];throw new Error(`Unsupported encoding: ${_}`)}function v(_){return _ instanceof Uint8Array&&(_=i(_)),h(_[0])}e=t.exports=a,e.encode=u,e.decode=s,e.isEncoded=l,e.encoding=h,e.encodingFromData=v;const y=Object.freeze(r.names),k=Object.freeze(r.codes);e.names=y,e.codes=k})(fa,fa.exports);var u$=Xw,Yw=128,s$=127,l$=~s$,c$=Math.pow(2,31);function Xw(t,e,r){e=e||[],r=r||0;for(var n=r;t>=c$;)e[r++]=t&255|Yw,t/=128;for(;t&l$;)e[r++]=t&255|Yw,t>>>=7;return e[r]=t|0,Xw.bytes=r-n+1,e}var f$=m1,h$=128,Qw=127;function m1(t,e){var r=0,e=e||0,n=0,i=e,o,a=t.length;do{if(i>=a)throw m1.bytes=0,new RangeError("Could not decode varint");o=t[i++],r+=n<28?(o&Qw)<<n:(o&Qw)*Math.pow(2,n),n+=7}while(o>=h$);return m1.bytes=i-e,r}var d$=Math.pow(2,7),p$=Math.pow(2,14),v$=Math.pow(2,21),m$=Math.pow(2,28),g$=Math.pow(2,35),y$=Math.pow(2,42),b$=Math.pow(2,49),_$=Math.pow(2,56),w$=Math.pow(2,63),x$=function(t){return t<d$?1:t<p$?2:t<v$?3:t<m$?4:t<g$?5:t<y$?6:t<b$?7:t<_$?8:t<w$?9:10},D$={encode:u$,decode:f$,encodingLength:x$};const E$=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var S$={names:E$};function Zw(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const ex=Zw("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),g1=Zw("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),tx=Se({utf8:ex,"utf-8":ex,hex:Dn.base16,latin1:g1,ascii:g1,binary:g1},Dn);function A$(t,e="utf8"){const r=tx[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var k$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:A$}),C$=Ft(k$);function M$(t,e="utf8"){const r=tx[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var I$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:M$}),T$=Ft(I$);function P$(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var N$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:P$}),F$=Ft(N$);const rx=fa.exports,$u=D$,{names:xl}=S$,{toString:fh}=C$,{fromString:O$}=T$,{concat:$$}=F$,Lu={};for(const t in xl){const e=t;Lu[xl[e]]=e}Object.freeze(Lu);function L$(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return fh(t,"base16")}function R$(t){return O$(t,"base16")}function B$(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return fh(rx.encode("base58btc",t)).slice(1)}function U$(t){const e=t instanceof Uint8Array?fh(t):t;return rx.decode("z"+e)}function nx(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const e=$u.decode(t);if(!ox(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice($u.decode.bytes);const r=$u.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice($u.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${fh(t,"base16")}`);return{code:e,name:Lu[e],length:r,digest:t}}function j$(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const n=ix(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");const i=$u.encode(n),o=$u.encode(r);return $$([i,o,t],i.length+o.length+t.length)}function ix(t){let e=t;if(typeof t=="string"){if(xl[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=xl[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Lu[e]===void 0&&!y1(e))throw new Error(`Unrecognized function code: ${e}`);return e}function y1(t){return t>0&&t<16}function ox(t){return!!(y1(t)||Lu[t])}function ax(t){nx(t)}function z$(t){return ax(t),t.subarray(0,2)}var Dl={names:xl,codes:Lu,toHexString:L$,fromHexString:R$,toB58String:B$,fromB58String:U$,decode:nx,encode:j$,coerceCode:ix,isAppCode:y1,validate:ax,prefix:z$,isValidCode:ox},b1={exports:{}};(function(t,e){(function(r,n){var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(_){if(!Array.isArray(_)&&!ArrayBuffer.isView(_))return!1;for(var S=0;S<_.length;S++)if(!Number.isInteger(_[S])||_[S]<0||_[S]>255)return!1;return!0}function a(_,S){return(_&65535)*S+(((_>>>16)*S&65535)<<16)}function u(_,S){return _<<S|_>>>32-S}function s(_){return _^=_>>>16,_=a(_,2246822507),_^=_>>>13,_=a(_,3266489909),_^=_>>>16,_}function l(_,S){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535];var w=[0,0,0,0];return w[3]+=_[3]+S[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=_[2]+S[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=_[1]+S[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=_[0]+S[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function c(_,S){_=[_[0]>>>16,_[0]&65535,_[1]>>>16,_[1]&65535],S=[S[0]>>>16,S[0]&65535,S[1]>>>16,S[1]&65535];var w=[0,0,0,0];return w[3]+=_[3]*S[3],w[2]+=w[3]>>>16,w[3]&=65535,w[2]+=_[2]*S[3],w[1]+=w[2]>>>16,w[2]&=65535,w[2]+=_[3]*S[2],w[1]+=w[2]>>>16,w[2]&=65535,w[1]+=_[1]*S[3],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=_[2]*S[2],w[0]+=w[1]>>>16,w[1]&=65535,w[1]+=_[3]*S[1],w[0]+=w[1]>>>16,w[1]&=65535,w[0]+=_[0]*S[3]+_[1]*S[2]+_[2]*S[1]+_[3]*S[0],w[0]&=65535,[w[0]<<16|w[1],w[2]<<16|w[3]]}function h(_,S){return S%=64,S===32?[_[1],_[0]]:S<32?[_[0]<<S|_[1]>>>32-S,_[1]<<S|_[0]>>>32-S]:(S-=32,[_[1]<<S|_[0]>>>32-S,_[0]<<S|_[1]>>>32-S])}function v(_,S){return S%=64,S===0?_:S<32?[_[0]<<S|_[1]>>>32-S,_[1]<<S]:[_[1]<<S-32,0]}function y(_,S){return[_[0]^S[0],_[1]^S[1]]}function k(_){return _=y(_,[0,_[0]>>>1]),_=c(_,[4283543511,3981806797]),_=y(_,[0,_[0]>>>1]),_=c(_,[3301882366,444984403]),_=y(_,[0,_[0]>>>1]),_}i.x86.hash32=function(_,S){if(i.inputValidation&&!o(_))return n;S=S||0;for(var w=_.length%4,C=_.length-w,L=S,P=0,B=3432918353,U=461845907,f=0;f<C;f=f+4)P=_[f]|_[f+1]<<8|_[f+2]<<16|_[f+3]<<24,P=a(P,B),P=u(P,15),P=a(P,U),L^=P,L=u(L,13),L=a(L,5)+3864292196;switch(P=0,w){case 3:P^=_[f+2]<<16;case 2:P^=_[f+1]<<8;case 1:P^=_[f],P=a(P,B),P=u(P,15),P=a(P,U),L^=P}return L^=_.length,L=s(L),L>>>0},i.x86.hash128=function(_,S){if(i.inputValidation&&!o(_))return n;S=S||0;for(var w=_.length%16,C=_.length-w,L=S,P=S,B=S,U=S,f=0,D=0,$=0,G=0,O=597399067,p=2869860233,E=951274213,m=2716044179,g=0;g<C;g=g+16)f=_[g]|_[g+1]<<8|_[g+2]<<16|_[g+3]<<24,D=_[g+4]|_[g+5]<<8|_[g+6]<<16|_[g+7]<<24,$=_[g+8]|_[g+9]<<8|_[g+10]<<16|_[g+11]<<24,G=_[g+12]|_[g+13]<<8|_[g+14]<<16|_[g+15]<<24,f=a(f,O),f=u(f,15),f=a(f,p),L^=f,L=u(L,19),L+=P,L=a(L,5)+1444728091,D=a(D,p),D=u(D,16),D=a(D,E),P^=D,P=u(P,17),P+=B,P=a(P,5)+197830471,$=a($,E),$=u($,17),$=a($,m),B^=$,B=u(B,15),B+=U,B=a(B,5)+2530024501,G=a(G,m),G=u(G,18),G=a(G,O),U^=G,U=u(U,13),U+=L,U=a(U,5)+850148119;switch(f=0,D=0,$=0,G=0,w){case 15:G^=_[g+14]<<16;case 14:G^=_[g+13]<<8;case 13:G^=_[g+12],G=a(G,m),G=u(G,18),G=a(G,O),U^=G;case 12:$^=_[g+11]<<24;case 11:$^=_[g+10]<<16;case 10:$^=_[g+9]<<8;case 9:$^=_[g+8],$=a($,E),$=u($,17),$=a($,m),B^=$;case 8:D^=_[g+7]<<24;case 7:D^=_[g+6]<<16;case 6:D^=_[g+5]<<8;case 5:D^=_[g+4],D=a(D,p),D=u(D,16),D=a(D,E),P^=D;case 4:f^=_[g+3]<<24;case 3:f^=_[g+2]<<16;case 2:f^=_[g+1]<<8;case 1:f^=_[g],f=a(f,O),f=u(f,15),f=a(f,p),L^=f}return L^=_.length,P^=_.length,B^=_.length,U^=_.length,L+=P,L+=B,L+=U,P+=L,B+=L,U+=L,L=s(L),P=s(P),B=s(B),U=s(U),L+=P,L+=B,L+=U,P+=L,B+=L,U+=L,("00000000"+(L>>>0).toString(16)).slice(-8)+("00000000"+(P>>>0).toString(16)).slice(-8)+("00000000"+(B>>>0).toString(16)).slice(-8)+("00000000"+(U>>>0).toString(16)).slice(-8)},i.x64.hash128=function(_,S){if(i.inputValidation&&!o(_))return n;S=S||0;for(var w=_.length%16,C=_.length-w,L=[0,S],P=[0,S],B=[0,0],U=[0,0],f=[2277735313,289559509],D=[1291169091,658871167],$=0;$<C;$=$+16)B=[_[$+4]|_[$+5]<<8|_[$+6]<<16|_[$+7]<<24,_[$]|_[$+1]<<8|_[$+2]<<16|_[$+3]<<24],U=[_[$+12]|_[$+13]<<8|_[$+14]<<16|_[$+15]<<24,_[$+8]|_[$+9]<<8|_[$+10]<<16|_[$+11]<<24],B=c(B,f),B=h(B,31),B=c(B,D),L=y(L,B),L=h(L,27),L=l(L,P),L=l(c(L,[0,5]),[0,1390208809]),U=c(U,D),U=h(U,33),U=c(U,f),P=y(P,U),P=h(P,31),P=l(P,L),P=l(c(P,[0,5]),[0,944331445]);switch(B=[0,0],U=[0,0],w){case 15:U=y(U,v([0,_[$+14]],48));case 14:U=y(U,v([0,_[$+13]],40));case 13:U=y(U,v([0,_[$+12]],32));case 12:U=y(U,v([0,_[$+11]],24));case 11:U=y(U,v([0,_[$+10]],16));case 10:U=y(U,v([0,_[$+9]],8));case 9:U=y(U,[0,_[$+8]]),U=c(U,D),U=h(U,33),U=c(U,f),P=y(P,U);case 8:B=y(B,v([0,_[$+7]],56));case 7:B=y(B,v([0,_[$+6]],48));case 6:B=y(B,v([0,_[$+5]],40));case 5:B=y(B,v([0,_[$+4]],32));case 4:B=y(B,v([0,_[$+3]],24));case 3:B=y(B,v([0,_[$+2]],16));case 2:B=y(B,v([0,_[$+1]],8));case 1:B=y(B,[0,_[$]]),B=c(B,f),B=h(B,31),B=c(B,D),L=y(L,B)}return L=y(L,[0,_.length]),P=y(P,[0,_.length]),L=l(L,P),P=l(P,L),L=k(L),P=k(P),L=l(L,P),P=l(P,L),("00000000"+(L[0]>>>0).toString(16)).slice(-8)+("00000000"+(L[1]>>>0).toString(16)).slice(-8)+("00000000"+(P[0]>>>0).toString(16)).slice(-8)+("00000000"+(P[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=i),e.murmurHash3=i})()})(b1,b1.exports);var q$=b1.exports;const H$=Dl,Ru=self.crypto||self.msCrypto,_1=async(t,e)=>{if(typeof self=="undefined"||!Ru)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await Ru.subtle.digest({name:"SHA-1"},t));case"sha2-256":return new Uint8Array(await Ru.subtle.digest({name:"SHA-256"},t));case"sha2-512":return new Uint8Array(await Ru.subtle.digest({name:"SHA-512"},t));case"dbl-sha2-256":{const r=await Ru.subtle.digest({name:"SHA-256"},t);return new Uint8Array(await Ru.subtle.digest({name:"SHA-256"},r))}default:throw new Error(`${e} is not a supported algorithm`)}};var W$={factory:t=>async e=>_1(e,t),digest:_1,multihashing:async(t,e,r)=>{const n=await _1(t,e);return H$.encode(n,e,r)}};const G$=t=>{const e=new Uint8Array(4);for(let r=0;r<4;r++)e[r]=t&255,t=t>>8;return e};var V$={fromNumberTo32BitBuf:G$};function ux(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const sx=ux("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),w1=ux("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),K$=Se({utf8:sx,"utf-8":sx,hex:Dn.base16,latin1:w1,ascii:w1,binary:w1},Dn);function J$(t,e="utf8"){const r=K$[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var Y$=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",fromString:J$}),X$=Ft(Y$);const Q$="Input must be an string, Buffer or Uint8Array";function Z$(t){let e;if(t instanceof Uint8Array)e=t;else if(t instanceof Buffer)e=new Uint8Array(t);else if(typeof t=="string")e=new Uint8Array(Buffer.from(t,"utf8"));else throw new Error(Q$);return e}function eL(t){return Array.prototype.map.call(t,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function hh(t){return(4294967296+t).toString(16).substring(1)}function tL(t,e,r){let n=`
`+t+" = ";for(let i=0;i<e.length;i+=2){if(r===32)n+=hh(e[i]).toUpperCase(),n+=" ",n+=hh(e[i+1]).toUpperCase();else if(r===64)n+=hh(e[i+1]).toUpperCase(),n+=hh(e[i]).toUpperCase();else throw new Error("Invalid size "+r);i%6==4?n+=`
`+new Array(t.length+4).join(" "):i<e.length-2&&(n+=" ")}console.log(n)}function rL(t,e,r){let n=new Date().getTime();const i=new Uint8Array(e);for(let a=0;a<e;a++)i[a]=a%256;const o=new Date().getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let a=0;a<r;a++){const u=t(i),s=new Date().getTime(),l=s-n;n=s,console.log("Hashed in "+l+"ms: "+u.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var lx={normalizeInput:Z$,toHex:eL,debugPrint:tL,testSpeed:rL};const cx=lx;function dh(t,e,r){const n=t[e]+t[r];let i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function fx(t,e,r,n){let i=t[e]+r;r<0&&(i+=4294967296);let o=t[e+1]+n;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function nL(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ko(t,e,r,n,i,o){const a=El[i],u=El[i+1],s=El[o],l=El[o+1];dh(Qe,t,e),fx(Qe,t,a,u);let c=Qe[n]^Qe[t],h=Qe[n+1]^Qe[t+1];Qe[n]=h,Qe[n+1]=c,dh(Qe,r,n),c=Qe[e]^Qe[r],h=Qe[e+1]^Qe[r+1],Qe[e]=c>>>24^h<<8,Qe[e+1]=h>>>24^c<<8,dh(Qe,t,e),fx(Qe,t,s,l),c=Qe[n]^Qe[t],h=Qe[n+1]^Qe[t+1],Qe[n]=c>>>16^h<<16,Qe[n+1]=h>>>16^c<<16,dh(Qe,r,n),c=Qe[e]^Qe[r],h=Qe[e+1]^Qe[r+1],Qe[e]=h>>>31^c<<1,Qe[e+1]=c>>>31^h<<1}const hx=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),iL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Mr=new Uint8Array(iL.map(function(t){return t*2})),Qe=new Uint32Array(32),El=new Uint32Array(32);function dx(t,e){let r=0;for(r=0;r<16;r++)Qe[r]=t.h[r],Qe[r+16]=hx[r];for(Qe[24]=Qe[24]^t.t,Qe[25]=Qe[25]^t.t/4294967296,e&&(Qe[28]=~Qe[28],Qe[29]=~Qe[29]),r=0;r<32;r++)El[r]=nL(t.b,4*r);for(r=0;r<12;r++)ko(0,8,16,24,Mr[r*16+0],Mr[r*16+1]),ko(2,10,18,26,Mr[r*16+2],Mr[r*16+3]),ko(4,12,20,28,Mr[r*16+4],Mr[r*16+5]),ko(6,14,22,30,Mr[r*16+6],Mr[r*16+7]),ko(0,10,20,30,Mr[r*16+8],Mr[r*16+9]),ko(2,12,22,24,Mr[r*16+10],Mr[r*16+11]),ko(4,14,16,26,Mr[r*16+12],Mr[r*16+13]),ko(6,8,18,28,Mr[r*16+14],Mr[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Qe[r]^Qe[r+16]}function px(t,e){if(t===0||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};for(let i=0;i<16;i++)r.h[i]=hx[i];const n=e?e.length:0;return r.h[0]^=16842752^n<<8^t,e&&(x1(r,e),r.c=128),r}function x1(t,e){for(let r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,dx(t,!1),t.c=0),t.b[t.c++]=e[r]}function vx(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;dx(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function mx(t,e,r){r=r||64,t=cx.normalizeInput(t);const n=px(r,e);return x1(n,t),vx(n)}function oL(t,e,r){const n=mx(t,e,r);return cx.toHex(n)}var aL={blake2b:mx,blake2bHex:oL,blake2bInit:px,blake2bUpdate:x1,blake2bFinal:vx};const gx=lx;function uL(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Co(t,e,r,n,i,o){vt[t]=vt[t]+vt[e]+i,vt[n]=ph(vt[n]^vt[t],16),vt[r]=vt[r]+vt[n],vt[e]=ph(vt[e]^vt[r],12),vt[t]=vt[t]+vt[e]+o,vt[n]=ph(vt[n]^vt[t],8),vt[r]=vt[r]+vt[n],vt[e]=ph(vt[e]^vt[r],7)}function ph(t,e){return t>>>e^t<<32-e}const yx=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ir=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),vt=new Uint32Array(16),pr=new Uint32Array(16);function bx(t,e){let r=0;for(r=0;r<8;r++)vt[r]=t.h[r],vt[r+8]=yx[r];for(vt[12]^=t.t,vt[13]^=t.t/4294967296,e&&(vt[14]=~vt[14]),r=0;r<16;r++)pr[r]=uL(t.b,4*r);for(r=0;r<10;r++)Co(0,4,8,12,pr[Ir[r*16+0]],pr[Ir[r*16+1]]),Co(1,5,9,13,pr[Ir[r*16+2]],pr[Ir[r*16+3]]),Co(2,6,10,14,pr[Ir[r*16+4]],pr[Ir[r*16+5]]),Co(3,7,11,15,pr[Ir[r*16+6]],pr[Ir[r*16+7]]),Co(0,5,10,15,pr[Ir[r*16+8]],pr[Ir[r*16+9]]),Co(1,6,11,12,pr[Ir[r*16+10]],pr[Ir[r*16+11]]),Co(2,7,8,13,pr[Ir[r*16+12]],pr[Ir[r*16+13]]),Co(3,4,9,14,pr[Ir[r*16+14]],pr[Ir[r*16+15]]);for(r=0;r<8;r++)t.h[r]^=vt[r]^vt[r+8]}function _x(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=e?e.length:0;if(e&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(yx),b:new Uint8Array(64),c:0,t:0,outlen:t};return n.h[0]^=16842752^r<<8^t,r>0&&(D1(n,e),n.c=64),n}function D1(t,e){for(let r=0;r<e.length;r++)t.c===64&&(t.t+=t.c,bx(t,!1),t.c=0),t.b[t.c++]=e[r]}function wx(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;bx(t,!0);const e=new Uint8Array(t.outlen);for(let r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3)&255;return e}function xx(t,e,r){r=r||32,t=gx.normalizeInput(t);const n=_x(r,e);return D1(n,t),wx(n)}function sL(t,e,r){const n=xx(t,e,r);return gx.toHex(n)}var lL={blake2s:xx,blake2sHex:sL,blake2sInit:_x,blake2sUpdate:D1,blake2sFinal:wx};const Sl=aL,Al=lL;var cL={blake2b:Sl.blake2b,blake2bHex:Sl.blake2bHex,blake2bInit:Sl.blake2bInit,blake2bUpdate:Sl.blake2bUpdate,blake2bFinal:Sl.blake2bFinal,blake2s:Al.blake2s,blake2sHex:Al.blake2sHex,blake2sInit:Al.blake2sInit,blake2sUpdate:Al.blake2sUpdate,blake2sFinal:Al.blake2sFinal};const Bu=cL,fL=45569,hL=45633,dL={init:Bu.blake2bInit,update:Bu.blake2bUpdate,digest:Bu.blake2bFinal},pL={init:Bu.blake2sInit,update:Bu.blake2sUpdate,digest:Bu.blake2sFinal},Dx=(t,e)=>async r=>{const n=e.init(t,null);return e.update(n,r),e.digest(n)};var vL=t=>{for(let e=0;e<64;e++)t[fL+e]=Dx(e+1,dL);for(let e=0;e<32;e++)t[hL+e]=Dx(e+1,pL)};const bi=dv.exports,Ex=q$,{factory:vh}=W$,{fromNumberTo32BitBuf:mL}=V$,{fromString:gL}=X$,Tn=t=>async e=>{switch(t){case"sha3-224":return new Uint8Array(bi.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(bi.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(bi.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(bi.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(bi.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(bi.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(bi.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(bi.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(bi.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(bi.keccak512.arrayBuffer(e));case"murmur3-128":return gL(Ex.x64.hash128(e),"base16");case"murmur3-32":return mL(Ex.x86.hash32(e));default:throw new TypeError(`${t} is not a supported algorithm`)}},yL=t=>t;var bL={identity:yL,sha1:vh("sha1"),sha2256:vh("sha2-256"),sha2512:vh("sha2-512"),dblSha2256:vh("dbl-sha2-256"),sha3224:Tn("sha3-224"),sha3256:Tn("sha3-256"),sha3384:Tn("sha3-384"),sha3512:Tn("sha3-512"),shake128:Tn("shake-128"),shake256:Tn("shake-256"),keccak224:Tn("keccak-224"),keccak256:Tn("keccak-256"),keccak384:Tn("keccak-384"),keccak512:Tn("keccak-512"),murmur3128:Tn("murmur3-128"),murmur332:Tn("murmur3-32"),addBlake:vL};function _L(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var wL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:_L}),xL=Ft(wL);const Sx=U9,mh=Dl,nr=bL,{equals:DL}=xL;async function Pn(t,e,r){const n=await Pn.digest(t,e,r);return mh.encode(n,e,r)}Pn.multihash=mh;Pn.digest=async(t,e,r)=>{const i=await Pn.createHash(e)(t);return r?i.slice(0,r):i};Pn.createHash=function(t){if(!t)throw Sx(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");const e=mh.coerceCode(t);if(!Pn.functions[e])throw Sx(new Error(`multihash function '${t}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Pn.functions[e]};Pn.functions={0:nr.identity,17:nr.sha1,18:nr.sha2256,19:nr.sha2512,20:nr.sha3512,21:nr.sha3384,22:nr.sha3256,23:nr.sha3224,24:nr.shake128,25:nr.shake256,26:nr.keccak224,27:nr.keccak256,28:nr.keccak384,29:nr.keccak512,34:nr.murmur3128,35:nr.murmur332,86:nr.dblSha2256};nr.addBlake(Pn.functions);Pn.validate=async(t,e)=>{const r=await Pn(t,mh.decode(e).name);return DL(e,r)};var EL=Pn;const SL=Dl,AL={checkCIDComponents:function(t){if(t==null)return"null values are not valid CIDs";if(!(t.version===0||t.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof t.codec!="string")return"codec must be string";if(t.version===0){if(t.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(t.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(t.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{SL.validate(t.multihash)}catch(e){let r=e.message;return r||(r="Multihash validation failed"),r}}};var kL=AL;function CL(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var ML=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",concat:CL}),IL=Ft(ML);function Ax(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const kx=Ax("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),E1=Ax("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),TL=Se({utf8:kx,"utf-8":kx,hex:Dn.base16,latin1:E1,ascii:E1,binary:E1},Dn);function PL(t,e="utf8"){const r=TL[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var NL=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",toString:PL}),FL=Ft(NL);function OL(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var $L=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",equals:OL}),LL=Ft($L);const gh=Dl,S1=fa.exports,ha=Gw,RL=kL,{concat:Cx}=IL,{toString:BL}=FL,{equals:UL}=LL,yh=ha.nameToCode,jL=Object.keys(yh).reduce((t,e)=>(t[yh[e]]=e,t),{}),Mx=Symbol.for("@ipld/js-cid/CID");class _i{constructor(e,r,n,i){if(this.version,this.codec,this.multihash,Object.defineProperty(this,Mx,{value:!0}),_i.isCID(e)){const o=e;this.version=o.version,this.codec=o.codec,this.multihash=o.multihash,this.multibaseName=o.multibaseName||(o.version===0?"base58btc":"base32");return}if(typeof e=="string"){const o=S1.isEncoded(e);if(o){const a=S1.decode(e);this.version=parseInt(a[0].toString(),16),this.codec=ha.getCodec(a.slice(1)),this.multihash=ha.rmPrefix(a.slice(1)),this.multibaseName=o}else this.version=0,this.codec="dag-pb",this.multihash=gh.fromB58String(e),this.multibaseName="base58btc";_i.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){const o=parseInt(e[0].toString(),16);if(o===1){const a=e;this.version=o,this.codec=ha.getCodec(a.slice(1)),this.multihash=ha.rmPrefix(a.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";_i.validateCID(this);return}this.version=e,typeof r=="number"&&(r=jL[r]),this.codec=r,this.multihash=n,this.multibaseName=i||(e===0?"base58btc":"base32"),_i.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){const r=ha.getCodeVarint(this.codec);e=Cx([[1],r,this.multihash],1+r.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){const e=ha.getCodeVarint(this.codec),r=gh.prefix(this.multihash);return Cx([[this.version],e,r],1+e.byteLength+r.byteLength)}get code(){return yh[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");const{name:e,length:r}=gh.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(r!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new _i(0,this.codec,this.multihash)}toV1(){return new _i(1,this.codec,this.multihash,this.multibaseName)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let r;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");r=gh.toB58String(this.multihash)}else if(this.version===1)r=BL(S1.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:r}),r}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&UL(this.multihash,e.multihash)}static validateCID(e){const r=RL.checkCIDComponents(e);if(r)throw new Error(r)}static isCID(e){return e instanceof _i||Boolean(e&&e[Mx])}}_i.codecs=yh;var Mo=_i,zL=Ix;function Ix(t,e){this.value=t,this.next=e}Ix.prototype.contains=function(t){for(var e=this;e;){if(e.value===t)return!0;e=e.next}return!1};var qL=zL,HL=WL;function WL(t){if(!(t instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return Tx(t)}function Tx(t,e){e=new qL(t,e);for(var r in t){var n=t[r];if(n instanceof Object&&(e.contains(n)||Tx(n,e)))return!0}return!1}function GL(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}var bh=GL,VL=Ft(DT);const{bases:Px}=VL;function Nx(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Fx=Nx("utf8","u",t=>{const e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),A1=Nx("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),KL=Se({utf8:Fx,"utf-8":Fx,hex:Px.base16,latin1:A1,ascii:A1,binary:A1},Px);var Ox=KL;const JL=Ox;function YL(t,e="utf8"){const r=JL[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.decoder.decode(`${r.prefix}${t}`)}var $x=YL;const k1=dw,C1=Gw,XL=EL,kl=Mo,QL=HL,ZL=bh,eR=$x,Lx=42;function tR(t){return typeof t=="string"?t=new kl(t).bytes:kl.isCID(t)&&(t=t.bytes),new k1.Tagged(Lx,ZL([eR("00","base16"),t],1+t.length))}function rR(t){let e;try{e=QL(t)}catch{e=!1}if(e)throw new Error("The object passed has circular references");function r(n){if(!n||n instanceof Uint8Array||typeof n=="string")return n;if(Array.isArray(n))return n.map(r);if(kl.isCID(n))return tR(n);const i=Object.keys(n);if(i.length>0){const o={};return i.forEach(a=>{typeof n[a]=="object"?o[a]=r(n[a]):o[a]=n[a]}),o}else return n}return r(t)}const Rx=C1.DAG_CBOR,Bx=C1.SHA2_256,Ux={[Lx]:t=>(t=t.slice(1),new kl(t))},jx=64*1024;let Uu=jx;const zx=64*1024*1024;let M1=zx,qx=null;function I1(t){let e=Ux;t?(typeof t.size=="number"&&(Uu=t.size),typeof t.maxSize=="number"&&(M1=t.maxSize),t.tags&&(e=Object.assign({},Ux,t&&t.tags))):(Uu=jx,M1=zx);const r={tags:e,size:Uu};qx=new k1.Decoder(r),Uu=r.size}I1();function nR(t){const e=rR(t);return k1.encode(e)}function iR(t){if(t.length>Uu&&t.length<=M1&&I1({size:t.length}),t.length>Uu)throw new Error("Data is too large to deserialize with current decoder");const e=qx.decodeAll(t);if(e.length!==1)throw new Error("Extraneous CBOR data found beyond initial top-level object");return e[0]}async function oR(t,e){const n=Object.assign({cidVersion:1,hashAlg:Bx},e),i=await XL(t,n.hashAlg),o=C1.getNameFromCode(Rx);return new kl(n.cidVersion,o,i)}var Hx={codec:Rx,defaultHashAlg:Bx,configureDecoder:I1,serialize:nR,deserialize:iR,cid:oR},T1={};const Wx=Mo,Gx=Hx;T1.resolve=(t,e)=>{let r=Gx.deserialize(t);const n=e.split("/").filter(Boolean);for(;n.length;){const i=n.shift();if(r[i]===void 0)throw new Error(`Object has no property '${i}'`);if(r=r[i],Wx.isCID(r))return{value:r,remainderPath:n.join("/")}}return{value:r,remainderPath:""}};const Vx=function*(t,e){if(!(t instanceof Uint8Array||Wx.isCID(t)||typeof t=="string"||t===null))for(const r of Object.keys(t)){const n=e===void 0?r:e+"/"+r;yield n,yield*Vx(t[r],n)}};T1.tree=function*(t){const e=Gx.deserialize(t);yield*Vx(e)};(function(t){t.util=Hx,t.resolver=T1,t.codec=t.util.codec,t.defaultHashAlg=t.util.defaultHashAlg})(Jv);function aR(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var uR=aR;function sR(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var lR=sR;const cR=Ox;function fR(t,e="utf8"){const r=cR[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return r.encoder.encode(t).substring(1)}var P1=fR;function hR(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}var dR=hR;const pR=uR,vR=bh,mR=lR,gR=$x,yR=P1,bR=dR;var Tr={compare:pR,concat:vR,equals:mR,fromString:gR,toString:yR,xor:bR},_R=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wR=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xR=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_R(e,t,r);return wR(e,t),e},DR=re&&re.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(c){try{l(n.next(c))}catch(h){a(h)}}function s(c){try{l(n.throw(c))}catch(h){a(h)}}function l(c){c.done?o(c.value):i(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})},_h=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kn,"__esModule",{value:!0});kn.decodeCleartext=kn.prepareCleartext=kn.decodeIdentityCID=kn.encodeIdentityCID=kn.encodePayload=void 0;const wh=_h(Jv),N1=_h(Mo),Kx=_h(Dl),ER=xR(Tr),Jx=_h(ca),Yx=113,Xx=0,SR=24;function AR(t){return DR(this,void 0,void 0,function*(){const e=new Uint8Array(wh.default.util.serialize(t));return{cid:yield wh.default.util.cid(e),linkedBlock:e}})}kn.encodePayload=AR;function kR(t,e=SR){const r=(e-t.length%e)%e;return ER.concat([t,new Uint8Array(r)])}function CR(t){let e=0,r;for(let n=0;n<4;n++)r=Jx.default.decode(t,e),e+=Jx.default.decode.bytes;return new N1.default(t.slice(0,e+r))}function Qx(t){const e=wh.default.util.serialize(t),r=Kx.default.encode(e,Xx);return new N1.default(1,Yx,r)}kn.encodeIdentityCID=Qx;function Zx(t){if(N1.default.validateCID(t),t.code!==Yx)throw new Error("CID codec must be dag-cbor");const{code:e,digest:r}=Kx.default.decode(t.multihash);if(e!==Xx)throw new Error("CID must use identity multihash");return wh.default.util.deserialize(r)}kn.decodeIdentityCID=Zx;function MR(t,e){return kR(Qx(t).bytes,e)}kn.prepareCleartext=MR;function IR(t){return Zx(CR(t))}kn.decodeCleartext=IR;let TR=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let n=r[t]&63;n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n<63?e+="_":e+="-"}return e};function eD(t,e,r,n,i,o,a){try{var u=t[o](a),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function tD(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function a(s){eD(o,n,i,a,u,"next",s)}function u(s){eD(o,n,i,a,u,"throw",s)}a(void 0)})}}function PR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(t)}function xh(t,e){return xh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xh(t,e)}function NR(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Dh(t,e,r){return NR()?Dh=Reflect.construct:Dh=function(i,o,a){var u=[null];u.push.apply(u,o);var s=Function.bind.apply(i,u),l=new s;return a&&xh(l,a.prototype),l},Dh.apply(null,arguments)}function FR(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function O1(t){var e=typeof Map=="function"?new Map:void 0;return O1=function(n){if(n===null||!FR(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Dh(n,arguments,F1(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),xh(i,n)},O1(t)}function OR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $R(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Eh=$R(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(x,b,d){return Object.defineProperty(x,b,{value:d,enumerable:!0,configurable:!0,writable:!0}),x[b]}try{c({},"")}catch{c=function(b,d,I){return b[d]=I}}function h(x,b,d,I){var W=b&&b.prototype instanceof C?b:C,Q=Object.create(W.prototype),j=new g(I||[]);return Q._invoke=O(x,d,j),Q}r.wrap=h;function v(x,b,d){try{return{type:"normal",arg:x.call(b,d)}}catch(I){return{type:"throw",arg:I}}}var y="suspendedStart",k="suspendedYield",_="executing",S="completed",w={};function C(){}function L(){}function P(){}var B={};B[u]=function(){return this};var U=Object.getPrototypeOf,f=U&&U(U(M([])));f&&f!==n&&i.call(f,u)&&(B=f);var D=P.prototype=C.prototype=Object.create(B);L.prototype=D.constructor=P,P.constructor=L,L.displayName=c(P,l,"GeneratorFunction");function $(x){["next","throw","return"].forEach(function(b){c(x,b,function(d){return this._invoke(b,d)})})}r.isGeneratorFunction=function(x){var b=typeof x=="function"&&x.constructor;return b?b===L||(b.displayName||b.name)==="GeneratorFunction":!1},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,P):(x.__proto__=P,c(x,l,"GeneratorFunction")),x.prototype=Object.create(D),x},r.awrap=function(x){return{__await:x}};function G(x,b){function d(Q,j,N,Z){var q=v(x[Q],x,j);if(q.type==="throw")Z(q.arg);else{var K=q.arg,H=K.value;return H&&typeof H=="object"&&i.call(H,"__await")?b.resolve(H.__await).then(function(A){d("next",A,N,Z)},function(A){d("throw",A,N,Z)}):b.resolve(H).then(function(A){K.value=A,N(K)},function(A){return d("throw",A,N,Z)})}}var I;function W(Q,j){function N(){return new b(function(Z,q){d(Q,j,Z,q)})}return I=I?I.then(N,N):N()}this._invoke=W}$(G.prototype),G.prototype[s]=function(){return this},r.AsyncIterator=G,r.async=function(x,b,d,I,W){W===void 0&&(W=Promise);var Q=new G(h(x,b,d,I),W);return r.isGeneratorFunction(b)?Q:Q.next().then(function(j){return j.done?j.value:Q.next()})};function O(x,b,d){var I=y;return function(Q,j){if(I===_)throw new Error("Generator is already running");if(I===S){if(Q==="throw")throw j;return R()}for(d.method=Q,d.arg=j;;){var N=d.delegate;if(N){var Z=p(N,d);if(Z){if(Z===w)continue;return Z}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(I===y)throw I=S,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);I=_;var q=v(x,b,d);if(q.type==="normal"){if(I=d.done?S:k,q.arg===w)continue;return{value:q.arg,done:d.done}}else q.type==="throw"&&(I=S,d.method="throw",d.arg=q.arg)}}}function p(x,b){var d=x.iterator[b.method];if(d===o){if(b.delegate=null,b.method==="throw"){if(x.iterator.return&&(b.method="return",b.arg=o,p(x,b),b.method==="throw"))return w;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var I=v(d,x.iterator,b.arg);if(I.type==="throw")return b.method="throw",b.arg=I.arg,b.delegate=null,w;var W=I.arg;if(!W)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,w;if(W.done)b[x.resultName]=W.value,b.next=x.nextLoc,b.method!=="return"&&(b.method="next",b.arg=o);else return W;return b.delegate=null,w}$(D),c(D,l,"Generator"),D[u]=function(){return this},D.toString=function(){return"[object Generator]"};function E(x){var b={tryLoc:x[0]};1 in x&&(b.catchLoc=x[1]),2 in x&&(b.finallyLoc=x[2],b.afterLoc=x[3]),this.tryEntries.push(b)}function m(x){var b=x.completion||{};b.type="normal",delete b.arg,x.completion=b}function g(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(E,this),this.reset(!0)}r.keys=function(x){var b=[];for(var d in x)b.push(d);return b.reverse(),function I(){for(;b.length;){var W=b.pop();if(W in x)return I.value=W,I.done=!1,I}return I.done=!0,I}};function M(x){if(x){var b=x[u];if(b)return b.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var d=-1,I=function W(){for(;++d<x.length;)if(i.call(x,d))return W.value=x[d],W.done=!1,W;return W.value=o,W.done=!0,W};return I.next=I}}return{next:R}}r.values=M;function R(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(m),!x)for(var b in this)b.charAt(0)==="t"&&i.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=o)},stop:function(){this.done=!0;var x=this.tryEntries[0],b=x.completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var b=this;function d(Z,q){return Q.type="throw",Q.arg=x,b.next=Z,q&&(b.method="next",b.arg=o),!!q}for(var I=this.tryEntries.length-1;I>=0;--I){var W=this.tryEntries[I],Q=W.completion;if(W.tryLoc==="root")return d("end");if(W.tryLoc<=this.prev){var j=i.call(W,"catchLoc"),N=i.call(W,"finallyLoc");if(j&&N){if(this.prev<W.catchLoc)return d(W.catchLoc,!0);if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else if(j){if(this.prev<W.catchLoc)return d(W.catchLoc,!0)}else if(N){if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,b){for(var d=this.tryEntries.length-1;d>=0;--d){var I=this.tryEntries[d];if(I.tryLoc<=this.prev&&i.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var W=I;break}}W&&(x==="break"||x==="continue")&&W.tryLoc<=b&&b<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=x,Q.arg=b,W?(this.method="next",this.next=W.finallyLoc,w):this.complete(Q)},complete:function(x,b){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&b&&(this.next=b),w},finish:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.finallyLoc===x)return this.complete(d.completion,d.afterLoc),m(d),w}},catch:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.tryLoc===x){var I=d.completion;if(I.type==="throw"){var W=I.arg;m(d)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(x,b,d){return this.delegate={iterator:M(x),resultName:b,nextLoc:d},this.method==="next"&&(this.arg=o),w}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}}),da,Lr;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})(Lr||(Lr={}));var $1=(da={},da[Lr.PARSE_ERROR]="Parse error",da[Lr.INVALID_REQUEST]="Invalid request",da[Lr.METHOD_NOT_FOUND]="Method not found",da[Lr.INVALID_PARAMS]="Invalid params",da[Lr.INTERNAL_ERROR]="Internal error",da);function rD(t){return-32e3>=t&&t>=-32099}function Sh(t){var e;return(e=$1[t.toString()])!=null?e:rD(t)?"Server error":"Application error"}var Ah=function(t){PR(e,t);function e(n,i,o){var a;return a=t.call(this)||this,Object.setPrototypeOf(OR(a),e.prototype),a.code=n,a.data=o,a.message=i!=null?i:Sh(n),a}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var r=e.prototype;return r.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(O1(Error));function Cl(t){var e=$1[t];return function(n){return new Ah(t,e,n)}}var nD=Cl(Lr.PARSE_ERROR),LR=Cl(Lr.INVALID_REQUEST),RR=Cl(Lr.METHOD_NOT_FOUND),BR=Cl(Lr.INVALID_PARAMS),UR=Cl(Lr.INTERNAL_ERROR),jR=function(){function t(r){this.connection=r}var e=t.prototype;return e.createID=function(){return TR()},e.request=function(){var r=tD(Eh.mark(function i(o,a){var u;return Eh.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a===void 0&&(a=void 0),l.next=3,this.connection.send({jsonrpc:"2.0",id:this.createID(),method:o,params:a});case 3:if(u=l.sent,u!=null){l.next=6;break}throw new Error("Missing response");case 6:if(u.error==null){l.next=8;break}throw Ah.fromObject(u.error);case 8:return l.abrupt("return",u.result);case 9:case"end":return l.stop()}},i,this)}));function n(i,o){return r.apply(this,arguments)}return n}(),t}();function zR(t){try{return JSON.parse(t)}catch{throw nD()}}function L1(t,e){return{jsonrpc:"2.0",id:t,error:{code:e,message:Sh(e)}}}function qR(t,e,r){console.warn("Unhandled handler error",e,r)}function HR(t,e){console.warn("Unhandled invalid message",e)}function WR(t,e){console.warn("Unhandled notification",e)}function GR(t,e){var r,n,i;e===void 0&&(e={});var o=(r=e.onHandlerError)!=null?r:qR,a=(n=e.onInvalidMessage)!=null?n:HR,u=(i=e.onNotification)!=null?i:WR;return function(){var s=tD(Eh.mark(function c(h,v){var y,k,_,S,w,C,L;return Eh.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(y=v.id,!(v.jsonrpc!=="2.0"||v.method==null)){B.next=6;break}if(y!=null){B.next=5;break}return a(h,v),B.abrupt("return",null);case 5:return B.abrupt("return",L1(y,Lr.INVALID_REQUEST));case 6:if(y!=null){B.next=9;break}return u(h,v),B.abrupt("return",null);case 9:if(k=t[v.method],k!=null){B.next=12;break}return B.abrupt("return",L1(y,Lr.METHOD_NOT_FOUND));case 12:if(B.prev=12,_=k(h,v.params),_!=null){B.next=18;break}B.t0=_,B.next=26;break;case 18:if(typeof _.then!="function"){B.next=24;break}return B.next=21,_;case 21:B.t1=B.sent,B.next=25;break;case 24:B.t1=_;case 25:B.t0=B.t1;case 26:return S=B.t0,B.abrupt("return",{jsonrpc:"2.0",id:y,result:S});case 30:return B.prev=30,B.t2=B.catch(12),B.t2 instanceof Ah?w=B.t2.toObject():(o(h,v,B.t2),L=(C=B.t2.code)!=null?C:-32e3,w={code:L,message:B.t2.message||Sh(L)}),B.abrupt("return",{jsonrpc:"2.0",id:y,error:w});case 34:case"end":return B.stop()}},c,null,[[12,30]])}));function l(c,h){return s.apply(this,arguments)}return l}()}var VR=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",get ERROR_CODE(){return Lr},ERROR_MESSAGE:$1,RPCClient:jR,RPCError:Ah,createErrorResponse:L1,createHandler:GR,createInternalError:UR,createInvalidParams:BR,createInvalidRequest:LR,createMethodNotFound:RR,createParseError:nD,getErrorMessage:Sh,isServerError:rD,parseJSON:zR}),KR=Ft(VR),ir={},JR=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YR=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XR=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JR(e,t,r);return YR(e,t),e};Object.defineProperty(ir,"__esModule",{value:!0});ir.extractControllers=ir.didWithTime=ir.fromDagJWS=ir.randomString=ir.base64urlToJSON=ir.decodeBase64=ir.encodeBase64Url=ir.encodeBase64=void 0;const ju=XR(Tr),QR=Do,iD="base64pad",oD="base64url";function ZR(t){return ju.toString(t,iD)}ir.encodeBase64=ZR;function eB(t){return ju.toString(t,oD)}ir.encodeBase64Url=eB;function tB(t){return ju.fromString(t,iD)}ir.decodeBase64=tB;function rB(t){return JSON.parse(ju.toString(ju.fromString(t,oD)))}ir.base64urlToJSON=rB;function nB(){return ju.toString(QR.randomBytes(16),"base64")}ir.randomString=nB;function iB(t){if(t.signatures.length>1)throw new Error("Cant convert to compact jws");return`${t.signatures[0].protected}.${t.payload}.${t.signatures[0].signature}`}ir.fromDagJWS=iB;function oB(t,e){if(e){const r=new Date(e).toISOString().split(".")[0]+"Z";return`${t}?versionTime=${r}`}else return t}ir.didWithTime=oB;function aB(t){return t?Array.isArray(t)?t:[t]:[]}ir.extractControllers=aB;var Bi=re&&re.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(c){try{l(n.next(c))}catch(h){a(h)}}function s(c){try{l(n.throw(c))}catch(h){a(h)}}function l(c){c.done?o(c.value):i(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(wf,"__esModule",{value:!0});wf.DID=void 0;const uB=zM,R1=oO,B1=kn,aD=KR,wi=ir;function sB(t){return"registry"in t&&"cache"in t}class lB{constructor({provider:e,resolver:r={},resolverOptions:n}={}){e!=null&&(this._client=new aD.RPCClient(e)),this.setResolver(r,n)}get authenticated(){return this._id!=null}get id(){if(this._id==null)throw new Error("DID is not authenticated");return this._id}setProvider(e){if(this._client==null)this._client=new aD.RPCClient(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,r){this._resolver=sB(e)?e:new uB.Resolver(e,r)}authenticate({provider:e,paths:r=[],aud:n}={}){return Bi(this,void 0,void 0,function*(){if(e!=null&&this.setProvider(e),this._client==null)throw new Error("No provider available");const i=wi.randomString(),o=yield this._client.request("did_authenticate",{nonce:i,aud:n,paths:r}),{kid:a}=yield this.verifyJWS(o),u=wi.base64urlToJSON(o.payload);if(!a.includes(u.did))throw new Error("Invalid authencation response, kid mismatch");if(u.nonce!==i)throw new Error("Invalid authencation response, wrong nonce");if(u.aud!==n)throw new Error("Invalid authencation response, wrong aud");if(u.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=u.did,this._id})}createJWS(e,r={}){return Bi(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{jws:n}=yield this._client.request("did_createJWS",Object.assign(Object.assign({did:this._id},r),{payload:e}));return n})}createDagJWS(e,r={}){return Bi(this,void 0,void 0,function*(){const{cid:n,linkedBlock:i}=yield B1.encodePayload(e),o=wi.encodeBase64Url(n.bytes);Object.assign(r,{linkedBlock:wi.encodeBase64(i)});const a=yield this.createJWS(o,r);return a.link=n,{jws:a,linkedBlock:i}})}verifyJWS(e,r={}){var n,i,o,a,u;return Bi(this,void 0,void 0,function*(){typeof e!="string"&&(e=wi.fromDagJWS(e));const s=wi.base64urlToJSON(e.split(".")[0]).kid;if(!s)throw new Error('No "kid" found in jws');const l=yield this.resolve(s);if(!r.disableTimecheck){const k=(n=l.didDocumentMetadata)===null||n===void 0?void 0:n.nextUpdate;if(k&&!(r.atTime&&r.atTime<new Date(k).valueOf()))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${s}`);const _=(i=l.didDocumentMetadata)===null||i===void 0?void 0:i.updated;if(_&&r.atTime&&r.atTime<new Date(_).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${s}`)}const h=(o=l.didDocument)===null||o===void 0?void 0:o.id;if(r.issuer&&r.issuer!==h){const k=wi.didWithTime(r.issuer,r.atTime),S=(a=(yield this.resolve(k)).didDocument)===null||a===void 0?void 0:a.controller,w=wi.extractControllers(S);if(!(h?w.includes(h):!1))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${s}`)}const v=((u=l.didDocument)===null||u===void 0?void 0:u.verificationMethod)||[];R1.verifyJWS(e,v);let y;try{y=wi.base64urlToJSON(e.split(".")[1])}catch{}return{kid:s,payload:y,didResolutionResult:l}})}createJWE(e,r,n={}){return Bi(this,void 0,void 0,function*(){const i=yield R1.resolveX25519Encrypters(r,this._resolver);return R1.createJWE(e,i,n.protectedHeader,n.aad)})}createDagJWE(e,r,n={}){return Bi(this,void 0,void 0,function*(){return this.createJWE(B1.prepareCleartext(e),r,n)})}decryptJWE(e,r={}){return Bi(this,void 0,void 0,function*(){if(this._client==null)throw new Error("No provider available");if(this._id==null)throw new Error("DID is not authenticated");const{cleartext:n}=yield this._client.request("did_decryptJWE",Object.assign(Object.assign({did:this._id},r),{jwe:e}));return wi.decodeBase64(n)})}decryptDagJWE(e){return Bi(this,void 0,void 0,function*(){const r=yield this.decryptJWE(e);return B1.decodeCleartext(r)})}resolve(e){return Bi(this,void 0,void 0,function*(){const r=yield this._resolver.resolve(e);if(r.didResolutionMetadata.error){const{error:n,message:i}=r.didResolutionMetadata,o=i?`, ${i}`:"";throw new Error(`Failed to resolve ${e}: ${n}${o}`)}return r})}}wf.DID=lB;(function(t){var e=re&&re.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=re&&re.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(E3,t),r(wf,t)})(IM);var cB={},Io={},xi={},pa={},va={};Object.defineProperty(va,"__esModule",{value:!0});va.DEFAULT_BASE=va.STREAMID_CODEC=void 0;va.STREAMID_CODEC=206;va.DEFAULT_BASE="base36";var ma={},uD=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ma,"__esModule",{value:!0});ma.readCid=ma.readVarint=void 0;const fB=uD(Mo),sD=uD(ca);function Ml(t){const e=sD.default.decode(t),r=sD.default.decode.bytes,n=t.slice(r);return[e,n,r]}ma.readVarint=Ml;function hB(t){return t===0||t===1}function dB(t){const[e,r]=Ml(t);if(!hB(e))throw new Error(`Unknown CID version ${e}`);const[n,i]=Ml(r),[,o,a]=Ml(i),[u,,s]=Ml(o),l=i.slice(0,a+s+u),c=i.slice(a+s+u);return[new fB.default(e,n,l),c]}ma.readCid=dB;function pB(t){return(e,r,n)=>{if(n.value!=null)n.value=kh(n.value,t);else if(n.get!=null)n.get=kh(n.get,t);else throw"Only put a Memoize() decorator on a method or get accessor."}}function vB(t,e){return(r,n,i)=>{if(i.value!=null)i.value=kh(i.value,e,t);else if(i.get!=null)i.get=kh(i.get,e,t);else throw"Only put a Memoize() decorator on a method or get accessor."}}let mB=0;function kh(t,e,r=0){const n=++mB;return function(...i){const o=`__memoized_value_${n}`,a=`__memoized_map_${n}`;let u;if(e||i.length>0||r>0){this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let s=this[a],l;e===!0?l=i.map(v=>v.toString()).join("!"):e?l=e.apply(this,i):l=i[0];const c=`${l}__timestamp`;let h=!1;if(r>0)if(!s.has(c))h=!0;else{let v=s.get(c);h=Date.now()-v>r}s.has(l)&&!h?u=s.get(l):(u=t.apply(this,i),s.set(l,u),r>0&&s.set(c,Date.now()))}else this.hasOwnProperty(o)?u=this[o]:(u=t.apply(this,i),Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:u}));return u}}var gB=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Memoize:pB,MemoizeExpiring:vB}),lD=Ft(gB),zu={},qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.StreamType=void 0;const cD={tile:0,"caip10-link":1};function yB(t){const e=cD[t];if(typeof e!="undefined")return e;throw new Error(`No stream type registered for name ${t}`)}function bB(t){const e=Object.entries(cD).find(([,r])=>r===t);if(e)return e[0];throw new Error(`No stream type registered for index ${t}`)}class U1{}qu.StreamType=U1;U1.nameByCode=bB;U1.codeByName=yB;var Hu=re&&re.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Yr=re&&re.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},j1=re&&re.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Wn=re&&re.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Il=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ga,To,Tl;Object.defineProperty(zu,"__esModule",{value:!0});zu.CommitID=void 0;const z1=Il(Mo),fD=Il(fa.exports),hD=qu,dD=Il(ca),_B=Il(bh),wB=Il(P1),Wu=lD,q1=va,Ch=ma,H1=pa;function pD(t){const[e,r]=Ch.readVarint(t);if(e!==q1.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[n,i]=Ch.readVarint(r),[o,a]=Ch.readCid(i);if(a.length===0)throw new Error("No commit information provided");if(a.length===1)return new un(n,o,a[0]);{const[u]=Ch.readCid(a);return new un(n,o,u)}}function xB(t){try{return new z1.default(t)}catch{return}}function DB(t,e=null){if(!e)return null;const r=xB(e);if(r)return t.equals(r)?null:r;if(String(e)==="0")return null;throw new Error("Cannot specify commit as a number except to request commit 0 (the genesis commit)")}function EB(t){const e=t.replace("ceramic://","").replace("/ceramic/","");if(e.includes("commit")){const r=e.split("?")[1].split("=")[1],n=e.split("?")[0];return H1.StreamID.fromString(n).atCommit(r)}else return pD(fD.default.decode(e))}const vD=Symbol.for("@ceramicnetwork/streamid/CommitID");class un{constructor(e,r,n=null){if(this._tag=vD,ga.set(this,void 0),To.set(this,void 0),Tl.set(this,void 0),!e&&e!==0)throw new Error("constructor: type required");if(!r)throw new Error("constructor: cid required");j1(this,ga,typeof e=="string"?hD.StreamType.codeByName(e):e,"f"),j1(this,To,typeof r=="string"?new z1.default(r):r,"f"),j1(this,Tl,DB(Wn(this,To,"f"),n),"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===vD}get baseID(){return new H1.StreamID(Wn(this,ga,"f"),Wn(this,To,"f"))}get type(){return Wn(this,ga,"f")}get typeName(){return hD.StreamType.nameByCode(Wn(this,ga,"f"))}get cid(){return Wn(this,To,"f")}get commit(){return Wn(this,Tl,"f")||Wn(this,To,"f")}get bytes(){var e;const r=dD.default.encode(q1.STREAMID_CODEC),n=dD.default.encode(this.type),i=((e=Wn(this,Tl,"f"))===null||e===void 0?void 0:e.bytes)||new Uint8Array([0]);return _B.default([r,n,this.cid.bytes,i])}atCommit(e){return new un(Wn(this,ga,"f"),Wn(this,To,"f"),e)}equals(e){return this.type===e.type&&this.cid.equals(e.cid)&&this.commit.equals(e.commit)}toString(){return wB.default(fD.default.encode(q1.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(ga=new WeakMap,To=new WeakMap,Tl=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`CommitID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}un.fromBytes=pD;un.fromString=EB;Hu([Wu.Memoize(),Yr("design:type",H1.StreamID),Yr("design:paramtypes",[])],un.prototype,"baseID",null);Hu([Wu.Memoize(),Yr("design:type",String),Yr("design:paramtypes",[])],un.prototype,"typeName",null);Hu([Wu.Memoize(),Yr("design:type",z1.default),Yr("design:paramtypes",[])],un.prototype,"commit",null);Hu([Wu.Memoize(),Yr("design:type",Uint8Array),Yr("design:paramtypes",[])],un.prototype,"bytes",null);Hu([Wu.Memoize(),Yr("design:type",Function),Yr("design:paramtypes",[]),Yr("design:returntype",String)],un.prototype,"toString",null);Hu([Wu.Memoize(),Yr("design:type",Function),Yr("design:paramtypes",[]),Yr("design:returntype",String)],un.prototype,"toUrl",null);zu.CommitID=un;var Pl=re&&re.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Nn=re&&re.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)},mD=re&&re.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ya=re&&re.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Gu=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ba,Vu;Object.defineProperty(pa,"__esModule",{value:!0});pa.StreamID=void 0;const SB=Gu(Mo),gD=Gu(fa.exports),yD=Gu(ca),bD=Gu(Jv),AB=Gu(bh),kB=Gu(P1),W1=va,G1=ma,Nl=lD,CB=zu,_D=qu;function wD(t){const[e,r]=G1.readVarint(t);if(e!==W1.STREAMID_CODEC)throw new Error("fromBytes: invalid streamid, does not include streamid codec");const[n,i]=G1.readVarint(r),[o,a]=G1.readCid(i);if(a.length>0)throw new Error("Invalid StreamID: contains commit");return new Xr(n,o)}function MB(t){const e=t.replace("ceramic://","").replace("/ceramic/",""),r=e.includes("commit")?e.split("?")[0]:e,n=gD.default.decode(r);return wD(n)}const xD=Symbol.for("@ceramicnetwork/streamid/StreamID");class Xr{constructor(e,r){if(this._tag=xD,ba.set(this,void 0),Vu.set(this,void 0),!(e||e===0))throw new Error("constructor: type required");if(!r)throw new Error("constructor: cid required");mD(this,ba,typeof e=="string"?_D.StreamType.codeByName(e):e,"f"),mD(this,Vu,typeof r=="string"?new SB.default(r):r,"f")}static isInstance(e){return typeof e=="object"&&"_tag"in e&&e._tag===xD}static async fromGenesis(e,r){const n=await bD.default.util.cid(new Uint8Array(bD.default.util.serialize(r)));return new Xr(e,n)}get type(){return ya(this,ba,"f")}get typeName(){return _D.StreamType.nameByCode(ya(this,ba,"f"))}get cid(){return ya(this,Vu,"f")}get bytes(){const e=yD.default.encode(W1.STREAMID_CODEC),r=yD.default.encode(this.type);return AB.default([e,r,this.cid.bytes])}get baseID(){return new Xr(ya(this,ba,"f"),ya(this,Vu,"f"))}atCommit(e){return new CB.CommitID(ya(this,ba,"f"),ya(this,Vu,"f"),e)}equals(e){return Xr.isInstance(e)?this.type===e.type&&this.cid.equals(e.cid):!1}toString(){return kB.default(gD.default.encode(W1.DEFAULT_BASE,this.bytes))}toUrl(){return`ceramic://${this.toString()}`}[(ba=new WeakMap,Vu=new WeakMap,Symbol.for("nodejs.util.inspect.custom"))](){return`StreamID(${this.toString()})`}[Symbol.toPrimitive](){return this.toString()}}Xr.fromBytes=wD;Xr.fromString=MB;Pl([Nl.Memoize(),Nn("design:type",String),Nn("design:paramtypes",[])],Xr.prototype,"typeName",null);Pl([Nl.Memoize(),Nn("design:type",Uint8Array),Nn("design:paramtypes",[])],Xr.prototype,"bytes",null);Pl([Nl.Memoize(),Nn("design:type",Xr),Nn("design:paramtypes",[])],Xr.prototype,"baseID",null);Pl([Nl.Memoize(),Nn("design:type",Function),Nn("design:paramtypes",[]),Nn("design:returntype",String)],Xr.prototype,"toString",null);Pl([Nl.Memoize(),Nn("design:type",Function),Nn("design:paramtypes",[]),Nn("design:returntype",String)],Xr.prototype,"toUrl",null);pa.StreamID=Xr;var DD={};(function(t){var e=re&&re.__createBinding||(Object.create?function(l,c,h,v){v===void 0&&(v=h),Object.defineProperty(l,v,{enumerable:!0,get:function(){return c[h]}})}:function(l,c,h,v){v===void 0&&(v=h),l[v]=c[h]}),r=re&&re.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),n=re&&re.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&e(c,l,h);return r(c,l),c};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=void 0;const i=pa,o=zu,a=n(Tr);function u(l){try{return l()}catch{return null}}function s(l){throw new Error(l)}(function(l){function c(h){if(i.StreamID.isInstance(h))return h;if(o.CommitID.isInstance(h))return h;if(h instanceof Uint8Array)return u(()=>o.CommitID.fromBytes(h))||u(()=>i.StreamID.fromBytes(h))||s(`Can not build CommitID or StreamID from bytes ${a.toString(h,"base36")}`);if(typeof h=="string")return u(()=>o.CommitID.fromString(h))||u(()=>i.StreamID.fromString(h))||s(`Can not build CommitID or StreamID from string ${h}`);throw new Error("Can not build CommitID or StreamID")}l.from=c})(t.StreamRef||(t.StreamRef={}))})(DD);(function(t){var e=re&&re.__createBinding||(Object.create?function(u,s,l,c){c===void 0&&(c=l),Object.defineProperty(u,c,{enumerable:!0,get:function(){return s[l]}})}:function(u,s,l,c){c===void 0&&(c=l),u[c]=s[l]}),r=re&&re.__exportStar||function(u,s){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&e(s,u,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamRef=t.StreamID=t.CommitID=void 0;const n=pa;var i=zu;Object.defineProperty(t,"CommitID",{enumerable:!0,get:function(){return i.CommitID}});var o=pa;Object.defineProperty(t,"StreamID",{enumerable:!0,get:function(){return o.StreamID}});var a=DD;Object.defineProperty(t,"StreamRef",{enumerable:!0,get:function(){return a.StreamRef}}),r(qu,t),t.default=n.StreamID})(xi);var IB=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Io,"__esModule",{value:!0});Io.delay=Io.combineURLs=Io.typeStreamID=void 0;const TB=IB(xi);function PB(t){return typeof t=="string"?TB.default.fromString(t):t}Io.typeStreamID=PB;function NB(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}Io.combineURLs=NB;async function FB(t){await new Promise(e=>setTimeout(()=>e(),t))}Io.delay=FB;var Mh={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V1=function(t,e){return V1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},V1(t,e)};function jt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");V1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function OB(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(c){try{l(n.next(c))}catch(h){a(h)}}function s(c){try{l(n.throw(c))}catch(h){a(h)}}function l(c){c.done?o(c.value):i(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})}function K1(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(l){return function(c){return s([l,c])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Qr(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function wt(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}function Ku(t){return this instanceof Ku?(this.v=t,this):new Ku(t)}function $B(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(v){n[v]&&(i[v]=function(y){return new Promise(function(k,_){o.push([v,y,k,_])>1||u(v,y)})})}function u(v,y){try{s(n[v](y))}catch(k){h(o[0][3],k)}}function s(v){v.value instanceof Ku?Promise.resolve(v.value.v).then(l,c):h(o[0][2],v)}function l(v){u("next",v)}function c(v){u("throw",v)}function h(v,y){v(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function LB(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Qr=="function"?Qr(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(u,s){a=t[o](a),i(u,s,a.done,a.value)})}}function i(o,a,u,s){Promise.resolve(s).then(function(l){o({value:l,done:u})},a)}}function Je(t){return typeof t=="function"}function _a(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Ih=_a(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Ui(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Rr=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=Qr(a),s=u.next();!s.done;s=u.next()){var l=s.value;l.remove(this)}}catch(_){e={error:_}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(Je(c))try{c()}catch(_){o=_ instanceof Ih?_.errors:[_]}var h=this._teardowns;if(h){this._teardowns=null;try{for(var v=Qr(h),y=v.next();!y.done;y=v.next()){var k=y.value;try{AD(k)}catch(_){o=o!=null?o:[],_ instanceof Ih?o=wt(wt([],_t(o)),_t(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new Ih(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)AD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(r=this._teardowns)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Ui(r,e)},t.prototype.remove=function(e){var r=this._teardowns;r&&Ui(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),ED=Rr.EMPTY;function SD(t){return t instanceof Rr||t&&"closed"in t&&Je(t.remove)&&Je(t.add)&&Je(t.unsubscribe)}function AD(t){Je(t)?t():t.unsubscribe()}var Po={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Th={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Th.delegate;return((r==null?void 0:r.setTimeout)||setTimeout).apply(void 0,wt([],_t(t)))},clearTimeout:function(t){var e=Th.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function kD(t){Th.setTimeout(function(){var e=Po.onUnhandledError;if(e)e(t);else throw t})}function Rt(){}var RB=function(){return J1("C",void 0,void 0)}();function BB(t){return J1("E",void 0,t)}function UB(t){return J1("N",t,void 0)}function J1(t,e,r){return{kind:t,value:e,error:r}}var wa=null;function Ph(t){if(Po.useDeprecatedSynchronousErrorHandling){var e=!wa;if(e&&(wa={errorThrown:!1,error:null}),t(),e){var r=wa,n=r.errorThrown,i=r.error;if(wa=null,n)throw i}}else t()}function jB(t){Po.useDeprecatedSynchronousErrorHandling&&wa&&(wa.errorThrown=!0,wa.error=t)}var Nh=function(t){jt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,SD(r)&&r.add(n)):n.destination=zB,n}return e.create=function(r,n,i){return new Fh(r,n,i)},e.prototype.next=function(r){this.isStopped?X1(UB(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?X1(BB(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?X1(RB,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Rr),Fh=function(t){jt(e,t);function e(r,n,i){var o=t.call(this)||this,a;if(Je(r))a=r;else if(r){a=r.next,n=r.error,i=r.complete;var u;o&&Po.useDeprecatedNextContext?(u=Object.create(r),u.unsubscribe=function(){return o.unsubscribe()}):u=r,a=a==null?void 0:a.bind(u),n=n==null?void 0:n.bind(u),i=i==null?void 0:i.bind(u)}return o.destination={next:a?Y1(a):Rt,error:Y1(n!=null?n:CD),complete:i?Y1(i):Rt},o}return e}(Nh);function Y1(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{t.apply(void 0,wt([],_t(r)))}catch(i){Po.useDeprecatedSynchronousErrorHandling?jB(i):kD(i)}}}function CD(t){throw t}function X1(t,e){var r=Po.onStoppedNotification;r&&Th.setTimeout(function(){return r(t,e)})}var zB={closed:!0,next:Rt,error:CD,complete:Rt},Oh=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function vr(t){return t}function Q1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return MD(t)}function MD(t){return t.length===0?vr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var dt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=HB(e)?e:new Fh(e,r,n);return Ph(function(){var a=i,u=a.operator,s=a.source;o.add(u?u.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=ID(r),new r(function(i,o){var a;a=n.subscribe(function(u){try{e(u)}catch(s){o(s),a==null||a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Oh]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return MD(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=ID(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function ID(t){var e;return(e=t!=null?t:Po.Promise)!==null&&e!==void 0?e:Promise}function qB(t){return t&&Je(t.next)&&Je(t.error)&&Je(t.complete)}function HB(t){return t&&t instanceof Nh||qB(t)&&SD(t)}function TD(t){return Je(t==null?void 0:t.lift)}function De(t){return function(e){if(TD(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var _e=function(t){jt(e,t);function e(r,n,i,o,a){var u=t.call(this,r)||this;return u.onFinalize=a,u._next=n?function(s){try{n(s)}catch(l){r.error(l)}}:t.prototype._next,u._error=o?function(s){try{o(s)}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(s){r.error(s)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r,n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))},e}(Nh);function Z1(){return De(function(t,e){var r=null;t._refCount++;var n=new _e(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var $h=function(t){jt(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,TD(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new Rr;var i=this.getSubject();n.add(this.source.subscribe(new _e(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=Rr.EMPTY)}return n},e.prototype.refCount=function(){return Z1()(this)},e}(dt),PD={now:function(){return(PD.delegate||performance).now()},delegate:void 0},Ju={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=Ju.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=e(function(o){r=void 0,t(o)});return new Rr(function(){return r==null?void 0:r(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ju.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,wt([],_t(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ju.delegate;return((r==null?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,wt([],_t(t)))},delegate:void 0};function WB(t){return t?ND(t):GB}function ND(t){var e=Ju.schedule;return new dt(function(r){var n=new Rr,i=t||PD,o=i.now(),a=function(u){var s=i.now();r.next({timestamp:t?s:u,elapsed:s-o}),r.closed||n.add(e(a))};return n.add(e(a)),n})}var GB=ND(),FD=_a(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Kt=function(t){jt(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new OD(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new FD},e.prototype.next=function(r){var n=this;Ph(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){var a=n.observers.slice();try{for(var u=Qr(a),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(r)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Ph(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Ph(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=n.hasError,o=n.isStopped,a=n.observers;return i||o?ED:(a.push(r),new Rr(function(){return Ui(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},e.prototype.asObservable=function(){var r=new dt;return r.source=this,r},e.create=function(r,n){return new OD(r,n)},e}(dt),OD=function(t){jt(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:ED},e}(Kt),$D=function(t){jt(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Kt),Lh={now:function(){return(Lh.delegate||Date).now()},delegate:void 0},em=function(t){jt(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Lh);var o=t.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,u=n._timestampProvider,s=n._windowTime;i||(o.push(r),!a&&o.push(u.now()+s)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,u=a.slice(),s=0;s<u.length&&!r.closed;s+=o?1:2)r.next(u[s]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,u=(a?1:2)*n;if(n<1/0&&u<o.length&&o.splice(0,o.length-u),!a){for(var s=i.now(),l=0,c=1;c<o.length&&o[c]<=s;c+=2)l=c;l&&o.splice(0,l+1)}},e}(Kt),tm=function(t){jt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,u=n.thrownError,s=n.isStopped,l=n._isComplete;i?r.error(u):(s||l)&&(o&&r.next(a),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(Kt),VB=function(t){jt(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Rr),Rh={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Rh.delegate;return((r==null?void 0:r.setInterval)||setInterval).apply(void 0,wt([],_t(t)))},clearInterval:function(t){var e=Rh.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Fl=function(t){jt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Rh.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;Rh.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ui(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(VB),KB=1,rm,nm={};function LD(t){return t in nm?(delete nm[t],!0):!1}var RD={setImmediate:function(t){var e=KB++;return nm[e]=!0,rm||(rm=Promise.resolve()),rm.then(function(){return LD(e)&&t()}),e},clearImmediate:function(t){LD(t)}},JB=RD.setImmediate,YB=RD.clearImmediate,Bh={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Bh.delegate;return((r==null?void 0:r.setImmediate)||JB).apply(void 0,wt([],_t(t)))},clearImmediate:function(t){var e=Bh.delegate;return((e==null?void 0:e.clearImmediate)||YB)(t)},delegate:void 0},XB=function(t){jt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=Bh.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Bh.clearImmediate(n),r._scheduled=void 0)},e}(Fl),im=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Lh.now,t}(),Ol=function(t){jt(e,t);function e(r,n){n===void 0&&(n=im.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(im),QB=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ol),BD=new QB(XB),ZB=BD,Di=new Ol(Fl),$l=Di,eU=function(t){jt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Fl),tU=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ol),UD=new tU(eU),rU=UD,nU=function(t){jt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=Ju.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Ju.cancelAnimationFrame(n),r._scheduled=void 0)},e}(Fl),iU=function(t){jt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Ol),jD=new iU(nU),oU=jD,aU=function(t){jt(e,t);function e(r,n){r===void 0&&(r=zD),n===void 0&&(n=1/0);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},e.frameTimeFactor=10,e}(Ol),zD=function(t){jt(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return Rr.EMPTY},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Fl),Gn=new dt(function(t){return t.complete()});function uU(t){return t?sU(t):Gn}function sU(t){return new dt(function(e){return t.schedule(function(){return e.complete()})})}function Uh(t){return t&&Je(t.schedule)}function om(t){return t[t.length-1]}function Ll(t){return Je(om(t))?t.pop():void 0}function ji(t){return Uh(om(t))?t.pop():void 0}function qD(t,e){return typeof om(t)=="number"?t.pop():e}var am=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function HD(t){return Je(t==null?void 0:t.then)}function WD(t){return Je(t[Oh])}function GD(t){return Symbol.asyncIterator&&Je(t==null?void 0:t[Symbol.asyncIterator])}function VD(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function lU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var KD=lU();function JD(t){return Je(t==null?void 0:t[KD])}function YD(t){return $B(this,arguments,function(){var r,n,i,o;return K1(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Ku(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Ku(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Ku(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function XD(t){return Je(t==null?void 0:t.getReader)}function ct(t){if(t instanceof dt)return t;if(t!=null){if(WD(t))return cU(t);if(am(t))return fU(t);if(HD(t))return hU(t);if(GD(t))return QD(t);if(JD(t))return dU(t);if(XD(t))return pU(t)}throw VD(t)}function cU(t){return new dt(function(e){var r=t[Oh]();if(Je(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fU(t){return new dt(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function hU(t){return new dt(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,kD)})}function dU(t){return new dt(function(e){var r,n;try{for(var i=Qr(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function QD(t){return new dt(function(e){vU(t,e).catch(function(r){return e.error(r)})})}function pU(t){return QD(YD(t))}function vU(t,e){var r,n,i,o;return OB(this,void 0,void 0,function(){var a,u;return K1(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=LB(t),s.label=1;case 1:return[4,r.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Zr(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Rl(t,e){return e===void 0&&(e=0),De(function(r,n){r.subscribe(new _e(n,function(i){return Zr(n,t,function(){return n.next(i)},e)},function(){return Zr(n,t,function(){return n.complete()},e)},function(i){return Zr(n,t,function(){return n.error(i)},e)}))})}function Bl(t,e){return e===void 0&&(e=0),De(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function mU(t,e){return ct(t).pipe(Bl(e),Rl(e))}function gU(t,e){return ct(t).pipe(Bl(e),Rl(e))}function yU(t,e){return new dt(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function ZD(t,e){return new dt(function(r){var n;return Zr(r,e,function(){n=t[KD](),Zr(r,e,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(u){r.error(u);return}a?r.complete():r.next(o)},0,!0)}),function(){return Je(n==null?void 0:n.return)&&n.return()}})}function eE(t,e){if(!t)throw new Error("Iterable cannot be null");return new dt(function(r){Zr(r,e,function(){var n=t[Symbol.asyncIterator]();Zr(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function bU(t,e){return eE(YD(t),e)}function tE(t,e){if(t!=null){if(WD(t))return mU(t,e);if(am(t))return yU(t,e);if(HD(t))return gU(t,e);if(GD(t))return eE(t,e);if(JD(t))return ZD(t,e);if(XD(t))return bU(t,e)}throw VD(t)}function Vn(t,e){return e?tE(t,e):ct(t)}function um(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t);return Vn(t,r)}function rE(t,e){var r=Je(t)?t:function(){return t},n=function(i){return i.error(r())};return new dt(e?function(i){return e.schedule(n,0,i)}:n)}var sm;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(sm||(sm={}));var jh=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){return nE(this,e)},t.prototype.do=function(e,r,n){var i=this,o=i.kind,a=i.value,u=i.error;return o==="N"?e==null?void 0:e(a):o==="E"?r==null?void 0:r(u):n==null?void 0:n()},t.prototype.accept=function(e,r,n){var i;return Je((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,i=e.error,o=r==="N"?um(n):r==="E"?rE(function(){return i}):r==="C"?Gn:0;if(!o)throw new TypeError("Unexpected notification kind "+r);return o},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function nE(t,e){var r,n,i,o=t,a=o.kind,u=o.value,s=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=e.next)===null||r===void 0||r.call(e,u):a==="E"?(n=e.error)===null||n===void 0||n.call(e,s):(i=e.complete)===null||i===void 0||i.call(e)}function _U(t){return!!t&&(t instanceof dt||Je(t.lift)&&Je(t.subscribe))}var xa=_a(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function wU(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,a;t.subscribe({next:function(u){a=u,o=!0},error:i,complete:function(){o?n(a):r?n(e.defaultValue):i(new xa)}})})}function xU(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=new Fh({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new xa)}});t.subscribe(o)})}var lm=_a(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),iE=_a(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}}),oE=_a(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}});function cm(t){return t instanceof Date&&!isNaN(t)}var aE=_a(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function fm(t,e){var r=cm(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,o=r.with,a=o===void 0?DU:o,u=r.scheduler,s=u===void 0?e!=null?e:Di:u,l=r.meta,c=l===void 0?null:l;if(n==null&&i==null)throw new TypeError("No timeout provided.");return De(function(h,v){var y,k,_=null,S=0,w=function(C){k=Zr(v,s,function(){try{y.unsubscribe(),ct(a({meta:c,lastValue:_,seen:S})).subscribe(v)}catch(L){v.error(L)}},C)};y=h.subscribe(new _e(v,function(C){k==null||k.unsubscribe(),S++,v.next(_=C),i>0&&w(i)},void 0,void 0,function(){(k==null?void 0:k.closed)||k==null||k.unsubscribe(),_=null})),w(n!=null?typeof n=="number"?n:+n-s.now():i)})}function DU(t){throw new aE(t)}function zi(t,e){return De(function(r,n){var i=0;r.subscribe(new _e(n,function(o){n.next(t.call(e,o,i++))}))})}var EU=Array.isArray;function SU(t,e){return EU(e)?t.apply(void 0,wt([],_t(e))):t(e)}function Da(t){return zi(function(e){return SU(t,e)})}function zh(t,e,r,n){if(r)if(Uh(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return zh(t,e,n).apply(this,i).pipe(Da(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return zh(t,e).apply(this,i).pipe(Bl(n),Rl(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=new tm,s=!0;return new dt(function(l){var c=u.subscribe(l);if(s){s=!1;var h=!1,v=!1;e.apply(i,wt(wt([],_t(o)),[function(){for(var y=[],k=0;k<arguments.length;k++)y[k]=arguments[k];if(t){var _=y.shift();if(_!=null){u.error(_);return}}u.next(1<y.length?y:y[0]),v=!0,h&&u.complete()}])),v&&u.complete(),h=!0}return c})}}function AU(t,e,r){return zh(!1,t,e,r)}function kU(t,e,r){return zh(!0,t,e,r)}var CU=Array.isArray,MU=Object.getPrototypeOf,IU=Object.prototype,TU=Object.keys;function uE(t){if(t.length===1){var e=t[0];if(CU(e))return{args:e,keys:null};if(PU(e)){var r=TU(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function PU(t){return t&&typeof t=="object"&&MU(t)===IU}function sE(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function lE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t),n=Ll(t),i=uE(t),o=i.args,a=i.keys;if(o.length===0)return Vn([],r);var u=new dt(cE(o,r,a?function(s){return sE(a,s)}:vr));return n?u.pipe(Da(n)):u}function cE(t,e,r){return r===void 0&&(r=vr),function(n){fE(e,function(){for(var i=t.length,o=new Array(i),a=i,u=i,s=function(c){fE(e,function(){var h=Vn(t[c],e),v=!1;h.subscribe(new _e(n,function(y){o[c]=y,v||(v=!0,u--),u||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},l=0;l<i;l++)s(l)},n)}}function fE(t,e,r){t?Zr(r,t,e):e()}function hm(t,e,r,n,i,o,a,u){var s=[],l=0,c=0,h=!1,v=function(){h&&!s.length&&!l&&e.complete()},y=function(_){return l<n?k(_):s.push(_)},k=function(_){o&&e.next(_),l++;var S=!1;ct(r(_,c++)).subscribe(new _e(e,function(w){i==null||i(w),o?y(w):e.next(w)},function(){S=!0},void 0,function(){if(S)try{l--;for(var w=function(){var C=s.shift();a?Zr(e,a,function(){return k(C)}):k(C)};s.length&&l<n;)w();v()}catch(C){e.error(C)}}))};return t.subscribe(new _e(e,y,function(){h=!0,v()})),function(){u==null||u()}}function Fn(t,e,r){return r===void 0&&(r=1/0),Je(e)?Fn(function(n,i){return zi(function(o,a){return e(n,o,i,a)})(ct(t(n,i)))},r):(typeof e=="number"&&(r=e),De(function(n,i){return hm(n,i,t,r)}))}function Ul(t){return t===void 0&&(t=1/0),Fn(vr,t)}function qh(){return Ul(1)}function jl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return qh()(Vn(t,ji(t)))}function zl(t){return new dt(function(e){ct(t()).subscribe(e)})}var NU={connector:function(){return new Kt},resetOnDisconnect:!0};function FU(t,e){e===void 0&&(e=NU);var r=null,n=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,a=n(),u=new dt(function(s){return a.subscribe(s)});return u.connect=function(){return(!r||r.closed)&&(r=zl(function(){return t}).subscribe(a),o&&r.add(function(){return a=n()})),r},u}function OU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ll(t),n=uE(t),i=n.args,o=n.keys,a=new dt(function(u){var s=i.length;if(!s){u.complete();return}for(var l=new Array(s),c=s,h=s,v=function(k){var _=!1;ct(i[k]).subscribe(new _e(u,function(S){_||(_=!0,h--),l[k]=S},function(){return c--},void 0,function(){(!c||!_)&&(h||u.next(o?sE(o,l):l),u.complete())}))},y=0;y<s;y++)v(y)});return r?a.pipe(Da(r)):a}var $U=["addListener","removeListener"],LU=["addEventListener","removeEventListener"],RU=["on","off"];function dm(t,e,r,n){if(Je(r)&&(n=r,r=void 0),n)return dm(t,e,r).pipe(Da(n));var i=_t(jU(t)?LU.map(function(u){return function(s){return t[u](e,s,r)}}):BU(t)?$U.map(hE(t,e)):UU(t)?RU.map(hE(t,e)):[],2),o=i[0],a=i[1];if(!o&&am(t))return Fn(function(u){return dm(u,e,r)})(ct(t));if(!o)throw new TypeError("Invalid event target");return new dt(function(u){var s=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return u.next(1<l.length?l:l[0])};return o(s),function(){return a(s)}})}function hE(t,e){return function(r){return function(n){return t[r](e,n)}}}function BU(t){return Je(t.addListener)&&Je(t.removeListener)}function UU(t){return Je(t.on)&&Je(t.off)}function jU(t){return Je(t.addEventListener)&&Je(t.removeEventListener)}function dE(t,e,r){return r?dE(t,e).pipe(Da(r)):new dt(function(n){var i=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return n.next(a.length===1?a[0]:a)},o=t(i);return Je(e)?function(){return e(i,o)}:void 0})}function zU(t,e,r,n,i){var o,a,u,s;arguments.length===1?(o=t,s=o.initialState,e=o.condition,r=o.iterate,a=o.resultSelector,u=a===void 0?vr:a,i=o.scheduler):(s=t,!n||Uh(n)?(u=vr,i=n):u=n);function l(){var c;return K1(this,function(h){switch(h.label){case 0:c=s,h.label=1;case 1:return!e||e(c)?[4,u(c)]:[3,4];case 2:h.sent(),h.label=3;case 3:return c=r(c),[3,1];case 4:return[2]}})}return zl(i?function(){return ZD(l(),i)}:l)}function qU(t,e,r){return zl(function(){return t()?e:r})}function Yu(t,e,r){t===void 0&&(t=0),r===void 0&&(r=$l);var n=-1;return e!=null&&(Uh(e)?r=e:n=e),new dt(function(i){var o=cm(t)?+t-r.now():t;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function pE(t,e){return t===void 0&&(t=0),e===void 0&&(e=Di),t<0&&(t=0),Yu(t,t,e)}function HU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t),n=qD(t,1/0),i=t;return i.length?i.length===1?ct(i[0]):Ul(n)(Vn(i,r)):Gn}var vE=new dt(Rt);function WU(){return vE}var GU=Array.isArray;function Ea(t){return t.length===1&&GU(t[0])?t[0]:t}function mE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ea(t);return De(function(n,i){var o=wt([n],_t(r)),a=function(){if(!i.closed)if(o.length>0){var u=void 0;try{u=ct(o.shift())}catch{a();return}var s=new _e(i,void 0,Rt,Rt);i.add(u.subscribe(s)),s.add(a)}else i.complete()};a()})}function VU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mE(Ea(t))(Gn)}function KU(t,e){return Vn(Object.entries(t),e)}function gE(t,e){return function(r,n){return!t.call(e,r,n)}}function Ei(t,e){return De(function(r,n){var i=0;r.subscribe(new _e(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function JU(t,e,r){return[Ei(e,r)(ct(t)),Ei(gE(e,r))(ct(t))]}function YU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=Ea(t),t.length===1?ct(t[0]):new dt(yE(t))}function yE(t){return function(e){for(var r=[],n=function(o){r.push(ct(t[o]).subscribe(new _e(e,function(a){if(r){for(var u=0;u<r.length;u++)u!==o&&r[u].unsubscribe();r=null}e.next(a)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}function XU(t,e,r){if(e==null&&(e=t,t=0),e<=0)return Gn;var n=e+t;return new dt(r?function(i){var o=t;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}function QU(t,e){return new dt(function(r){var n=t(),i=e(n),o=i?ct(i):Gn;return o.subscribe(r),function(){n&&n.unsubscribe()}})}function pm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ll(t),n=Ea(t);return n.length?new dt(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(l){ct(n[l]).subscribe(new _e(i,function(c){if(o[l].push(c),o.every(function(v){return v.length})){var h=o.map(function(v){return v.shift()});i.next(r?r.apply(void 0,wt([],_t(h))):h),o.some(function(v,y){return!v.length&&a[y]})&&i.complete()}},function(){a[l]=!0,!o[l].length&&i.complete()}))},s=0;!i.closed&&s<n.length;s++)u(s);return function(){o=a=null}}):Gn}function vm(t){return De(function(e,r){var n=!1,i=null,o=null,a=!1,u=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var l=i;i=null,r.next(l)}a&&r.complete()},s=function(){o=null,a&&r.complete()};e.subscribe(new _e(r,function(l){n=!0,i=l,o||ct(t(l)).subscribe(o=new _e(r,u,s))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}function bE(t,e){return e===void 0&&(e=$l),vm(function(){return Yu(t,e)})}function _E(t){return De(function(e,r){var n=[];return e.subscribe(new _e(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),t.subscribe(new _e(r,function(){var i=n;n=[],r.next(i)},Rt)),function(){n=null}})}function wE(t,e){return e===void 0&&(e=null),e=e!=null?e:t,De(function(r,n){var i=[],o=0;r.subscribe(new _e(n,function(a){var u,s,l,c,h=null;o++%e==0&&i.push([]);try{for(var v=Qr(i),y=v.next();!y.done;y=v.next()){var k=y.value;k.push(a),t<=k.length&&(h=h!=null?h:[],h.push(k))}}catch(w){u={error:w}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(u)throw u.error}}if(h)try{for(var _=Qr(h),S=_.next();!S.done;S=_.next()){var k=S.value;Ui(i,k),n.next(k)}}catch(w){l={error:w}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}},function(){var a,u;try{for(var s=Qr(i),l=s.next();!l.done;l=s.next()){var c=l.value;n.next(c)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}function xE(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=ji(n))!==null&&e!==void 0?e:Di,a=(r=n[0])!==null&&r!==void 0?r:null,u=n[1]||1/0;return De(function(s,l){var c=[],h=!1,v=function(_){var S=_.buffer,w=_.subs;w.unsubscribe(),Ui(c,_),l.next(S),h&&y()},y=function(){if(c){var _=new Rr;l.add(_);var S=[],w={buffer:S,subs:_};c.push(w),Zr(_,o,function(){return v(w)},t)}};a!==null&&a>=0?Zr(l,o,y,a,!0):h=!0,y();var k=new _e(l,function(_){var S,w,C=c.slice();try{for(var L=Qr(C),P=L.next();!P.done;P=L.next()){var B=P.value,U=B.buffer;U.push(_),u<=U.length&&v(B)}}catch(f){S={error:f}}finally{try{P&&!P.done&&(w=L.return)&&w.call(L)}finally{if(S)throw S.error}}},function(){for(;c==null?void 0:c.length;)l.next(c.shift().buffer);k==null||k.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return c=null});s.subscribe(k)})}function DE(t,e){return De(function(r,n){var i=[];ct(t).subscribe(new _e(n,function(o){var a=[];i.push(a);var u=new Rr,s=function(){Ui(i,a),n.next(a),u.unsubscribe()};u.add(ct(e(o)).subscribe(new _e(n,s,Rt)))},Rt)),r.subscribe(new _e(n,function(o){var a,u;try{for(var s=Qr(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.push(o)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}function EE(t){return De(function(e,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),ct(t()).subscribe(i=new _e(r,o,Rt))};o(),e.subscribe(new _e(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}function mm(t){return De(function(e,r){var n=null,i=!1,o;n=e.subscribe(new _e(r,void 0,void 0,function(a){o=ct(t(a,mm(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function SE(t,e,r,n,i){return function(o,a){var u=r,s=e,l=0;o.subscribe(new _e(a,function(c){var h=l++;s=u?t(s,c,h):(u=!0,c),n&&a.next(s)},i&&function(){u&&a.next(s),a.complete()}))}}function Xu(t,e){return De(SE(t,e,arguments.length>=2,!1,!0))}var ZU=function(t,e){return t.push(e),t};function gm(){return De(function(t,e){Xu(ZU,[])(t).subscribe(e)})}function AE(t,e){return Q1(gm(),Fn(function(r){return t(r)}),e?Da(e):vr)}function ym(t){return AE(lE,t)}var kE=ym;function bm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ll(t);return r?Q1(bm.apply(void 0,wt([],_t(t))),Da(r)):De(function(n,i){cE(wt([n],_t(Ea(t))))(i)})}function CE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bm.apply(void 0,wt([],_t(t)))}function Hh(t,e){return Je(e)?Fn(t,e,1):Fn(t,1)}function ME(t,e){return Je(e)?Hh(function(){return t},e):Hh(function(){return t})}function IE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t);return De(function(n,i){qh()(Vn(wt([n],_t(t)),r)).subscribe(i)})}function TE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return IE.apply(void 0,wt([],_t(t)))}function ej(t){return new dt(function(e){return t.subscribe(e)})}var tj={connector:function(){return new Kt}};function Wh(t,e){e===void 0&&(e=tj);var r=e.connector;return De(function(n,i){var o=r();Vn(t(ej(o))).subscribe(i),i.add(n.subscribe(o))})}function PE(t){return Xu(function(e,r,n){return!t||t(r,n)?e+1:e},0)}function NE(t){return De(function(e,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var u=i;i=null,r.next(u)}};e.subscribe(new _e(r,function(u){o==null||o.unsubscribe(),n=!0,i=u,o=new _e(r,a,Rt),ct(t(u)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function FE(t,e){return e===void 0&&(e=Di),De(function(r,n){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var l=o;o=null,n.next(l)}};function s(){var l=a+t,c=e.now();if(c<l){i=this.schedule(void 0,l-c),n.add(i);return}u()}r.subscribe(new _e(n,function(l){o=l,a=e.now(),i||(i=e.schedule(s,t),n.add(i))},function(){u(),n.complete()},void 0,function(){o=i=null}))})}function ql(t){return De(function(e,r){var n=!1;e.subscribe(new _e(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}function Sa(t){return t<=0?function(){return Gn}:De(function(e,r){var n=0;e.subscribe(new _e(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function _m(){return De(function(t,e){t.subscribe(new _e(e,Rt))})}function wm(t){return zi(function(){return t})}function Gh(t,e){return e?function(r){return jl(e.pipe(Sa(1),_m()),r.pipe(Gh(t)))}:Fn(function(r,n){return t(r,n).pipe(Sa(1),wm(r))})}function OE(t,e){e===void 0&&(e=Di);var r=Yu(t,e);return Gh(function(){return r})}function $E(){return De(function(t,e){t.subscribe(new _e(e,function(r){return nE(r,e)}))})}function LE(t,e){return De(function(r,n){var i=new Set;r.subscribe(new _e(n,function(o){var a=t?t(o):o;i.has(a)||(i.add(a),n.next(o))})),e==null||e.subscribe(new _e(n,function(){return i.clear()},Rt))})}function xm(t,e){return e===void 0&&(e=vr),t=t!=null?t:rj,De(function(r,n){var i,o=!0;r.subscribe(new _e(n,function(a){var u=e(a);(o||!t(i,u))&&(o=!1,i=u,n.next(a))}))})}function rj(t,e){return t===e}function RE(t,e){return xm(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Hl(t){return t===void 0&&(t=nj),De(function(e,r){var n=!1;e.subscribe(new _e(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}function nj(){return new xa}function BE(t,e){if(t<0)throw new lm;var r=arguments.length>=2;return function(n){return n.pipe(Ei(function(i,o){return o===t}),Sa(1),r?ql(e):Hl(function(){return new lm}))}}function UE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return jl(r,um.apply(void 0,wt([],_t(t))))}}function jE(t,e){return De(function(r,n){var i=0;r.subscribe(new _e(n,function(o){t.call(e,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function Dm(){return De(function(t,e){var r=!1,n=null;t.subscribe(new _e(e,function(i){n||(n=ct(i).subscribe(new _e(e,void 0,function(){n=null,r&&e.complete()})))},function(){r=!0,!n&&e.complete()}))})}var zE=Dm;function Em(t,e){return e?function(r){return r.pipe(Em(function(n,i){return ct(t(n,i)).pipe(zi(function(o,a){return e(n,o,i,a)}))}))}:De(function(r,n){var i=0,o=null,a=!1;r.subscribe(new _e(n,function(u){o||(o=new _e(n,void 0,function(){o=null,a&&n.complete()}),ct(t(u,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}function qE(t,e,r){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,De(function(n,i){return hm(n,i,t,e,void 0,!0,r)})}function HE(t){return De(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function WE(t,e){return De(GE(t,e,"value"))}function GE(t,e,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(new _e(o,function(u){var s=a++;t.call(e,u,s,i)&&(o.next(n?s:u),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}function VE(t,e){return De(GE(t,e,"index"))}function KE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ei(function(i,o){return t(i,o,n)}):vr,Sa(1),r?ql(e):Hl(function(){return new xa}))}}function JE(t,e,r,n){return De(function(i,o){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,n=e.connector);var u=new Map,s=function(v){u.forEach(v),v(o)},l=function(v){return s(function(y){return y.error(v)})},c=new ij(o,function(v){try{var y=t(v),k=u.get(y);if(!k){u.set(y,k=n?n():new Kt);var _=h(y,k);if(o.next(_),r){var S=new _e(k,function(){k.complete(),S==null||S.unsubscribe()},void 0,void 0,function(){return u.delete(y)});c.add(ct(r(_)).subscribe(S))}}k.next(a?a(v):v)}catch(w){l(w)}},function(){return s(function(v){return v.complete()})},l,function(){return u.clear()});i.subscribe(c);function h(v,y){var k=new dt(function(_){c.activeGroups++;var S=y.subscribe(_);return function(){S.unsubscribe(),--c.activeGroups==0&&c.teardownAttempted&&c.unsubscribe()}});return k.key=v,k}})}var ij=function(t){jt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.activeGroups=0,r.teardownAttempted=!1,r}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&t.prototype.unsubscribe.call(this)},e}(_e);function YE(){return De(function(t,e){t.subscribe(new _e(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function Sm(t){return t<=0?function(){return Gn}:De(function(e,r){var n=[];e.subscribe(new _e(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var a=Qr(n),u=a.next();!u.done;u=a.next()){var s=u.value;r.next(s)}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}function XE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ei(function(i,o){return t(i,o,n)}):vr,Sm(1),r?ql(e):Hl(function(){return new xa}))}}function QE(){return De(function(t,e){t.subscribe(new _e(e,function(r){e.next(jh.createNext(r))},function(){e.next(jh.createComplete()),e.complete()},function(r){e.next(jh.createError(r)),e.complete()}))})}function ZE(t){return Xu(Je(t)?function(e,r){return t(e,r)>0?e:r}:function(e,r){return e>r?e:r})}var e6=Fn;function t6(t,e,r){return r===void 0&&(r=1/0),Je(e)?Fn(function(){return t},e,r):(typeof e=="number"&&(r=e),Fn(function(){return t},r))}function r6(t,e,r){return r===void 0&&(r=1/0),De(function(n,i){var o=e;return hm(n,i,function(a,u){return t(o,a,u)},r,function(a){o=a},!1,void 0,function(){return o=null})})}function n6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t),n=qD(t,1/0);return t=Ea(t),De(function(i,o){Ul(n)(Vn(wt([i],_t(t)),r)).subscribe(o)})}function i6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n6.apply(void 0,wt([],_t(t)))}function o6(t){return Xu(Je(t)?function(e,r){return t(e,r)<0?e:r}:function(e,r){return e<r?e:r})}function Vh(t,e){var r=Je(t)?t:function(){return t};return Je(e)?Wh(e,{connector:r}):function(n){return new $h(n,r)}}function a6(){return De(function(t,e){var r,n=!1;t.subscribe(new _e(e,function(i){var o=r;r=i,n&&e.next([o,i]),n=!0}))})}function u6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return zi(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[t[o]];if(typeof a!="undefined")i=a;else return}return i})}function s6(t){return t?function(e){return Wh(t)(e)}:function(e){return Vh(new Kt)(e)}}function l6(t){return function(e){var r=new $D(t);return new $h(e,function(){return r})}}function c6(){return function(t){var e=new tm;return new $h(t,function(){return e})}}function f6(t,e,r,n){r&&!Je(r)&&(n=r);var i=Je(r)?r:void 0;return function(o){return Vh(new em(t,e,n),i)(o)}}function Am(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?De(function(r,n){yE(wt([r],_t(t)))(n)}):vr}function h6(t){return t===void 0&&(t=1/0),t<=0?function(){return Gn}:De(function(e,r){var n=0,i,o=function(){var a=!1;i=e.subscribe(new _e(r,void 0,function(){++n<t?i?(i.unsubscribe(),i=null,o()):a=!0:r.complete()})),a&&(i.unsubscribe(),i=null,o())};o()})}function d6(t){return De(function(e,r){var n,i=!1,o,a=!1,u=!1,s=function(){return u&&a&&(r.complete(),!0)},l=function(){return o||(o=new Kt,t(o).subscribe(new _e(r,function(){n?c():i=!0},function(){a=!0,s()}))),o},c=function(){u=!1,n=e.subscribe(new _e(r,void 0,function(){u=!0,!s()&&l().next()})),i&&(n.unsubscribe(),n=null,i=!1,c())};c()})}function p6(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var r=e.count,n=r===void 0?1/0:r,i=e.delay,o=e.resetOnSuccess,a=o===void 0?!1:o;return n<=0?vr:De(function(u,s){var l=0,c,h=function(){var v=!1;c=u.subscribe(new _e(s,function(y){a&&(l=0),s.next(y)},void 0,function(y){if(l++<n){var k=function(){c?(c.unsubscribe(),c=null,h()):v=!0};if(i!=null){var _=typeof i=="number"?Yu(i):ct(i(y,l)),S=new _e(s,function(){S.unsubscribe(),k()},function(){s.complete()});_.subscribe(S)}else k()}else s.error(y)})),v&&(c.unsubscribe(),c=null,h())};h()})}function v6(t){return De(function(e,r){var n,i=!1,o,a=function(){n=e.subscribe(new _e(r,void 0,void 0,function(u){o||(o=new Kt,t(o).subscribe(new _e(r,function(){return n?a():i=!0}))),o&&o.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}function km(t){return De(function(e,r){var n=!1,i=null;e.subscribe(new _e(r,function(a){n=!0,i=a}));var o=function(){if(n){n=!1;var a=i;i=null,r.next(a)}};t.subscribe(new _e(r,o,Rt))})}function m6(t,e){return e===void 0&&(e=Di),km(pE(t,e))}function Cm(t,e){return De(SE(t,e,arguments.length>=2,!0))}function g6(t,e){return e===void 0&&(e=function(r,n){return r===n}),De(function(r,n){var i=y6(),o=y6(),a=function(s){n.next(s),n.complete()},u=function(s,l){var c=new _e(n,function(h){var v=l.buffer,y=l.complete;v.length===0?y?a(!1):s.buffer.push(h):!e(h,v.shift())&&a(!1)},function(){s.complete=!0;var h=l.complete,v=l.buffer;h&&a(v.length===0),c==null||c.unsubscribe()});return c};r.subscribe(u(i,o)),t.subscribe(u(o,i))})}function y6(){return{buffer:[],complete:!1}}function Mm(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Kt}:e,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,a=o===void 0?!0:o,u=t.resetOnRefCountZero,s=u===void 0?!0:u;return function(l){var c=null,h=null,v=null,y=0,k=!1,_=!1,S=function(){h==null||h.unsubscribe(),h=null},w=function(){S(),c=v=null,k=_=!1},C=function(){var L=c;w(),L==null||L.unsubscribe()};return De(function(L,P){y++,!_&&!k&&S();var B=v=v!=null?v:r();P.add(function(){y--,y===0&&!_&&!k&&(h=Im(C,s))}),B.subscribe(P),c||(c=new Fh({next:function(U){return B.next(U)},error:function(U){_=!0,S(),h=Im(w,i,U),B.error(U)},complete:function(){k=!0,S(),h=Im(w,a),B.complete()}}),Vn(L).subscribe(c))})(l)}}function Im(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,wt([],_t(r))).pipe(Sa(1)).subscribe(function(){return t()})}function b6(t,e,r){var n,i,o,a=!1;return t&&typeof t=="object"?(o=(n=t.bufferSize)!==null&&n!==void 0?n:1/0,e=(i=t.windowTime)!==null&&i!==void 0?i:1/0,a=!!t.refCount,r=t.scheduler):o=t!=null?t:1/0,Mm({connector:function(){return new em(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function _6(t){return De(function(e,r){var n=!1,i,o=!1,a=0;e.subscribe(new _e(r,function(u){o=!0,(!t||t(u,a++,e))&&(n&&r.error(new oE("Too many matching values")),n=!0,i=u)},function(){n?(r.next(i),r.complete()):r.error(o?new iE("No matching values"):new xa)}))})}function w6(t){return Ei(function(e,r){return t<=r})}function x6(t){return t<=0?vr:De(function(e,r){var n=new Array(t),i=0;return e.subscribe(new _e(r,function(o){var a=i++;if(a<t)n[a]=o;else{var u=a%t,s=n[u];n[u]=o,r.next(s)}})),function(){n=null}})}function D6(t){return De(function(e,r){var n=!1,i=new _e(r,function(){i==null||i.unsubscribe(),n=!0},Rt);ct(t).subscribe(i),e.subscribe(new _e(r,function(o){return n&&r.next(o)}))})}function E6(t){return De(function(e,r){var n=!1,i=0;e.subscribe(new _e(r,function(o){return(n||(n=!t(o,i++)))&&r.next(o)}))})}function S6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=ji(t);return De(function(n,i){(r?jl(t,n,r):jl(t,n)).subscribe(i)})}function Qu(t,e){return De(function(r,n){var i=null,o=0,a=!1,u=function(){return a&&!i&&n.complete()};r.subscribe(new _e(n,function(s){i==null||i.unsubscribe();var l=0,c=o++;ct(t(s,c)).subscribe(i=new _e(n,function(h){return n.next(e?e(s,h,c,l++):h)},function(){i=null,u()}))},function(){a=!0,u()}))})}function A6(){return Qu(vr)}function k6(t,e){return Je(e)?Qu(function(){return t},e):Qu(function(){return t})}function C6(t,e){return De(function(r,n){var i=e;return Qu(function(o,a){return t(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}function M6(t){return De(function(e,r){ct(t).subscribe(new _e(r,function(){return r.complete()},Rt)),!r.closed&&e.subscribe(r)})}function I6(t,e){return e===void 0&&(e=!1),De(function(r,n){var i=0;r.subscribe(new _e(n,function(o){var a=t(o,i++);(a||e)&&n.next(o),!a&&n.complete()}))})}function T6(t,e,r){var n=Je(t)||e||r?{next:t,error:e,complete:r}:t;return n?De(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var u=!0;i.subscribe(new _e(o,function(s){var l;(l=n.next)===null||l===void 0||l.call(n,s),o.next(s)},function(){var s;u=!1,(s=n.complete)===null||s===void 0||s.call(n),o.complete()},function(s){var l;u=!1,(l=n.error)===null||l===void 0||l.call(n,s),o.error(s)},function(){var s,l;u&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):vr}var P6={leading:!0,trailing:!1};function Tm(t,e){var r=e===void 0?P6:e,n=r.leading,i=r.trailing;return De(function(o,a){var u=!1,s=null,l=null,c=!1,h=function(){l==null||l.unsubscribe(),l=null,i&&(k(),c&&a.complete())},v=function(){l=null,c&&a.complete()},y=function(_){return l=ct(t(_)).subscribe(new _e(a,h,v))},k=function(){if(u){u=!1;var _=s;s=null,a.next(_),!c&&y(_)}};o.subscribe(new _e(a,function(_){u=!0,s=_,!(l&&!l.closed)&&(n?k():y(_))},function(){c=!0,!(i&&u&&l&&!l.closed)&&a.complete()}))})}function N6(t,e,r){e===void 0&&(e=Di),r===void 0&&(r=P6);var n=Yu(t,e);return Tm(function(){return n},r)}function F6(t){return t===void 0&&(t=$l),function(e){return zl(function(){return e.pipe(Cm(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),zi(function(r){var n=r.current,i=r.last,o=r.value;return new oj(o,n-i)}))})}}var oj=function(){function t(e,r){this.value=e,this.interval=r}return t}();function O6(t,e,r){var n,i,o;if(r=r!=null?r:$l,cm(t)?n=t:typeof t=="number"&&(i=t),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return fm({first:n,each:i,scheduler:r,with:o})}function $6(t){return t===void 0&&(t=Lh),zi(function(e){return{value:e,timestamp:t.now()}})}function L6(t){return De(function(e,r){var n=new Kt;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return e.subscribe(new _e(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),t.subscribe(new _e(r,function(){n.complete(),r.next(n=new Kt)},Rt,i)),function(){n==null||n.unsubscribe(),n=null}})}function R6(t,e){e===void 0&&(e=0);var r=e>0?e:t;return De(function(n,i){var o=[new Kt],a=[],u=0;i.next(o[0].asObservable()),n.subscribe(new _e(i,function(s){var l,c;try{for(var h=Qr(o),v=h.next();!v.done;v=h.next()){var y=v.value;y.next(s)}}catch(S){l={error:S}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}var k=u-t+1;if(k>=0&&k%r==0&&o.shift().complete(),++u%r==0){var _=new Kt;o.push(_),i.next(_.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(s){for(;o.length>0;)o.shift().error(s);i.error(s)},function(){a=null,o=null}))})}function B6(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=ji(n))!==null&&e!==void 0?e:Di,a=(r=n[0])!==null&&r!==void 0?r:null,u=n[1]||1/0;return De(function(s,l){var c=[],h=!1,v=function(S){var w=S.window,C=S.subs;w.complete(),C.unsubscribe(),Ui(c,S),h&&y()},y=function(){if(c){var S=new Rr;l.add(S);var w=new Kt,C={window:w,subs:S,seen:0};c.push(C),l.next(w.asObservable()),Zr(S,o,function(){return v(C)},t)}};a!==null&&a>=0?Zr(l,o,y,a,!0):h=!0,y();var k=function(S){return c.slice().forEach(S)},_=function(S){k(function(w){var C=w.window;return S(C)}),S(l),l.unsubscribe()};return s.subscribe(new _e(l,function(S){k(function(w){w.window.next(S),u<=++w.seen&&v(w)})},function(){return _(function(S){return S.complete()})},function(S){return _(function(w){return w.error(S)})})),function(){c=null}})}function U6(t,e){return De(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};ct(t).subscribe(new _e(n,function(a){var u=new Kt;i.push(u);var s=new Rr,l=function(){Ui(i,u),u.complete(),s.unsubscribe()},c;try{c=ct(e(a))}catch(h){o(h);return}n.next(u.asObservable()),s.add(c.subscribe(new _e(n,l,Rt,o)))},Rt)),r.subscribe(new _e(n,function(a){var u,s,l=i.slice();try{for(var c=Qr(l),h=c.next();!h.done;h=c.next()){var v=h.value;v.next(a)}}catch(y){u={error:y}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(u)throw u.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function j6(t){return De(function(e,r){var n,i,o=function(u){n.error(u),r.error(u)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new Kt,r.next(n.asObservable());var u;try{u=ct(t())}catch(s){o(s);return}u.subscribe(i=new _e(r,a,a,o))};a(),e.subscribe(new _e(r,function(u){return n.next(u)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}function z6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ll(t);return De(function(n,i){for(var o=t.length,a=new Array(o),u=t.map(function(){return!1}),s=!1,l=function(h){ct(t[h]).subscribe(new _e(i,function(v){a[h]=v,!s&&!u[h]&&(u[h]=!0,(s=u.every(vr))&&(u=null))},Rt))},c=0;c<o;c++)l(c);n.subscribe(new _e(i,function(h){if(s){var v=wt([h],_t(a));i.next(r?r.apply(void 0,wt([],_t(v))):v)}}))})}function q6(t){return AE(pm,t)}function H6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return De(function(r,n){pm.apply(void 0,wt([r],_t(t))).subscribe(n)})}function W6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return H6.apply(void 0,wt([],_t(t)))}var aj=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:dt,ConnectableObservable:$h,observable:Oh,animationFrames:WB,Subject:Kt,BehaviorSubject:$D,ReplaySubject:em,AsyncSubject:tm,asap:ZB,asapScheduler:BD,async:$l,asyncScheduler:Di,queue:rU,queueScheduler:UD,animationFrame:oU,animationFrameScheduler:jD,VirtualTimeScheduler:aU,VirtualAction:zD,Scheduler:im,Subscription:Rr,Subscriber:Nh,Notification:jh,get NotificationKind(){return sm},pipe:Q1,noop:Rt,identity:vr,isObservable:_U,lastValueFrom:wU,firstValueFrom:xU,ArgumentOutOfRangeError:lm,EmptyError:xa,NotFoundError:iE,ObjectUnsubscribedError:FD,SequenceError:oE,TimeoutError:aE,UnsubscriptionError:Ih,bindCallback:AU,bindNodeCallback:kU,combineLatest:lE,concat:jl,connectable:FU,defer:zl,empty:uU,forkJoin:OU,from:Vn,fromEvent:dm,fromEventPattern:dE,generate:zU,iif:qU,interval:pE,merge:HU,never:WU,of:um,onErrorResumeNext:VU,pairs:KU,partition:JU,race:YU,range:XU,throwError:rE,timer:Yu,using:QU,zip:pm,scheduled:tE,EMPTY:Gn,NEVER:vE,config:Po,audit:vm,auditTime:bE,buffer:_E,bufferCount:wE,bufferTime:xE,bufferToggle:DE,bufferWhen:EE,catchError:mm,combineAll:kE,combineLatestAll:ym,combineLatestWith:CE,concatAll:qh,concatMap:Hh,concatMapTo:ME,concatWith:TE,connect:Wh,count:PE,debounce:NE,debounceTime:FE,defaultIfEmpty:ql,delay:OE,delayWhen:Gh,dematerialize:$E,distinct:LE,distinctUntilChanged:xm,distinctUntilKeyChanged:RE,elementAt:BE,endWith:UE,every:jE,exhaust:zE,exhaustAll:Dm,exhaustMap:Em,expand:qE,filter:Ei,finalize:HE,find:WE,findIndex:VE,first:KE,groupBy:JE,ignoreElements:_m,isEmpty:YE,last:XE,map:zi,mapTo:wm,materialize:QE,max:ZE,mergeAll:Ul,flatMap:e6,mergeMap:Fn,mergeMapTo:t6,mergeScan:r6,mergeWith:i6,min:o6,multicast:Vh,observeOn:Rl,pairwise:a6,pluck:u6,publish:s6,publishBehavior:l6,publishLast:c6,publishReplay:f6,raceWith:Am,reduce:Xu,repeat:h6,repeatWhen:d6,retry:p6,retryWhen:v6,refCount:Z1,sample:km,sampleTime:m6,scan:Cm,sequenceEqual:g6,share:Mm,shareReplay:b6,single:_6,skip:w6,skipLast:x6,skipUntil:D6,skipWhile:E6,startWith:S6,subscribeOn:Bl,switchAll:A6,switchMap:Qu,switchMapTo:k6,switchScan:C6,take:Sa,takeLast:Sm,takeUntil:M6,takeWhile:I6,tap:T6,throttle:Tm,throttleTime:N6,throwIfEmpty:Hl,timeInterval:F6,timeout:fm,timeoutWith:O6,timestamp:$6,toArray:gm,window:L6,windowCount:R6,windowTime:B6,windowToggle:U6,windowWhen:j6,withLatestFrom:z6,zipAll:q6,zipWith:W6}),uj=Ft(aj);function sj(t,e){return function(r){return[Ei(t,e)(r),Ei(gE(t,e))(r)]}}function lj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Am.apply(void 0,wt([],_t(Ea(t))))}var cj=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:vm,auditTime:bE,buffer:_E,bufferCount:wE,bufferTime:xE,bufferToggle:DE,bufferWhen:EE,catchError:mm,combineAll:kE,combineLatestAll:ym,combineLatest:bm,combineLatestWith:CE,concat:IE,concatAll:qh,concatMap:Hh,concatMapTo:ME,concatWith:TE,connect:Wh,count:PE,debounce:NE,debounceTime:FE,defaultIfEmpty:ql,delay:OE,delayWhen:Gh,dematerialize:$E,distinct:LE,distinctUntilChanged:xm,distinctUntilKeyChanged:RE,elementAt:BE,endWith:UE,every:jE,exhaust:zE,exhaustAll:Dm,exhaustMap:Em,expand:qE,filter:Ei,finalize:HE,find:WE,findIndex:VE,first:KE,groupBy:JE,ignoreElements:_m,isEmpty:YE,last:XE,map:zi,mapTo:wm,materialize:QE,max:ZE,merge:n6,mergeAll:Ul,flatMap:e6,mergeMap:Fn,mergeMapTo:t6,mergeScan:r6,mergeWith:i6,min:o6,multicast:Vh,observeOn:Rl,onErrorResumeNext:mE,pairwise:a6,partition:sj,pluck:u6,publish:s6,publishBehavior:l6,publishLast:c6,publishReplay:f6,race:lj,raceWith:Am,reduce:Xu,repeat:h6,repeatWhen:d6,retry:p6,retryWhen:v6,refCount:Z1,sample:km,sampleTime:m6,scan:Cm,sequenceEqual:g6,share:Mm,shareReplay:b6,single:_6,skip:w6,skipLast:x6,skipUntil:D6,skipWhile:E6,startWith:S6,subscribeOn:Bl,switchAll:A6,switchMap:Qu,switchMapTo:k6,switchScan:C6,take:Sa,takeLast:Sm,takeUntil:M6,takeWhile:I6,tap:T6,throttle:Tm,throttleTime:N6,throwIfEmpty:Hl,timeInterval:F6,timeout:fm,timeoutWith:O6,timestamp:$6,toArray:gm,window:L6,windowCount:R6,windowTime:B6,windowToggle:U6,windowWhen:j6,withLatestFrom:z6,zip:H6,zipAll:q6,zipWith:W6}),fj=Ft(cj),Aa={},G6={};Object.defineProperty(G6,"__esModule",{value:!0});var V6={};Object.defineProperty(V6,"__esModule",{value:!0});var K6={};Object.defineProperty(K6,"__esModule",{value:!0});var Pm={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SyncOptions=void 0,function(e){e[e.PREFER_CACHE=0]="PREFER_CACHE",e[e.SYNC_ALWAYS=1]="SYNC_ALWAYS",e[e.NEVER_SYNC=2]="NEVER_SYNC"}(t.SyncOptions||(t.SyncOptions={}))})(Pm);var Nm={},Kh={exports:{}};(function(t,e){var r=200,n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",h="[object GeneratorFunction]",v="[object Map]",y="[object Number]",k="[object Object]",_="[object Promise]",S="[object RegExp]",w="[object Set]",C="[object String]",L="[object Symbol]",P="[object WeakMap]",B="[object ArrayBuffer]",U="[object DataView]",f="[object Float32Array]",D="[object Float64Array]",$="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",p="[object Uint8Array]",E="[object Uint8ClampedArray]",m="[object Uint16Array]",g="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,R=/\w*$/,x=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,d={};d[o]=d[a]=d[B]=d[U]=d[u]=d[s]=d[f]=d[D]=d[$]=d[G]=d[O]=d[v]=d[y]=d[k]=d[S]=d[w]=d[C]=d[L]=d[p]=d[E]=d[m]=d[g]=!0,d[l]=d[c]=d[P]=!1;var I=typeof re=="object"&&re&&re.Object===Object&&re,W=typeof self=="object"&&self&&self.Object===Object&&self,Q=I||W||Function("return this")(),j=e&&!e.nodeType&&e,N=j&&!0&&t&&!t.nodeType&&t,Z=N&&N.exports===j;function q(Y,se){return Y.set(se[0],se[1]),Y}function K(Y,se){return Y.add(se),Y}function H(Y,se){for(var de=-1,Me=Y?Y.length:0;++de<Me&&se(Y[de],de,Y)!==!1;);return Y}function A(Y,se){for(var de=-1,Me=se.length,Yt=Y.length;++de<Me;)Y[Yt+de]=se[de];return Y}function V(Y,se,de,Me){var Yt=-1,Pr=Y?Y.length:0;for(Me&&Pr&&(de=Y[++Yt]);++Yt<Pr;)de=se(de,Y[Yt],Yt,Y);return de}function ie(Y,se){for(var de=-1,Me=Array(Y);++de<Y;)Me[de]=se(de);return Me}function ce(Y,se){return Y==null?void 0:Y[se]}function he(Y){var se=!1;if(Y!=null&&typeof Y.toString!="function")try{se=!!(Y+"")}catch{}return se}function ge(Y){var se=-1,de=Array(Y.size);return Y.forEach(function(Me,Yt){de[++se]=[Yt,Me]}),de}function z(Y,se){return function(de){return Y(se(de))}}function T(Y){var se=-1,de=Array(Y.size);return Y.forEach(function(Me){de[++se]=Me}),de}var F=Array.prototype,J=Function.prototype,te=Object.prototype,ne=Q["__core-js_shared__"],ae=function(){var Y=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return Y?"Symbol(src)_1."+Y:""}(),ye=J.toString,pe=te.hasOwnProperty,oe=te.toString,fe=RegExp("^"+ye.call(pe).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),le=Z?Q.Buffer:void 0,me=Q.Symbol,Ne=Q.Uint8Array,Ce=z(Object.getPrototypeOf,Object),Ie=Object.create,Ze=te.propertyIsEnumerable,xe=F.splice,Pe=Object.getOwnPropertySymbols,nt=le?le.isBuffer:void 0,it=z(Object.keys,Object),rt=ja(Q,"DataView"),Nt=ja(Q,"Map"),Te=ja(Q,"Promise"),at=ja(Q,"Set"),or=ja(Q,"WeakMap"),ut=ja(Object,"create"),Le=Ro(rt),yt=Ro(Nt),Fe=Ro(Te),He=Ro(at),Et=Ro(or),Re=me?me.prototype:void 0,Be=Re?Re.valueOf:void 0;function Oe(Y){var se=-1,de=Y?Y.length:0;for(this.clear();++se<de;){var Me=Y[se];this.set(Me[0],Me[1])}}function We(){this.__data__=ut?ut(null):{}}function Ge(Y){return this.has(Y)&&delete this.__data__[Y]}function St(Y){var se=this.__data__;if(ut){var de=se[Y];return de===n?void 0:de}return pe.call(se,Y)?se[Y]:void 0}function Ue(Y){var se=this.__data__;return ut?se[Y]!==void 0:pe.call(se,Y)}function je(Y,se){var de=this.__data__;return de[Y]=ut&&se===void 0?n:se,this}Oe.prototype.clear=We,Oe.prototype.delete=Ge,Oe.prototype.get=St,Oe.prototype.has=Ue,Oe.prototype.set=je;function st(Y){var se=-1,de=Y?Y.length:0;for(this.clear();++se<de;){var Me=Y[se];this.set(Me[0],Me[1])}}function ze(){this.__data__=[]}function Ae(Y){var se=this.__data__,de=ki(se,Y);if(de<0)return!1;var Me=se.length-1;return de==Me?se.pop():xe.call(se,de,1),!0}function Ln(Y){var se=this.__data__,de=ki(se,Y);return de<0?void 0:se[de][1]}function mt(Y){return ki(this.__data__,Y)>-1}function gt(Y,se){var de=this.__data__,Me=ki(de,Y);return Me<0?de.push([Y,se]):de[Me][1]=se,this}st.prototype.clear=ze,st.prototype.delete=Ae,st.prototype.get=Ln,st.prototype.has=mt,st.prototype.set=gt;function ar(Y){var se=-1,de=Y?Y.length:0;for(this.clear();++se<de;){var Me=Y[se];this.set(Me[0],Me[1])}}function cn(){this.__data__={hash:new Oe,map:new(Nt||st),string:new Oe}}function fn(Y){return hc(this,Y).delete(Y)}function hn(Y){return hc(this,Y).get(Y)}function dn(Y){return hc(this,Y).has(Y)}function ot(Y,se){return hc(this,Y).set(Y,se),this}ar.prototype.clear=cn,ar.prototype.delete=fn,ar.prototype.get=hn,ar.prototype.has=dn,ar.prototype.set=ot;function ur(Y){this.__data__=new st(Y)}function Oo(){this.__data__=new st}function ee(Y){return this.__data__.delete(Y)}function et(Y){return this.__data__.get(Y)}function tt(Y){return this.__data__.has(Y)}function Xe(Y,se){var de=this.__data__;if(de instanceof st){var Me=de.__data__;if(!Nt||Me.length<r-1)return Me.push([Y,se]),this;de=this.__data__=new ar(Me)}return de.set(Y,se),this}ur.prototype.clear=Oo,ur.prototype.delete=ee,ur.prototype.get=et,ur.prototype.has=tt,ur.prototype.set=Xe;function Xn(Y,se){var de=Vd(Y)||nA(Y)?ie(Y.length,String):[],Me=de.length,Yt=!!Me;for(var Pr in Y)(se||pe.call(Y,Pr))&&!(Yt&&(Pr=="length"||ZS(Pr,Me)))&&de.push(Pr);return de}function pn(Y,se,de){var Me=Y[se];(!(pe.call(Y,se)&&yy(Me,de))||de===void 0&&!(se in Y))&&(Y[se]=de)}function ki(Y,se){for(var de=Y.length;de--;)if(yy(Y[de][0],se))return de;return-1}function fs(Y,se){return Y&&vy(se,Kd(se),Y)}function $o(Y,se,de,Me,Yt,Pr,vn){var jr;if(Me&&(jr=Pr?Me(Y,Yt,Pr,vn):Me(Y)),jr!==void 0)return jr;if(!dc(Y))return Y;var wy=Vd(Y);if(wy){if(jr=YS(Y),!se)return VS(Y,jr)}else{var za=Lo(Y),xy=za==c||za==h;if(oA(Y))return US(Y,se);if(za==k||za==o||xy&&!Pr){if(he(Y))return Pr?Y:{};if(jr=XS(xy?{}:Y),!se)return KS(Y,fs(jr,Y))}else{if(!d[za])return Pr?Y:{};jr=QS(Y,za,$o,se)}}vn||(vn=new ur);var Dy=vn.get(Y);if(Dy)return Dy;if(vn.set(Y,jr),!wy)var Ey=de?JS(Y):Kd(Y);return H(Ey||Y,function(Jd,pc){Ey&&(pc=Jd,Jd=Y[pc]),pn(jr,pc,$o(Jd,se,de,Me,pc,Y,vn))}),jr}function hs(Y){return dc(Y)?Ie(Y):{}}function ds(Y,se,de){var Me=se(Y);return Vd(Y)?Me:A(Me,de(Y))}function LS(Y){return oe.call(Y)}function RS(Y){if(!dc(Y)||tA(Y))return!1;var se=_y(Y)||he(Y)?fe:x;return se.test(Ro(Y))}function BS(Y){if(!gy(Y))return it(Y);var se=[];for(var de in Object(Y))pe.call(Y,de)&&de!="constructor"&&se.push(de);return se}function US(Y,se){if(se)return Y.slice();var de=new Y.constructor(Y.length);return Y.copy(de),de}function Gd(Y){var se=new Y.constructor(Y.byteLength);return new Ne(se).set(new Ne(Y)),se}function jS(Y,se){var de=se?Gd(Y.buffer):Y.buffer;return new Y.constructor(de,Y.byteOffset,Y.byteLength)}function zS(Y,se,de){var Me=se?de(ge(Y),!0):ge(Y);return V(Me,q,new Y.constructor)}function qS(Y){var se=new Y.constructor(Y.source,R.exec(Y));return se.lastIndex=Y.lastIndex,se}function HS(Y,se,de){var Me=se?de(T(Y),!0):T(Y);return V(Me,K,new Y.constructor)}function WS(Y){return Be?Object(Be.call(Y)):{}}function GS(Y,se){var de=se?Gd(Y.buffer):Y.buffer;return new Y.constructor(de,Y.byteOffset,Y.length)}function VS(Y,se){var de=-1,Me=Y.length;for(se||(se=Array(Me));++de<Me;)se[de]=Y[de];return se}function vy(Y,se,de,Me){de||(de={});for(var Yt=-1,Pr=se.length;++Yt<Pr;){var vn=se[Yt],jr=Me?Me(de[vn],Y[vn],vn,de,Y):void 0;pn(de,vn,jr===void 0?Y[vn]:jr)}return de}function KS(Y,se){return vy(Y,my(Y),se)}function JS(Y){return ds(Y,Kd,my)}function hc(Y,se){var de=Y.__data__;return eA(se)?de[typeof se=="string"?"string":"hash"]:de.map}function ja(Y,se){var de=ce(Y,se);return RS(de)?de:void 0}var my=Pe?z(Pe,Object):sA,Lo=LS;(rt&&Lo(new rt(new ArrayBuffer(1)))!=U||Nt&&Lo(new Nt)!=v||Te&&Lo(Te.resolve())!=_||at&&Lo(new at)!=w||or&&Lo(new or)!=P)&&(Lo=function(Y){var se=oe.call(Y),de=se==k?Y.constructor:void 0,Me=de?Ro(de):void 0;if(Me)switch(Me){case Le:return U;case yt:return v;case Fe:return _;case He:return w;case Et:return P}return se});function YS(Y){var se=Y.length,de=Y.constructor(se);return se&&typeof Y[0]=="string"&&pe.call(Y,"index")&&(de.index=Y.index,de.input=Y.input),de}function XS(Y){return typeof Y.constructor=="function"&&!gy(Y)?hs(Ce(Y)):{}}function QS(Y,se,de,Me){var Yt=Y.constructor;switch(se){case B:return Gd(Y);case u:case s:return new Yt(+Y);case U:return jS(Y,Me);case f:case D:case $:case G:case O:case p:case E:case m:case g:return GS(Y,Me);case v:return zS(Y,Me,de);case y:case C:return new Yt(Y);case S:return qS(Y);case w:return HS(Y,Me,de);case L:return WS(Y)}}function ZS(Y,se){return se=se==null?i:se,!!se&&(typeof Y=="number"||b.test(Y))&&Y>-1&&Y%1==0&&Y<se}function eA(Y){var se=typeof Y;return se=="string"||se=="number"||se=="symbol"||se=="boolean"?Y!=="__proto__":Y===null}function tA(Y){return!!ae&&ae in Y}function gy(Y){var se=Y&&Y.constructor,de=typeof se=="function"&&se.prototype||te;return Y===de}function Ro(Y){if(Y!=null){try{return ye.call(Y)}catch{}try{return Y+""}catch{}}return""}function rA(Y){return $o(Y,!0,!0)}function yy(Y,se){return Y===se||Y!==Y&&se!==se}function nA(Y){return iA(Y)&&pe.call(Y,"callee")&&(!Ze.call(Y,"callee")||oe.call(Y)==o)}var Vd=Array.isArray;function by(Y){return Y!=null&&aA(Y.length)&&!_y(Y)}function iA(Y){return uA(Y)&&by(Y)}var oA=nt||lA;function _y(Y){var se=dc(Y)?oe.call(Y):"";return se==c||se==h}function aA(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=i}function dc(Y){var se=typeof Y;return!!Y&&(se=="object"||se=="function")}function uA(Y){return!!Y&&typeof Y=="object"}function Kd(Y){return by(Y)?Xn(Y):BS(Y)}function sA(){return[]}function lA(){return!1}t.exports=rA})(Kh,Kh.exports);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fm=function(t,e){return Fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Fm(t,e)};function zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function hj(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(c){try{l(n.next(c))}catch(h){a(h)}}function s(c){try{l(n.throw(c))}catch(h){a(h)}}function l(c){c.done?o(c.value):i(c.value).then(u,s)}l((n=n.apply(t,e||[])).next())})}function Om(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(l){return function(c){return s([l,c])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function en(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o}function Dt(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}function Zu(t){return this instanceof Zu?(this.v=t,this):new Zu(t)}function dj(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(v){n[v]&&(i[v]=function(y){return new Promise(function(k,_){o.push([v,y,k,_])>1||u(v,y)})})}function u(v,y){try{s(n[v](y))}catch(k){h(o[0][3],k)}}function s(v){v.value instanceof Zu?Promise.resolve(v.value.v).then(l,c):h(o[0][2],v)}function l(v){u("next",v)}function c(v){u("throw",v)}function h(v,y){v(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}function pj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof en=="function"?en(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(a){return new Promise(function(u,s){a=t[o](a),i(u,s,a.done,a.value)})}}function i(o,a,u,s){Promise.resolve(s).then(function(l){o({value:l,done:u})},a)}}function Ye(t){return typeof t=="function"}function ka(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Jh=ka(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function qi(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Br=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=en(a),s=u.next();!s.done;s=u.next()){var l=s.value;l.remove(this)}}catch(_){e={error:_}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(Ye(c))try{c()}catch(_){o=_ instanceof Jh?_.errors:[_]}var h=this._teardowns;if(h){this._teardowns=null;try{for(var v=en(h),y=v.next();!y.done;y=v.next()){var k=y.value;try{X6(k)}catch(_){o=o!=null?o:[],_ instanceof Jh?o=Dt(Dt([],xt(o)),xt(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new Jh(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)X6(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=(r=this._teardowns)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&qi(r,e)},t.prototype.remove=function(e){var r=this._teardowns;r&&qi(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),J6=Br.EMPTY;function Y6(t){return t instanceof Br||t&&"closed"in t&&Ye(t.remove)&&Ye(t.add)&&Ye(t.unsubscribe)}function X6(t){Ye(t)?t():t.unsubscribe()}var No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Yh={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Yh.delegate;return((r==null?void 0:r.setTimeout)||setTimeout).apply(void 0,Dt([],xt(t)))},clearTimeout:function(t){var e=Yh.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Q6(t){Yh.setTimeout(function(){var e=No.onUnhandledError;if(e)e(t);else throw t})}function Bt(){}var vj=function(){return $m("C",void 0,void 0)}();function mj(t){return $m("E",void 0,t)}function gj(t){return $m("N",t,void 0)}function $m(t,e,r){return{kind:t,value:e,error:r}}var Ca=null;function Xh(t){if(No.useDeprecatedSynchronousErrorHandling){var e=!Ca;if(e&&(Ca={errorThrown:!1,error:null}),t(),e){var r=Ca,n=r.errorThrown,i=r.error;if(Ca=null,n)throw i}}else t()}function yj(t){No.useDeprecatedSynchronousErrorHandling&&Ca&&(Ca.errorThrown=!0,Ca.error=t)}var Qh=function(t){zt(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Y6(r)&&r.add(n)):n.destination=bj,n}return e.create=function(r,n,i){return new Zh(r,n,i)},e.prototype.next=function(r){this.isStopped?Rm(gj(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?Rm(mj(r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?Rm(vj,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Br),Zh=function(t){zt(e,t);function e(r,n,i){var o=t.call(this)||this,a;if(Ye(r))a=r;else if(r){a=r.next,n=r.error,i=r.complete;var u;o&&No.useDeprecatedNextContext?(u=Object.create(r),u.unsubscribe=function(){return o.unsubscribe()}):u=r,a=a==null?void 0:a.bind(u),n=n==null?void 0:n.bind(u),i=i==null?void 0:i.bind(u)}return o.destination={next:a?Lm(a):Bt,error:Lm(n!=null?n:Z6),complete:i?Lm(i):Bt},o}return e}(Qh);function Lm(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{t.apply(void 0,Dt([],xt(r)))}catch(i){No.useDeprecatedSynchronousErrorHandling?yj(i):Q6(i)}}}function Z6(t){throw t}function Rm(t,e){var r=No.onStoppedNotification;r&&Yh.setTimeout(function(){return r(t,e)})}var bj={closed:!0,next:Bt,error:Z6,complete:Bt},ed=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function mr(t){return t}function Bm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return e8(t)}function e8(t){return t.length===0?mr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var pt=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=wj(e)?e:new Zh(e,r,n);return Xh(function(){var a=i,u=a.operator,s=a.source;o.add(u?u.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=t8(r),new r(function(i,o){var a;a=n.subscribe(function(u){try{e(u)}catch(s){o(s),a==null||a.unsubscribe()}},o,i)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[ed]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e8(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=t8(e),new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function t8(t){var e;return(e=t!=null?t:No.Promise)!==null&&e!==void 0?e:Promise}function _j(t){return t&&Ye(t.next)&&Ye(t.error)&&Ye(t.complete)}function wj(t){return t&&t instanceof Qh||_j(t)&&Y6(t)}function r8(t){return Ye(t==null?void 0:t.lift)}function Ee(t){return function(e){if(r8(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var we=function(t){zt(e,t);function e(r,n,i,o,a){var u=t.call(this,r)||this;return u.onFinalize=a,u._next=n?function(s){try{n(s)}catch(l){r.error(l)}}:t.prototype._next,u._error=o?function(s){try{o(s)}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(s){r.error(s)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r,n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))},e}(Qh);function Um(){return Ee(function(t,e){var r=null;t._refCount++;var n=new we(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){r=null;return}var i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var td=function(t){zt(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._subject=null,i._refCount=0,i._connection=null,r8(r)&&(i.lift=r.lift),i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},e.prototype.connect=function(){var r=this,n=this._connection;if(!n){n=this._connection=new Br;var i=this.getSubject();n.add(this.source.subscribe(new we(i,void 0,function(){r._teardown(),i.complete()},function(o){r._teardown(),i.error(o)},function(){return r._teardown()}))),n.closed&&(this._connection=null,n=Br.EMPTY)}return n},e.prototype.refCount=function(){return Um()(this)},e}(pt),n8={now:function(){return(n8.delegate||performance).now()},delegate:void 0},es={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=es.delegate;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=e(function(o){r=void 0,t(o)});return new Br(function(){return r==null?void 0:r(i)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=es.delegate;return((r==null?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Dt([],xt(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=es.delegate;return((r==null?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Dt([],xt(t)))},delegate:void 0};function xj(t){return t?i8(t):Dj}function i8(t){var e=es.schedule;return new pt(function(r){var n=new Br,i=t||n8,o=i.now(),a=function(u){var s=i.now();r.next({timestamp:t?s:u,elapsed:s-o}),r.closed||n.add(e(a))};return n.add(e(a)),n})}var Dj=i8(),o8=ka(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Jt=function(t){zt(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new a8(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new o8},e.prototype.next=function(r){var n=this;Xh(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){var a=n.observers.slice();try{for(var u=en(a),s=u.next();!s.done;s=u.next()){var l=s.value;l.next(r)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Xh(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Xh(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=n.hasError,o=n.isStopped,a=n.observers;return i||o?J6:(a.push(r),new Br(function(){return qi(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?r.error(o):a&&r.complete()},e.prototype.asObservable=function(){var r=new pt;return r.source=this,r},e.create=function(r,n){return new a8(r,n)},e}(pt),a8=function(t){zt(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:J6},e}(Jt),u8=function(t){zt(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){var r=this,n=r.hasError,i=r.thrownError,o=r._value;if(n)throw i;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Jt),rd={now:function(){return(rd.delegate||Date).now()},delegate:void 0},jm=function(t){zt(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=rd);var o=t.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,u=n._timestampProvider,s=n._windowTime;i||(o.push(r),!a&&o.push(u.now()+s)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,a=i._buffer,u=a.slice(),s=0;s<u.length&&!r.closed;s+=o?1:2)r.next(u[s]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,a=r._infiniteTimeWindow,u=(a?1:2)*n;if(n<1/0&&u<o.length&&o.splice(0,o.length-u),!a){for(var s=i.now(),l=0,c=1;c<o.length&&o[c]<=s;c+=2)l=c;l&&o.splice(0,l+1)}},e}(Jt),zm=function(t){zt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._value=null,r._hasValue=!1,r._isComplete=!1,r}return e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n._hasValue,a=n._value,u=n.thrownError,s=n.isStopped,l=n._isComplete;i?r.error(u):(s||l)&&(o&&r.next(a),r.complete())},e.prototype.next=function(r){this.isStopped||(this._value=r,this._hasValue=!0)},e.prototype.complete=function(){var r=this,n=r._hasValue,i=r._value,o=r._isComplete;o||(this._isComplete=!0,n&&t.prototype.next.call(this,i),t.prototype.complete.call(this))},e}(Jt),Ej=function(t){zt(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Br),nd={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=nd.delegate;return((r==null?void 0:r.setInterval)||setInterval).apply(void 0,Dt([],xt(t)))},clearInterval:function(t){var e=nd.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Wl=function(t){zt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),nd.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;nd.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qi(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(Ej),Sj=1,qm,Hm={};function s8(t){return t in Hm?(delete Hm[t],!0):!1}var l8={setImmediate:function(t){var e=Sj++;return Hm[e]=!0,qm||(qm=Promise.resolve()),qm.then(function(){return s8(e)&&t()}),e},clearImmediate:function(t){s8(t)}},Aj=l8.setImmediate,kj=l8.clearImmediate,id={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=id.delegate;return((r==null?void 0:r.setImmediate)||Aj).apply(void 0,Dt([],xt(t)))},clearImmediate:function(t){var e=id.delegate;return((e==null?void 0:e.clearImmediate)||kj)(t)},delegate:void 0},Cj=function(t){zt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=id.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(id.clearImmediate(n),r._scheduled=void 0)},e}(Wl),Wm=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=rd.now,t}(),Gl=function(t){zt(e,t);function e(r,n){n===void 0&&(n=Wm.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Wm),Mj=function(t){zt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Gl),c8=new Mj(Cj),Ij=c8,Si=new Gl(Wl),Vl=Si,Tj=function(t){zt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Wl),Pj=function(t){zt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Gl),f8=new Pj(Tj),Nj=f8,Fj=function(t){zt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r._scheduled||(r._scheduled=es.requestAnimationFrame(function(){return r.flush(void 0)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(es.cancelAnimationFrame(n),r._scheduled=void 0)},e}(Wl),Oj=function(t){zt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0,this._scheduled=void 0;var n=this.actions,i,o=-1;r=r||n.shift();var a=n.length;do if(i=r.execute(r.state,r.delay))break;while(++o<a&&(r=n.shift()));if(this._active=!1,i){for(;++o<a&&(r=n.shift());)r.unsubscribe();throw i}},e}(Gl),h8=new Oj(Fj),$j=h8,Lj=function(t){zt(e,t);function e(r,n){r===void 0&&(r=d8),n===void 0&&(n=1/0);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},e.frameTimeFactor=10,e}(Gl),d8=function(t){zt(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var o=t.call(this,r,n)||this;return o.scheduler=r,o.work=n,o.index=i,o.active=!0,o.index=r.index=i,o}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}else return Br.EMPTY},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var o=r.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Wl),Kn=new pt(function(t){return t.complete()});function Rj(t){return t?Bj(t):Kn}function Bj(t){return new pt(function(e){return t.schedule(function(){return e.complete()})})}function od(t){return t&&Ye(t.schedule)}function Gm(t){return t[t.length-1]}function Kl(t){return Ye(Gm(t))?t.pop():void 0}function Hi(t){return od(Gm(t))?t.pop():void 0}function p8(t,e){return typeof Gm(t)=="number"?t.pop():e}var Vm=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function v8(t){return Ye(t==null?void 0:t.then)}function m8(t){return Ye(t[ed])}function g8(t){return Symbol.asyncIterator&&Ye(t==null?void 0:t[Symbol.asyncIterator])}function y8(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Uj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var b8=Uj();function _8(t){return Ye(t==null?void 0:t[b8])}function w8(t){return dj(this,arguments,function(){var r,n,i,o;return Om(this,function(a){switch(a.label){case 0:r=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Zu(r.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Zu(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Zu(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function x8(t){return Ye(t==null?void 0:t.getReader)}function ft(t){if(t instanceof pt)return t;if(t!=null){if(m8(t))return jj(t);if(Vm(t))return zj(t);if(v8(t))return qj(t);if(g8(t))return D8(t);if(_8(t))return Hj(t);if(x8(t))return Wj(t)}throw y8(t)}function jj(t){return new pt(function(e){var r=t[ed]();if(Ye(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zj(t){return new pt(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function qj(t){return new pt(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Q6)})}function Hj(t){return new pt(function(e){var r,n;try{for(var i=en(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function D8(t){return new pt(function(e){Gj(t,e).catch(function(r){return e.error(r)})})}function Wj(t){return D8(w8(t))}function Gj(t,e){var r,n,i,o;return hj(this,void 0,void 0,function(){var a,u;return Om(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),r=pj(t),s.label=1;case 1:return[4,r.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function tn(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Jl(t,e){return e===void 0&&(e=0),Ee(function(r,n){r.subscribe(new we(n,function(i){return tn(n,t,function(){return n.next(i)},e)},function(){return tn(n,t,function(){return n.complete()},e)},function(i){return tn(n,t,function(){return n.error(i)},e)}))})}function Yl(t,e){return e===void 0&&(e=0),Ee(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function Vj(t,e){return ft(t).pipe(Yl(e),Jl(e))}function Kj(t,e){return ft(t).pipe(Yl(e),Jl(e))}function Jj(t,e){return new pt(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function E8(t,e){return new pt(function(r){var n;return tn(r,e,function(){n=t[b8](),tn(r,e,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(u){r.error(u);return}a?r.complete():r.next(o)},0,!0)}),function(){return Ye(n==null?void 0:n.return)&&n.return()}})}function S8(t,e){if(!t)throw new Error("Iterable cannot be null");return new pt(function(r){tn(r,e,function(){var n=t[Symbol.asyncIterator]();tn(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Yj(t,e){return S8(w8(t),e)}function A8(t,e){if(t!=null){if(m8(t))return Vj(t,e);if(Vm(t))return Jj(t,e);if(v8(t))return Kj(t,e);if(g8(t))return S8(t,e);if(_8(t))return E8(t,e);if(x8(t))return Yj(t,e)}throw y8(t)}function Jn(t,e){return e?A8(t,e):ft(t)}function Km(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t);return Jn(t,r)}function k8(t,e){var r=Ye(t)?t:function(){return t},n=function(i){return i.error(r())};return new pt(e?function(i){return e.schedule(n,0,i)}:n)}var Jm;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(Jm||(Jm={}));var ad=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){return C8(this,e)},t.prototype.do=function(e,r,n){var i=this,o=i.kind,a=i.value,u=i.error;return o==="N"?e==null?void 0:e(a):o==="E"?r==null?void 0:r(u):n==null?void 0:n()},t.prototype.accept=function(e,r,n){var i;return Ye((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this,r=e.kind,n=e.value,i=e.error,o=r==="N"?Km(n):r==="E"?k8(function(){return i}):r==="C"?Kn:0;if(!o)throw new TypeError("Unexpected notification kind "+r);return o},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function C8(t,e){var r,n,i,o=t,a=o.kind,u=o.value,s=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(r=e.next)===null||r===void 0||r.call(e,u):a==="E"?(n=e.error)===null||n===void 0||n.call(e,s):(i=e.complete)===null||i===void 0||i.call(e)}function Xj(t){return!!t&&(t instanceof pt||Ye(t.lift)&&Ye(t.subscribe))}var Ma=ka(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Qj(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=!1,a;t.subscribe({next:function(u){a=u,o=!0},error:i,complete:function(){o?n(a):r?n(e.defaultValue):i(new Ma)}})})}function Zj(t,e){var r=typeof e=="object";return new Promise(function(n,i){var o=new Zh({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){r?n(e.defaultValue):i(new Ma)}});t.subscribe(o)})}var Ym=ka(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),M8=ka(function(t){return function(r){t(this),this.name="NotFoundError",this.message=r}}),I8=ka(function(t){return function(r){t(this),this.name="SequenceError",this.message=r}});function Xm(t){return t instanceof Date&&!isNaN(t)}var T8=ka(function(t){return function(r){r===void 0&&(r=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r}});function Qm(t,e){var r=Xm(t)?{first:t}:typeof t=="number"?{each:t}:t,n=r.first,i=r.each,o=r.with,a=o===void 0?ez:o,u=r.scheduler,s=u===void 0?e!=null?e:Si:u,l=r.meta,c=l===void 0?null:l;if(n==null&&i==null)throw new TypeError("No timeout provided.");return Ee(function(h,v){var y,k,_=null,S=0,w=function(C){k=tn(v,s,function(){try{y.unsubscribe(),ft(a({meta:c,lastValue:_,seen:S})).subscribe(v)}catch(L){v.error(L)}},C)};y=h.subscribe(new we(v,function(C){k==null||k.unsubscribe(),S++,v.next(_=C),i>0&&w(i)},void 0,void 0,function(){(k==null?void 0:k.closed)||k==null||k.unsubscribe(),_=null})),w(n!=null?typeof n=="number"?n:+n-s.now():i)})}function ez(t){throw new T8(t)}function Wi(t,e){return Ee(function(r,n){var i=0;r.subscribe(new we(n,function(o){n.next(t.call(e,o,i++))}))})}var tz=Array.isArray;function rz(t,e){return tz(e)?t.apply(void 0,Dt([],xt(e))):t(e)}function Ia(t){return Wi(function(e){return rz(t,e)})}function ud(t,e,r,n){if(r)if(od(r))n=r;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ud(t,e,n).apply(this,i).pipe(Ia(r))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return ud(t,e).apply(this,i).pipe(Yl(n),Jl(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=new zm,s=!0;return new pt(function(l){var c=u.subscribe(l);if(s){s=!1;var h=!1,v=!1;e.apply(i,Dt(Dt([],xt(o)),[function(){for(var y=[],k=0;k<arguments.length;k++)y[k]=arguments[k];if(t){var _=y.shift();if(_!=null){u.error(_);return}}u.next(1<y.length?y:y[0]),v=!0,h&&u.complete()}])),v&&u.complete(),h=!0}return c})}}function nz(t,e,r){return ud(!1,t,e,r)}function iz(t,e,r){return ud(!0,t,e,r)}var oz=Array.isArray,az=Object.getPrototypeOf,uz=Object.prototype,sz=Object.keys;function P8(t){if(t.length===1){var e=t[0];if(oz(e))return{args:e,keys:null};if(lz(e)){var r=sz(e);return{args:r.map(function(n){return e[n]}),keys:r}}}return{args:t,keys:null}}function lz(t){return t&&typeof t=="object"&&az(t)===uz}function N8(t,e){return t.reduce(function(r,n,i){return r[n]=e[i],r},{})}function F8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t),n=Kl(t),i=P8(t),o=i.args,a=i.keys;if(o.length===0)return Jn([],r);var u=new pt(O8(o,r,a?function(s){return N8(a,s)}:mr));return n?u.pipe(Ia(n)):u}function O8(t,e,r){return r===void 0&&(r=mr),function(n){$8(e,function(){for(var i=t.length,o=new Array(i),a=i,u=i,s=function(c){$8(e,function(){var h=Jn(t[c],e),v=!1;h.subscribe(new we(n,function(y){o[c]=y,v||(v=!0,u--),u||n.next(r(o.slice()))},function(){--a||n.complete()}))},n)},l=0;l<i;l++)s(l)},n)}}function $8(t,e,r){t?tn(r,t,e):e()}function Zm(t,e,r,n,i,o,a,u){var s=[],l=0,c=0,h=!1,v=function(){h&&!s.length&&!l&&e.complete()},y=function(_){return l<n?k(_):s.push(_)},k=function(_){o&&e.next(_),l++;var S=!1;ft(r(_,c++)).subscribe(new we(e,function(w){i==null||i(w),o?y(w):e.next(w)},function(){S=!0},void 0,function(){if(S)try{l--;for(var w=function(){var C=s.shift();a?tn(e,a,function(){return k(C)}):k(C)};s.length&&l<n;)w();v()}catch(C){e.error(C)}}))};return t.subscribe(new we(e,y,function(){h=!0,v()})),function(){u==null||u()}}function On(t,e,r){return r===void 0&&(r=1/0),Ye(e)?On(function(n,i){return Wi(function(o,a){return e(n,o,i,a)})(ft(t(n,i)))},r):(typeof e=="number"&&(r=e),Ee(function(n,i){return Zm(n,i,t,r)}))}function Xl(t){return t===void 0&&(t=1/0),On(mr,t)}function sd(){return Xl(1)}function Ql(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return sd()(Jn(t,Hi(t)))}function Zl(t){return new pt(function(e){ft(t()).subscribe(e)})}var cz={connector:function(){return new Jt},resetOnDisconnect:!0};function fz(t,e){e===void 0&&(e=cz);var r=null,n=e.connector,i=e.resetOnDisconnect,o=i===void 0?!0:i,a=n(),u=new pt(function(s){return a.subscribe(s)});return u.connect=function(){return(!r||r.closed)&&(r=Zl(function(){return t}).subscribe(a),o&&r.add(function(){return a=n()})),r},u}function hz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kl(t),n=P8(t),i=n.args,o=n.keys,a=new pt(function(u){var s=i.length;if(!s){u.complete();return}for(var l=new Array(s),c=s,h=s,v=function(k){var _=!1;ft(i[k]).subscribe(new we(u,function(S){_||(_=!0,h--),l[k]=S},function(){return c--},void 0,function(){(!c||!_)&&(h||u.next(o?N8(o,l):l),u.complete())}))},y=0;y<s;y++)v(y)});return r?a.pipe(Ia(r)):a}var dz=["addListener","removeListener"],pz=["addEventListener","removeEventListener"],vz=["on","off"];function eg(t,e,r,n){if(Ye(r)&&(n=r,r=void 0),n)return eg(t,e,r).pipe(Ia(n));var i=xt(yz(t)?pz.map(function(u){return function(s){return t[u](e,s,r)}}):mz(t)?dz.map(L8(t,e)):gz(t)?vz.map(L8(t,e)):[],2),o=i[0],a=i[1];if(!o&&Vm(t))return On(function(u){return eg(u,e,r)})(ft(t));if(!o)throw new TypeError("Invalid event target");return new pt(function(u){var s=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return u.next(1<l.length?l:l[0])};return o(s),function(){return a(s)}})}function L8(t,e){return function(r){return function(n){return t[r](e,n)}}}function mz(t){return Ye(t.addListener)&&Ye(t.removeListener)}function gz(t){return Ye(t.on)&&Ye(t.off)}function yz(t){return Ye(t.addEventListener)&&Ye(t.removeEventListener)}function R8(t,e,r){return r?R8(t,e).pipe(Ia(r)):new pt(function(n){var i=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return n.next(a.length===1?a[0]:a)},o=t(i);return Ye(e)?function(){return e(i,o)}:void 0})}function bz(t,e,r,n,i){var o,a,u,s;arguments.length===1?(o=t,s=o.initialState,e=o.condition,r=o.iterate,a=o.resultSelector,u=a===void 0?mr:a,i=o.scheduler):(s=t,!n||od(n)?(u=mr,i=n):u=n);function l(){var c;return Om(this,function(h){switch(h.label){case 0:c=s,h.label=1;case 1:return!e||e(c)?[4,u(c)]:[3,4];case 2:h.sent(),h.label=3;case 3:return c=r(c),[3,1];case 4:return[2]}})}return Zl(i?function(){return E8(l(),i)}:l)}function _z(t,e,r){return Zl(function(){return t()?e:r})}function ts(t,e,r){t===void 0&&(t=0),r===void 0&&(r=Vl);var n=-1;return e!=null&&(od(e)?r=e:n=e),new pt(function(i){var o=Xm(t)?+t-r.now():t;o<0&&(o=0);var a=0;return r.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function B8(t,e){return t===void 0&&(t=0),e===void 0&&(e=Si),t<0&&(t=0),ts(t,t,e)}function wz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t),n=p8(t,1/0),i=t;return i.length?i.length===1?ft(i[0]):Xl(n)(Jn(i,r)):Kn}var U8=new pt(Bt);function xz(){return U8}var Dz=Array.isArray;function Ta(t){return t.length===1&&Dz(t[0])?t[0]:t}function j8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ta(t);return Ee(function(n,i){var o=Dt([n],xt(r)),a=function(){if(!i.closed)if(o.length>0){var u=void 0;try{u=ft(o.shift())}catch{a();return}var s=new we(i,void 0,Bt,Bt);i.add(u.subscribe(s)),s.add(a)}else i.complete()};a()})}function Ez(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return j8(Ta(t))(Kn)}function Sz(t,e){return Jn(Object.entries(t),e)}function z8(t,e){return function(r,n){return!t.call(e,r,n)}}function Ai(t,e){return Ee(function(r,n){var i=0;r.subscribe(new we(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function Az(t,e,r){return[Ai(e,r)(ft(t)),Ai(z8(e,r))(ft(t))]}function kz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t=Ta(t),t.length===1?ft(t[0]):new pt(q8(t))}function q8(t){return function(e){for(var r=[],n=function(o){r.push(ft(t[o]).subscribe(new we(e,function(a){if(r){for(var u=0;u<r.length;u++)u!==o&&r[u].unsubscribe();r=null}e.next(a)})))},i=0;r&&!e.closed&&i<t.length;i++)n(i)}}function Cz(t,e,r){if(e==null&&(e=t,t=0),e<=0)return Kn;var n=e+t;return new pt(r?function(i){var o=t;return r.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=t;o<n&&!i.closed;)i.next(o++);i.complete()})}function Mz(t,e){return new pt(function(r){var n=t(),i=e(n),o=i?ft(i):Kn;return o.subscribe(r),function(){n&&n.unsubscribe()}})}function tg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kl(t),n=Ta(t);return n.length?new pt(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(l){ft(n[l]).subscribe(new we(i,function(c){if(o[l].push(c),o.every(function(v){return v.length})){var h=o.map(function(v){return v.shift()});i.next(r?r.apply(void 0,Dt([],xt(h))):h),o.some(function(v,y){return!v.length&&a[y]})&&i.complete()}},function(){a[l]=!0,!o[l].length&&i.complete()}))},s=0;!i.closed&&s<n.length;s++)u(s);return function(){o=a=null}}):Kn}function rg(t){return Ee(function(e,r){var n=!1,i=null,o=null,a=!1,u=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var l=i;i=null,r.next(l)}a&&r.complete()},s=function(){o=null,a&&r.complete()};e.subscribe(new we(r,function(l){n=!0,i=l,o||ft(t(l)).subscribe(o=new we(r,u,s))},function(){a=!0,(!n||!o||o.closed)&&r.complete()}))})}function H8(t,e){return e===void 0&&(e=Vl),rg(function(){return ts(t,e)})}function W8(t){return Ee(function(e,r){var n=[];return e.subscribe(new we(r,function(i){return n.push(i)},function(){r.next(n),r.complete()})),t.subscribe(new we(r,function(){var i=n;n=[],r.next(i)},Bt)),function(){n=null}})}function G8(t,e){return e===void 0&&(e=null),e=e!=null?e:t,Ee(function(r,n){var i=[],o=0;r.subscribe(new we(n,function(a){var u,s,l,c,h=null;o++%e==0&&i.push([]);try{for(var v=en(i),y=v.next();!y.done;y=v.next()){var k=y.value;k.push(a),t<=k.length&&(h=h!=null?h:[],h.push(k))}}catch(w){u={error:w}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(u)throw u.error}}if(h)try{for(var _=en(h),S=_.next();!S.done;S=_.next()){var k=S.value;qi(i,k),n.next(k)}}catch(w){l={error:w}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(l)throw l.error}}},function(){var a,u;try{for(var s=en(i),l=s.next();!l.done;l=s.next()){var c=l.value;n.next(c)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}function V8(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=Hi(n))!==null&&e!==void 0?e:Si,a=(r=n[0])!==null&&r!==void 0?r:null,u=n[1]||1/0;return Ee(function(s,l){var c=[],h=!1,v=function(_){var S=_.buffer,w=_.subs;w.unsubscribe(),qi(c,_),l.next(S),h&&y()},y=function(){if(c){var _=new Br;l.add(_);var S=[],w={buffer:S,subs:_};c.push(w),tn(_,o,function(){return v(w)},t)}};a!==null&&a>=0?tn(l,o,y,a,!0):h=!0,y();var k=new we(l,function(_){var S,w,C=c.slice();try{for(var L=en(C),P=L.next();!P.done;P=L.next()){var B=P.value,U=B.buffer;U.push(_),u<=U.length&&v(B)}}catch(f){S={error:f}}finally{try{P&&!P.done&&(w=L.return)&&w.call(L)}finally{if(S)throw S.error}}},function(){for(;c==null?void 0:c.length;)l.next(c.shift().buffer);k==null||k.unsubscribe(),l.complete(),l.unsubscribe()},void 0,function(){return c=null});s.subscribe(k)})}function K8(t,e){return Ee(function(r,n){var i=[];ft(t).subscribe(new we(n,function(o){var a=[];i.push(a);var u=new Br,s=function(){qi(i,a),n.next(a),u.unsubscribe()};u.add(ft(e(o)).subscribe(new we(n,s,Bt)))},Bt)),r.subscribe(new we(n,function(o){var a,u;try{for(var s=en(i),l=s.next();!l.done;l=s.next()){var c=l.value;c.push(o)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(u=s.return)&&u.call(s)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}function J8(t){return Ee(function(e,r){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&r.next(a),ft(t()).subscribe(i=new we(r,o,Bt))};o(),e.subscribe(new we(r,function(a){return n==null?void 0:n.push(a)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=i=null}))})}function ng(t){return Ee(function(e,r){var n=null,i=!1,o;n=e.subscribe(new we(r,void 0,void 0,function(a){o=ft(t(a,ng(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Y8(t,e,r,n,i){return function(o,a){var u=r,s=e,l=0;o.subscribe(new we(a,function(c){var h=l++;s=u?t(s,c,h):(u=!0,c),n&&a.next(s)},i&&function(){u&&a.next(s),a.complete()}))}}function rs(t,e){return Ee(Y8(t,e,arguments.length>=2,!1,!0))}var Iz=function(t,e){return t.push(e),t};function ig(){return Ee(function(t,e){rs(Iz,[])(t).subscribe(e)})}function X8(t,e){return Bm(ig(),On(function(r){return t(r)}),e?Ia(e):mr)}function og(t){return X8(F8,t)}var Q8=og;function ag(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kl(t);return r?Bm(ag.apply(void 0,Dt([],xt(t))),Ia(r)):Ee(function(n,i){O8(Dt([n],xt(Ta(t))))(i)})}function Z8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ag.apply(void 0,Dt([],xt(t)))}function ld(t,e){return Ye(e)?On(t,e,1):On(t,1)}function e4(t,e){return Ye(e)?ld(function(){return t},e):ld(function(){return t})}function t4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t);return Ee(function(n,i){sd()(Jn(Dt([n],xt(t)),r)).subscribe(i)})}function r4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t4.apply(void 0,Dt([],xt(t)))}function Tz(t){return new pt(function(e){return t.subscribe(e)})}var Pz={connector:function(){return new Jt}};function cd(t,e){e===void 0&&(e=Pz);var r=e.connector;return Ee(function(n,i){var o=r();Jn(t(Tz(o))).subscribe(i),i.add(n.subscribe(o))})}function n4(t){return rs(function(e,r,n){return!t||t(r,n)?e+1:e},0)}function i4(t){return Ee(function(e,r){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var u=i;i=null,r.next(u)}};e.subscribe(new we(r,function(u){o==null||o.unsubscribe(),n=!0,i=u,o=new we(r,a,Bt),ft(t(u)).subscribe(o)},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function o4(t,e){return e===void 0&&(e=Si),Ee(function(r,n){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var l=o;o=null,n.next(l)}};function s(){var l=a+t,c=e.now();if(c<l){i=this.schedule(void 0,l-c),n.add(i);return}u()}r.subscribe(new we(n,function(l){o=l,a=e.now(),i||(i=e.schedule(s,t),n.add(i))},function(){u(),n.complete()},void 0,function(){o=i=null}))})}function ec(t){return Ee(function(e,r){var n=!1;e.subscribe(new we(r,function(i){n=!0,r.next(i)},function(){n||r.next(t),r.complete()}))})}function Pa(t){return t<=0?function(){return Kn}:Ee(function(e,r){var n=0;e.subscribe(new we(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function ug(){return Ee(function(t,e){t.subscribe(new we(e,Bt))})}function sg(t){return Wi(function(){return t})}function fd(t,e){return e?function(r){return Ql(e.pipe(Pa(1),ug()),r.pipe(fd(t)))}:On(function(r,n){return t(r,n).pipe(Pa(1),sg(r))})}function a4(t,e){e===void 0&&(e=Si);var r=ts(t,e);return fd(function(){return r})}function u4(){return Ee(function(t,e){t.subscribe(new we(e,function(r){return C8(r,e)}))})}function s4(t,e){return Ee(function(r,n){var i=new Set;r.subscribe(new we(n,function(o){var a=t?t(o):o;i.has(a)||(i.add(a),n.next(o))})),e==null||e.subscribe(new we(n,function(){return i.clear()},Bt))})}function lg(t,e){return e===void 0&&(e=mr),t=t!=null?t:Nz,Ee(function(r,n){var i,o=!0;r.subscribe(new we(n,function(a){var u=e(a);(o||!t(i,u))&&(o=!1,i=u,n.next(a))}))})}function Nz(t,e){return t===e}function l4(t,e){return lg(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function tc(t){return t===void 0&&(t=Fz),Ee(function(e,r){var n=!1;e.subscribe(new we(r,function(i){n=!0,r.next(i)},function(){return n?r.complete():r.error(t())}))})}function Fz(){return new Ma}function c4(t,e){if(t<0)throw new Ym;var r=arguments.length>=2;return function(n){return n.pipe(Ai(function(i,o){return o===t}),Pa(1),r?ec(e):tc(function(){return new Ym}))}}function f4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Ql(r,Km.apply(void 0,Dt([],xt(t))))}}function h4(t,e){return Ee(function(r,n){var i=0;r.subscribe(new we(n,function(o){t.call(e,o,i++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function cg(){return Ee(function(t,e){var r=!1,n=null;t.subscribe(new we(e,function(i){n||(n=ft(i).subscribe(new we(e,void 0,function(){n=null,r&&e.complete()})))},function(){r=!0,!n&&e.complete()}))})}var d4=cg;function fg(t,e){return e?function(r){return r.pipe(fg(function(n,i){return ft(t(n,i)).pipe(Wi(function(o,a){return e(n,o,i,a)}))}))}:Ee(function(r,n){var i=0,o=null,a=!1;r.subscribe(new we(n,function(u){o||(o=new we(n,void 0,function(){o=null,a&&n.complete()}),ft(t(u,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}function p4(t,e,r){return e===void 0&&(e=1/0),e=(e||0)<1?1/0:e,Ee(function(n,i){return Zm(n,i,t,e,void 0,!0,r)})}function v4(t){return Ee(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function m4(t,e){return Ee(g4(t,e,"value"))}function g4(t,e,r){var n=r==="index";return function(i,o){var a=0;i.subscribe(new we(o,function(u){var s=a++;t.call(e,u,s,i)&&(o.next(n?s:u),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}function y4(t,e){return Ee(g4(t,e,"index"))}function b4(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ai(function(i,o){return t(i,o,n)}):mr,Pa(1),r?ec(e):tc(function(){return new Ma}))}}function _4(t,e,r,n){return Ee(function(i,o){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,n=e.connector);var u=new Map,s=function(v){u.forEach(v),v(o)},l=function(v){return s(function(y){return y.error(v)})},c=new Oz(o,function(v){try{var y=t(v),k=u.get(y);if(!k){u.set(y,k=n?n():new Jt);var _=h(y,k);if(o.next(_),r){var S=new we(k,function(){k.complete(),S==null||S.unsubscribe()},void 0,void 0,function(){return u.delete(y)});c.add(ft(r(_)).subscribe(S))}}k.next(a?a(v):v)}catch(w){l(w)}},function(){return s(function(v){return v.complete()})},l,function(){return u.clear()});i.subscribe(c);function h(v,y){var k=new pt(function(_){c.activeGroups++;var S=y.subscribe(_);return function(){S.unsubscribe(),--c.activeGroups==0&&c.teardownAttempted&&c.unsubscribe()}});return k.key=v,k}})}var Oz=function(t){zt(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.activeGroups=0,r.teardownAttempted=!1,r}return e.prototype.unsubscribe=function(){this.teardownAttempted=!0,this.activeGroups===0&&t.prototype.unsubscribe.call(this)},e}(we);function w4(){return Ee(function(t,e){t.subscribe(new we(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function hg(t){return t<=0?function(){return Kn}:Ee(function(e,r){var n=[];e.subscribe(new we(r,function(i){n.push(i),t<n.length&&n.shift()},function(){var i,o;try{for(var a=en(n),u=a.next();!u.done;u=a.next()){var s=u.value;r.next(s)}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}r.complete()},void 0,function(){n=null}))})}function x4(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Ai(function(i,o){return t(i,o,n)}):mr,hg(1),r?ec(e):tc(function(){return new Ma}))}}function D4(){return Ee(function(t,e){t.subscribe(new we(e,function(r){e.next(ad.createNext(r))},function(){e.next(ad.createComplete()),e.complete()},function(r){e.next(ad.createError(r)),e.complete()}))})}function E4(t){return rs(Ye(t)?function(e,r){return t(e,r)>0?e:r}:function(e,r){return e>r?e:r})}var S4=On;function A4(t,e,r){return r===void 0&&(r=1/0),Ye(e)?On(function(){return t},e,r):(typeof e=="number"&&(r=e),On(function(){return t},r))}function k4(t,e,r){return r===void 0&&(r=1/0),Ee(function(n,i){var o=e;return Zm(n,i,function(a,u){return t(o,a,u)},r,function(a){o=a},!1,void 0,function(){return o=null})})}function C4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t),n=p8(t,1/0);return t=Ta(t),Ee(function(i,o){Xl(n)(Jn(Dt([i],xt(t)),r)).subscribe(o)})}function M4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return C4.apply(void 0,Dt([],xt(t)))}function I4(t){return rs(Ye(t)?function(e,r){return t(e,r)<0?e:r}:function(e,r){return e<r?e:r})}function hd(t,e){var r=Ye(t)?t:function(){return t};return Ye(e)?cd(e,{connector:r}):function(n){return new td(n,r)}}function T4(){return Ee(function(t,e){var r,n=!1;t.subscribe(new we(e,function(i){var o=r;r=i,n&&e.next([o,i]),n=!0}))})}function P4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return Wi(function(n){for(var i=n,o=0;o<r;o++){var a=i==null?void 0:i[t[o]];if(typeof a!="undefined")i=a;else return}return i})}function N4(t){return t?function(e){return cd(t)(e)}:function(e){return hd(new Jt)(e)}}function F4(t){return function(e){var r=new u8(t);return new td(e,function(){return r})}}function O4(){return function(t){var e=new zm;return new td(t,function(){return e})}}function $4(t,e,r,n){r&&!Ye(r)&&(n=r);var i=Ye(r)?r:void 0;return function(o){return hd(new jm(t,e,n),i)(o)}}function dg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?Ee(function(r,n){q8(Dt([r],xt(t)))(n)}):mr}function L4(t){return t===void 0&&(t=1/0),t<=0?function(){return Kn}:Ee(function(e,r){var n=0,i,o=function(){var a=!1;i=e.subscribe(new we(r,void 0,function(){++n<t?i?(i.unsubscribe(),i=null,o()):a=!0:r.complete()})),a&&(i.unsubscribe(),i=null,o())};o()})}function R4(t){return Ee(function(e,r){var n,i=!1,o,a=!1,u=!1,s=function(){return u&&a&&(r.complete(),!0)},l=function(){return o||(o=new Jt,t(o).subscribe(new we(r,function(){n?c():i=!0},function(){a=!0,s()}))),o},c=function(){u=!1,n=e.subscribe(new we(r,void 0,function(){u=!0,!s()&&l().next()})),i&&(n.unsubscribe(),n=null,i=!1,c())};c()})}function B4(t){t===void 0&&(t=1/0);var e;t&&typeof t=="object"?e=t:e={count:t};var r=e.count,n=r===void 0?1/0:r,i=e.delay,o=e.resetOnSuccess,a=o===void 0?!1:o;return n<=0?mr:Ee(function(u,s){var l=0,c,h=function(){var v=!1;c=u.subscribe(new we(s,function(y){a&&(l=0),s.next(y)},void 0,function(y){if(l++<n){var k=function(){c?(c.unsubscribe(),c=null,h()):v=!0};if(i!=null){var _=typeof i=="number"?ts(i):ft(i(y,l)),S=new we(s,function(){S.unsubscribe(),k()},function(){s.complete()});_.subscribe(S)}else k()}else s.error(y)})),v&&(c.unsubscribe(),c=null,h())};h()})}function U4(t){return Ee(function(e,r){var n,i=!1,o,a=function(){n=e.subscribe(new we(r,void 0,void 0,function(u){o||(o=new Jt,t(o).subscribe(new we(r,function(){return n?a():i=!0}))),o&&o.next(u)})),i&&(n.unsubscribe(),n=null,i=!1,a())};a()})}function pg(t){return Ee(function(e,r){var n=!1,i=null;e.subscribe(new we(r,function(a){n=!0,i=a}));var o=function(){if(n){n=!1;var a=i;i=null,r.next(a)}};t.subscribe(new we(r,o,Bt))})}function j4(t,e){return e===void 0&&(e=Si),pg(B8(t,e))}function vg(t,e){return Ee(Y8(t,e,arguments.length>=2,!0))}function z4(t,e){return e===void 0&&(e=function(r,n){return r===n}),Ee(function(r,n){var i=q4(),o=q4(),a=function(s){n.next(s),n.complete()},u=function(s,l){var c=new we(n,function(h){var v=l.buffer,y=l.complete;v.length===0?y?a(!1):s.buffer.push(h):!e(h,v.shift())&&a(!1)},function(){s.complete=!0;var h=l.complete,v=l.buffer;h&&a(v.length===0),c==null||c.unsubscribe()});return c};r.subscribe(u(i,o)),t.subscribe(u(o,i))})}function q4(){return{buffer:[],complete:!1}}function mg(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Jt}:e,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,a=o===void 0?!0:o,u=t.resetOnRefCountZero,s=u===void 0?!0:u;return function(l){var c=null,h=null,v=null,y=0,k=!1,_=!1,S=function(){h==null||h.unsubscribe(),h=null},w=function(){S(),c=v=null,k=_=!1},C=function(){var L=c;w(),L==null||L.unsubscribe()};return Ee(function(L,P){y++,!_&&!k&&S();var B=v=v!=null?v:r();P.add(function(){y--,y===0&&!_&&!k&&(h=gg(C,s))}),B.subscribe(P),c||(c=new Zh({next:function(U){return B.next(U)},error:function(U){_=!0,S(),h=gg(w,i,U),B.error(U)},complete:function(){k=!0,S(),h=gg(w,a),B.complete()}}),Jn(L).subscribe(c))})(l)}}function gg(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,Dt([],xt(r))).pipe(Pa(1)).subscribe(function(){return t()})}function H4(t,e,r){var n,i,o,a=!1;return t&&typeof t=="object"?(o=(n=t.bufferSize)!==null&&n!==void 0?n:1/0,e=(i=t.windowTime)!==null&&i!==void 0?i:1/0,a=!!t.refCount,r=t.scheduler):o=t!=null?t:1/0,mg({connector:function(){return new jm(o,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function W4(t){return Ee(function(e,r){var n=!1,i,o=!1,a=0;e.subscribe(new we(r,function(u){o=!0,(!t||t(u,a++,e))&&(n&&r.error(new I8("Too many matching values")),n=!0,i=u)},function(){n?(r.next(i),r.complete()):r.error(o?new M8("No matching values"):new Ma)}))})}function G4(t){return Ai(function(e,r){return t<=r})}function V4(t){return t<=0?mr:Ee(function(e,r){var n=new Array(t),i=0;return e.subscribe(new we(r,function(o){var a=i++;if(a<t)n[a]=o;else{var u=a%t,s=n[u];n[u]=o,r.next(s)}})),function(){n=null}})}function K4(t){return Ee(function(e,r){var n=!1,i=new we(r,function(){i==null||i.unsubscribe(),n=!0},Bt);ft(t).subscribe(i),e.subscribe(new we(r,function(o){return n&&r.next(o)}))})}function J4(t){return Ee(function(e,r){var n=!1,i=0;e.subscribe(new we(r,function(o){return(n||(n=!t(o,i++)))&&r.next(o)}))})}function Y4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Hi(t);return Ee(function(n,i){(r?Ql(t,n,r):Ql(t,n)).subscribe(i)})}function ns(t,e){return Ee(function(r,n){var i=null,o=0,a=!1,u=function(){return a&&!i&&n.complete()};r.subscribe(new we(n,function(s){i==null||i.unsubscribe();var l=0,c=o++;ft(t(s,c)).subscribe(i=new we(n,function(h){return n.next(e?e(s,h,c,l++):h)},function(){i=null,u()}))},function(){a=!0,u()}))})}function X4(){return ns(mr)}function Q4(t,e){return Ye(e)?ns(function(){return t},e):ns(function(){return t})}function Z4(t,e){return Ee(function(r,n){var i=e;return ns(function(o,a){return t(i,o,a)},function(o,a){return i=a,a})(r).subscribe(n),function(){i=null}})}function e5(t){return Ee(function(e,r){ft(t).subscribe(new we(r,function(){return r.complete()},Bt)),!r.closed&&e.subscribe(r)})}function t5(t,e){return e===void 0&&(e=!1),Ee(function(r,n){var i=0;r.subscribe(new we(n,function(o){var a=t(o,i++);(a||e)&&n.next(o),!a&&n.complete()}))})}function r5(t,e,r){var n=Ye(t)||e||r?{next:t,error:e,complete:r}:t;return n?Ee(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var u=!0;i.subscribe(new we(o,function(s){var l;(l=n.next)===null||l===void 0||l.call(n,s),o.next(s)},function(){var s;u=!1,(s=n.complete)===null||s===void 0||s.call(n),o.complete()},function(s){var l;u=!1,(l=n.error)===null||l===void 0||l.call(n,s),o.error(s)},function(){var s,l;u&&((s=n.unsubscribe)===null||s===void 0||s.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):mr}var n5={leading:!0,trailing:!1};function yg(t,e){var r=e===void 0?n5:e,n=r.leading,i=r.trailing;return Ee(function(o,a){var u=!1,s=null,l=null,c=!1,h=function(){l==null||l.unsubscribe(),l=null,i&&(k(),c&&a.complete())},v=function(){l=null,c&&a.complete()},y=function(_){return l=ft(t(_)).subscribe(new we(a,h,v))},k=function(){if(u){u=!1;var _=s;s=null,a.next(_),!c&&y(_)}};o.subscribe(new we(a,function(_){u=!0,s=_,!(l&&!l.closed)&&(n?k():y(_))},function(){c=!0,!(i&&u&&l&&!l.closed)&&a.complete()}))})}function i5(t,e,r){e===void 0&&(e=Si),r===void 0&&(r=n5);var n=ts(t,e);return yg(function(){return n},r)}function o5(t){return t===void 0&&(t=Vl),function(e){return Zl(function(){return e.pipe(vg(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Wi(function(r){var n=r.current,i=r.last,o=r.value;return new $z(o,n-i)}))})}}var $z=function(){function t(e,r){this.value=e,this.interval=r}return t}();function a5(t,e,r){var n,i,o;if(r=r!=null?r:Vl,Xm(t)?n=t:typeof t=="number"&&(i=t),e)o=function(){return e};else throw new TypeError("No observable provided to switch to");if(n==null&&i==null)throw new TypeError("No timeout provided.");return Qm({first:n,each:i,scheduler:r,with:o})}function u5(t){return t===void 0&&(t=rd),Wi(function(e){return{value:e,timestamp:t.now()}})}function s5(t){return Ee(function(e,r){var n=new Jt;r.next(n.asObservable());var i=function(o){n.error(o),r.error(o)};return e.subscribe(new we(r,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),r.complete()},i)),t.subscribe(new we(r,function(){n.complete(),r.next(n=new Jt)},Bt,i)),function(){n==null||n.unsubscribe(),n=null}})}function l5(t,e){e===void 0&&(e=0);var r=e>0?e:t;return Ee(function(n,i){var o=[new Jt],a=[],u=0;i.next(o[0].asObservable()),n.subscribe(new we(i,function(s){var l,c;try{for(var h=en(o),v=h.next();!v.done;v=h.next()){var y=v.value;y.next(s)}}catch(S){l={error:S}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}var k=u-t+1;if(k>=0&&k%r==0&&o.shift().complete(),++u%r==0){var _=new Jt;o.push(_),i.next(_.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(s){for(;o.length>0;)o.shift().error(s);i.error(s)},function(){a=null,o=null}))})}function c5(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(e=Hi(n))!==null&&e!==void 0?e:Si,a=(r=n[0])!==null&&r!==void 0?r:null,u=n[1]||1/0;return Ee(function(s,l){var c=[],h=!1,v=function(S){var w=S.window,C=S.subs;w.complete(),C.unsubscribe(),qi(c,S),h&&y()},y=function(){if(c){var S=new Br;l.add(S);var w=new Jt,C={window:w,subs:S,seen:0};c.push(C),l.next(w.asObservable()),tn(S,o,function(){return v(C)},t)}};a!==null&&a>=0?tn(l,o,y,a,!0):h=!0,y();var k=function(S){return c.slice().forEach(S)},_=function(S){k(function(w){var C=w.window;return S(C)}),S(l),l.unsubscribe()};return s.subscribe(new we(l,function(S){k(function(w){w.window.next(S),u<=++w.seen&&v(w)})},function(){return _(function(S){return S.complete()})},function(S){return _(function(w){return w.error(S)})})),function(){c=null}})}function f5(t,e){return Ee(function(r,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};ft(t).subscribe(new we(n,function(a){var u=new Jt;i.push(u);var s=new Br,l=function(){qi(i,u),u.complete(),s.unsubscribe()},c;try{c=ft(e(a))}catch(h){o(h);return}n.next(u.asObservable()),s.add(c.subscribe(new we(n,l,Bt,o)))},Bt)),r.subscribe(new we(n,function(a){var u,s,l=i.slice();try{for(var c=en(l),h=c.next();!h.done;h=c.next()){var v=h.value;v.next(a)}}catch(y){u={error:y}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(u)throw u.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function h5(t){return Ee(function(e,r){var n,i,o=function(u){n.error(u),r.error(u)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new Jt,r.next(n.asObservable());var u;try{u=ft(t())}catch(s){o(s);return}u.subscribe(i=new we(r,a,a,o))};a(),e.subscribe(new we(r,function(u){return n.next(u)},function(){n.complete(),r.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}function d5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Kl(t);return Ee(function(n,i){for(var o=t.length,a=new Array(o),u=t.map(function(){return!1}),s=!1,l=function(h){ft(t[h]).subscribe(new we(i,function(v){a[h]=v,!s&&!u[h]&&(u[h]=!0,(s=u.every(mr))&&(u=null))},Bt))},c=0;c<o;c++)l(c);n.subscribe(new we(i,function(h){if(s){var v=Dt([h],xt(a));i.next(r?r.apply(void 0,Dt([],xt(v))):v)}}))})}function p5(t){return X8(tg,t)}function v5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ee(function(r,n){tg.apply(void 0,Dt([r],xt(t))).subscribe(n)})}function m5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return v5.apply(void 0,Dt([],xt(t)))}var Lz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Observable:pt,ConnectableObservable:td,observable:ed,animationFrames:xj,Subject:Jt,BehaviorSubject:u8,ReplaySubject:jm,AsyncSubject:zm,asap:Ij,asapScheduler:c8,async:Vl,asyncScheduler:Si,queue:Nj,queueScheduler:f8,animationFrame:$j,animationFrameScheduler:h8,VirtualTimeScheduler:Lj,VirtualAction:d8,Scheduler:Wm,Subscription:Br,Subscriber:Qh,Notification:ad,get NotificationKind(){return Jm},pipe:Bm,noop:Bt,identity:mr,isObservable:Xj,lastValueFrom:Qj,firstValueFrom:Zj,ArgumentOutOfRangeError:Ym,EmptyError:Ma,NotFoundError:M8,ObjectUnsubscribedError:o8,SequenceError:I8,TimeoutError:T8,UnsubscriptionError:Jh,bindCallback:nz,bindNodeCallback:iz,combineLatest:F8,concat:Ql,connectable:fz,defer:Zl,empty:Rj,forkJoin:hz,from:Jn,fromEvent:eg,fromEventPattern:R8,generate:bz,iif:_z,interval:B8,merge:wz,never:xz,of:Km,onErrorResumeNext:Ez,pairs:Sz,partition:Az,race:kz,range:Cz,throwError:k8,timer:ts,using:Mz,zip:tg,scheduled:A8,EMPTY:Kn,NEVER:U8,config:No,audit:rg,auditTime:H8,buffer:W8,bufferCount:G8,bufferTime:V8,bufferToggle:K8,bufferWhen:J8,catchError:ng,combineAll:Q8,combineLatestAll:og,combineLatestWith:Z8,concatAll:sd,concatMap:ld,concatMapTo:e4,concatWith:r4,connect:cd,count:n4,debounce:i4,debounceTime:o4,defaultIfEmpty:ec,delay:a4,delayWhen:fd,dematerialize:u4,distinct:s4,distinctUntilChanged:lg,distinctUntilKeyChanged:l4,elementAt:c4,endWith:f4,every:h4,exhaust:d4,exhaustAll:cg,exhaustMap:fg,expand:p4,filter:Ai,finalize:v4,find:m4,findIndex:y4,first:b4,groupBy:_4,ignoreElements:ug,isEmpty:w4,last:x4,map:Wi,mapTo:sg,materialize:D4,max:E4,mergeAll:Xl,flatMap:S4,mergeMap:On,mergeMapTo:A4,mergeScan:k4,mergeWith:M4,min:I4,multicast:hd,observeOn:Jl,pairwise:T4,pluck:P4,publish:N4,publishBehavior:F4,publishLast:O4,publishReplay:$4,raceWith:dg,reduce:rs,repeat:L4,repeatWhen:R4,retry:B4,retryWhen:U4,refCount:Um,sample:pg,sampleTime:j4,scan:vg,sequenceEqual:z4,share:mg,shareReplay:H4,single:W4,skip:G4,skipLast:V4,skipUntil:K4,skipWhile:J4,startWith:Y4,subscribeOn:Yl,switchAll:X4,switchMap:ns,switchMapTo:Q4,switchScan:Z4,take:Pa,takeLast:hg,takeUntil:e5,takeWhile:t5,tap:r5,throttle:yg,throttleTime:i5,throwIfEmpty:tc,timeInterval:o5,timeout:Qm,timeoutWith:a5,timestamp:u5,toArray:ig,window:s5,windowCount:l5,windowTime:c5,windowToggle:f5,windowWhen:h5,withLatestFrom:d5,zipAll:p5,zipWith:m5}),bg=Ft(Lz);(function(t){var e=re&&re.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamStatic=t.Stream=t.CommitType=t.AnchorStatus=t.SignatureStatus=void 0;const r=e(Kh.exports),n=xi,i=bg,o=Pm;(function(l){l[l.GENESIS=0]="GENESIS",l[l.PARTIAL=1]="PARTIAL",l[l.SIGNED=2]="SIGNED"})(t.SignatureStatus||(t.SignatureStatus={})),function(l){l[l.NOT_REQUESTED=0]="NOT_REQUESTED",l[l.PENDING=1]="PENDING",l[l.PROCESSING=2]="PROCESSING",l[l.ANCHORED=3]="ANCHORED",l[l.FAILED=4]="FAILED"}(t.AnchorStatus||(t.AnchorStatus={}));var a;(function(l){l[l.GENESIS=0]="GENESIS",l[l.SIGNED=1]="SIGNED",l[l.ANCHOR=2]="ANCHOR"})(a=t.CommitType||(t.CommitType={}));class u extends i.Observable{constructor(c,h){super(v=>{c.subscribe(v)});this.state$=c,this._context=h}get id(){return new n.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}get api(){return this._context.api}get metadata(){var c;const{next:h,metadata:v}=this.state$.value;return r.default((c=h==null?void 0:h.metadata)!==null&&c!==void 0?c:v)}get content(){var c;const{next:h,content:v}=this.state$.value;return r.default((c=h==null?void 0:h.content)!==null&&c!==void 0?c:v)}get controllers(){return this.metadata.controllers}get tip(){return this.state$.value.log[this.state$.value.log.length-1].cid}get commitId(){return this.id.atCommit(this.tip)}get allCommitIds(){return this.state$.value.log.map(({cid:c})=>this.id.atCommit(c))}get anchorCommitIds(){return this.state$.value.log.filter(({type:c})=>c===a.ANCHOR).map(({cid:c})=>this.id.atCommit(c))}get state(){return r.default(this.state$.value)}async sync(c={}){c=Se({sync:o.SyncOptions.PREFER_CACHE},c);const h=await this.api.loadStream(this.id,c);this.state$.next(h.state)}async requestAnchor(){return this.api.requestAnchor(this.id)}}t.Stream=u;function s(){return l=>{}}t.StreamStatic=s})(Nm);var dd={},pd={exports:{}};(function(t,e){var r=typeof self!="undefined"?self:re,n=function(){function o(){this.fetch=!1,this.DOMException=r.DOMException}return o.prototype=r,new o}();(function(o){(function(a){var u={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function s(m){return m&&DataView.prototype.isPrototypeOf(m)}if(u.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(m){return m&&l.indexOf(Object.prototype.toString.call(m))>-1};function h(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function v(m){return typeof m!="string"&&(m=String(m)),m}function y(m){var g={next:function(){var M=m.shift();return{done:M===void 0,value:M}}};return u.iterable&&(g[Symbol.iterator]=function(){return g}),g}function k(m){this.map={},m instanceof k?m.forEach(function(g,M){this.append(M,g)},this):Array.isArray(m)?m.forEach(function(g){this.append(g[0],g[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(g){this.append(g,m[g])},this)}k.prototype.append=function(m,g){m=h(m),g=v(g);var M=this.map[m];this.map[m]=M?M+", "+g:g},k.prototype.delete=function(m){delete this.map[h(m)]},k.prototype.get=function(m){return m=h(m),this.has(m)?this.map[m]:null},k.prototype.has=function(m){return this.map.hasOwnProperty(h(m))},k.prototype.set=function(m,g){this.map[h(m)]=v(g)},k.prototype.forEach=function(m,g){for(var M in this.map)this.map.hasOwnProperty(M)&&m.call(g,this.map[M],M,this)},k.prototype.keys=function(){var m=[];return this.forEach(function(g,M){m.push(M)}),y(m)},k.prototype.values=function(){var m=[];return this.forEach(function(g){m.push(g)}),y(m)},k.prototype.entries=function(){var m=[];return this.forEach(function(g,M){m.push([M,g])}),y(m)},u.iterable&&(k.prototype[Symbol.iterator]=k.prototype.entries);function _(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function S(m){return new Promise(function(g,M){m.onload=function(){g(m.result)},m.onerror=function(){M(m.error)}})}function w(m){var g=new FileReader,M=S(g);return g.readAsArrayBuffer(m),M}function C(m){var g=new FileReader,M=S(g);return g.readAsText(m),M}function L(m){for(var g=new Uint8Array(m),M=new Array(g.length),R=0;R<g.length;R++)M[R]=String.fromCharCode(g[R]);return M.join("")}function P(m){if(m.slice)return m.slice(0);var g=new Uint8Array(m.byteLength);return g.set(new Uint8Array(m)),g.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:u.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:u.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():u.arrayBuffer&&u.blob&&s(m)?(this._bodyArrayBuffer=P(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||c(m))?this._bodyArrayBuffer=P(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var m=_(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var m=_(this);if(m)return m;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function f(m){var g=m.toUpperCase();return U.indexOf(g)>-1?g:m}function D(m,g){g=g||{};var M=g.body;if(m instanceof D){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,g.headers||(this.headers=new k(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!M&&m._bodyInit!=null&&(M=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new k(g.headers)),this.method=f(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&M)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(M)}D.prototype.clone=function(){return new D(this,{body:this._bodyInit})};function $(m){var g=new FormData;return m.trim().split("&").forEach(function(M){if(M){var R=M.split("="),x=R.shift().replace(/\+/g," "),b=R.join("=").replace(/\+/g," ");g.append(decodeURIComponent(x),decodeURIComponent(b))}}),g}function G(m){var g=new k,M=m.replace(/\r?\n[\t ]+/g," ");return M.split(/\r?\n/).forEach(function(R){var x=R.split(":"),b=x.shift().trim();if(b){var d=x.join(":").trim();g.append(b,d)}}),g}B.call(D.prototype);function O(m,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new k(g.headers),this.url=g.url||"",this._initBody(m)}B.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})},O.error=function(){var m=new O(null,{status:0,statusText:""});return m.type="error",m};var p=[301,302,303,307,308];O.redirect=function(m,g){if(p.indexOf(g)===-1)throw new RangeError("Invalid status code");return new O(null,{status:g,headers:{location:m}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(g,M){this.message=g,this.name=M;var R=Error(g);this.stack=R.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function E(m,g){return new Promise(function(M,R){var x=new D(m,g);if(x.signal&&x.signal.aborted)return R(new a.DOMException("Aborted","AbortError"));var b=new XMLHttpRequest;function d(){b.abort()}b.onload=function(){var I={status:b.status,statusText:b.statusText,headers:G(b.getAllResponseHeaders()||"")};I.url="responseURL"in b?b.responseURL:I.headers.get("X-Request-URL");var W="response"in b?b.response:b.responseText;M(new O(W,I))},b.onerror=function(){R(new TypeError("Network request failed"))},b.ontimeout=function(){R(new TypeError("Network request failed"))},b.onabort=function(){R(new a.DOMException("Aborted","AbortError"))},b.open(x.method,x.url,!0),x.credentials==="include"?b.withCredentials=!0:x.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&u.blob&&(b.responseType="blob"),x.headers.forEach(function(I,W){b.setRequestHeader(W,I)}),x.signal&&(x.signal.addEventListener("abort",d),b.onreadystatechange=function(){b.readyState===4&&x.signal.removeEventListener("abort",d)}),b.send(typeof x._bodyInit=="undefined"?null:x._bodyInit)})}return E.polyfill=!0,o.fetch||(o.fetch=E,o.Headers=k,o.Request=D,o.Response=O),a.Headers=k,a.Request=D,a.Response=O,a.fetch=E,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(pd,pd.exports);var Rz=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dd,"__esModule",{value:!0});dd.fetchJson=void 0;const Bz=Rz(pd.exports);async function Uz(t,e={}){e.body&&Object.assign(e,{body:JSON.stringify(e.body),headers:{"Content-Type":"application/json"}});const r=await Bz.default(t,e);if(!r.ok){const n=await r.text();throw new Error(`HTTP request to '${t}' failed with status '${r.statusText}': ${n}`)}return r.json()}dd.fetchJson=Uz;var rc={},jz=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zz=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qz=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jz(e,t,r);return zz(e,t),e},g5=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rc,"__esModule",{value:!0});rc.StreamUtils=void 0;const Gi=g5(Mo),vd=g5(Kh.exports),y5=qz(Tr),md=Nm,_g=xi;class Yn{static streamIdFromState(e){return new _g.StreamID(e.type,e.log[0].cid)}static serializeCommit(e){const r=vd.default(e);return Yn.isSignedCommitContainer(r)?(r.jws.link=r.jws.link.toString(),r.linkedBlock=y5.toString(r.linkedBlock,"base64"),r):(Yn.isSignedCommit(e)&&(r.link=r.link.toString()),Yn.isAnchorCommit(e)&&(r.proof=r.proof.toString()),r.id&&(r.id=r.id.toString()),r.prev&&(r.prev=r.prev.toString()),r)}static deserializeCommit(e){const r=vd.default(e);return Yn.isSignedCommitContainer(r)?(r.jws.link=new Gi.default(r.jws.link),r.linkedBlock=y5.fromString(r.linkedBlock,"base64"),r):(Yn.isSignedCommit(r)&&(r.link=new Gi.default(r.link)),Yn.isAnchorCommit(r)&&(r.proof=new Gi.default(r.proof)),r.id&&(r.id=new Gi.default(r.id)),r.prev&&(r.prev=new Gi.default(r.prev)),r)}static serializeState(e){const r=vd.default(e);return r.log=r.log.map(n=>Nr(Se({},n),{cid:n.cid.toString()})),r.anchorStatus!=null&&(r.anchorStatus=md.AnchorStatus[r.anchorStatus]),r.anchorScheduledFor!=null&&(r.anchorScheduledFor=new Date(r.anchorScheduledFor).toISOString()),r.anchorProof!=null&&(r.anchorProof.txHash=r.anchorProof.txHash.toString(),r.anchorProof.root=r.anchorProof.root.toString()),r.lastAnchored!=null&&(r.lastAnchored=r.lastAnchored.toString()),r.doctype=_g.StreamType.nameByCode(r.type),r}static deserializeState(e){const r=vd.default(e);r.doctype&&(r.type=_g.StreamType.codeByName(r.doctype),delete r.doctype),r.log=r.log.map(i=>Nr(Se({},i),{cid:new Gi.default(i.cid)})),r.anchorProof&&(r.anchorProof.txHash=new Gi.default(r.anchorProof.txHash),r.anchorProof.root=new Gi.default(r.anchorProof.root));let n=!0;return r.anchorStatus&&(r.anchorStatus=md.AnchorStatus[r.anchorStatus],n=r.anchorStatus!==md.AnchorStatus.FAILED&&r.anchorStatus!==md.AnchorStatus.ANCHORED),r.anchorScheduledFor&&(n?r.anchorScheduledFor=Date.parse(r.anchorScheduledFor):delete r.anchorScheduledFor),r.lastAnchored&&(r.lastAnchored=new Gi.default(r.lastAnchored)),r}static statesEqual(e,r){return JSON.stringify(Yn.serializeState(e))===JSON.stringify(Yn.serializeState(r))}static isStateSupersetOf(e,r){if(e.log.length<r.log.length)return!1;for(const n in r.log)if(!e.log[n].cid.equals(r.log[n].cid))return!1;return!0}static async convertCommitToSignedCommitContainer(e,r){if(Yn.isSignedCommit(e)){const n=await r.block.get(e.link);return{jws:e,linkedBlock:n.data}}return e}static isSignedCommitContainer(e){return e&&e.jws!==void 0}static isSignedCommit(e){return e&&e.link!==void 0}static isAnchorCommit(e){return e&&e.proof!==void 0}}rc.StreamUtils=Yn;var gd={};function Hz(t,e){return function(r){return[Ai(t,e)(r),Ai(z8(t,e))(r)]}}function Wz(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dg.apply(void 0,Dt([],xt(Ta(t))))}var Gz=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",audit:rg,auditTime:H8,buffer:W8,bufferCount:G8,bufferTime:V8,bufferToggle:K8,bufferWhen:J8,catchError:ng,combineAll:Q8,combineLatestAll:og,combineLatest:ag,combineLatestWith:Z8,concat:t4,concatAll:sd,concatMap:ld,concatMapTo:e4,concatWith:r4,connect:cd,count:n4,debounce:i4,debounceTime:o4,defaultIfEmpty:ec,delay:a4,delayWhen:fd,dematerialize:u4,distinct:s4,distinctUntilChanged:lg,distinctUntilKeyChanged:l4,elementAt:c4,endWith:f4,every:h4,exhaust:d4,exhaustAll:cg,exhaustMap:fg,expand:p4,filter:Ai,finalize:v4,find:m4,findIndex:y4,first:b4,groupBy:_4,ignoreElements:ug,isEmpty:w4,last:x4,map:Wi,mapTo:sg,materialize:D4,max:E4,merge:C4,mergeAll:Xl,flatMap:S4,mergeMap:On,mergeMapTo:A4,mergeScan:k4,mergeWith:M4,min:I4,multicast:hd,observeOn:Jl,onErrorResumeNext:j8,pairwise:T4,partition:Hz,pluck:P4,publish:N4,publishBehavior:F4,publishLast:O4,publishReplay:$4,race:Wz,raceWith:dg,reduce:rs,repeat:L4,repeatWhen:R4,retry:B4,retryWhen:U4,refCount:Um,sample:pg,sampleTime:j4,scan:vg,sequenceEqual:z4,share:mg,shareReplay:H4,single:W4,skip:G4,skipLast:V4,skipUntil:K4,skipWhile:J4,startWith:Y4,subscribeOn:Yl,switchAll:X4,switchMap:ns,switchMapTo:Q4,switchScan:Z4,take:Pa,takeLast:hg,takeUntil:e5,takeWhile:t5,tap:r5,throttle:yg,throttleTime:i5,throwIfEmpty:tc,timeInterval:o5,timeout:Qm,timeoutWith:a5,timestamp:u5,toArray:ig,window:s5,windowCount:l5,windowTime:c5,windowToggle:f5,windowWhen:h5,withLatestFrom:d5,zip:v5,zipAll:p5,zipWith:m5}),Vz=Ft(Gz);Object.defineProperty(gd,"__esModule",{value:!0});gd.TestUtils=void 0;const b5=Vz,Kz=bg,Jz=xi;class Yz extends Kz.BehaviorSubject{constructor(e){super(e);this.state=this.value,this.id=new Jz.StreamID(this.state.type,this.state.log[0].cid)}}class Xz{static registerChangeListener(e){return e.pipe(b5.take(1)).toPromise()}static async waitForState(e,r,n,i){if(n(e.state))return;const o=new Promise(u=>setTimeout(u,r)),a=e.pipe(b5.filter(u=>n(u))).toPromise();await Promise.race([o,a]),n(e.state)||i()}static runningState(e){return new Yz(e)}}gd.TestUtils=Xz;var yd={},Na={},bd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerProviderBase=t.ServiceLoggerBase=t.DiagnosticsLoggerBase=t.LogLevel=t.LogStyle=void 0;var e;(function(u){u.verbose="info",u.info="info",u.imp="imp",u.warn="warn",u.err="err"})(e=t.LogStyle||(t.LogStyle={}));var r;(function(u){u[u.verbose=0]="verbose",u[u.debug=1]="debug",u[u.important=2]="important",u[u.warn=3]="warn"})(r=t.LogLevel||(t.LogLevel={}));class n{constructor(s,l,c){this.logLevel=s,this.includeStackTrace=this.logLevel<=r.debug,this.logToFiles=l,this.fileLogger=c}write(s){this.debug(s)}verbose(s){this.logLevel>r.verbose||this.log(e.verbose,s)}debug(s){this.logLevel>r.debug||this.log(e.info,s)}imp(s){this.logLevel>r.important||this.log(e.imp,s)}warn(s){this.log(e.warn,s)}err(s){this.log(e.err,s)}log(s,l){throw new Error("Not implmented in base class")}}t.DiagnosticsLoggerBase=n;class i{constructor(s,l,c,h){this.service=s,this.logLevel=l,this.logToFiles=c,this.stream=h,this.logToConsole=this.logLevel<=r.debug}log(s){this.write(this.format(s))}write(s){s=`[${new Date().toUTCString()}] service=${this.service} ${s}`,this.logToConsole&&console.log(s)}format(s){throw new Error("Not implmented in base class")}}t.ServiceLoggerBase=i;const o={logLevel:r.important,logToFiles:!1};class a{constructor(s={},l){if(this.config={logLevel:s.logLevel!==void 0?s.logLevel:o.logLevel,logToFiles:s.logToFiles!==void 0?s.logToFiles:o.logToFiles,logDirectory:s.logDirectory},this._fileLoggerFactory=l,this.config.logToFiles&&!this._fileLoggerFactory)throw new Error("Must provide a FileLoggerFactory in order to log to files");this._diagnosticLogger=this._makeDiagnosticLogger()}_makeDiagnosticLogger(){throw new Error("Not implmented in base class")}getDiagnosticsLogger(){return this._diagnosticLogger}makeServiceLogger(s){throw new Error("Not implmented in base class")}}t.LoggerProviderBase=a})(bd);var Qz=nc;nc.flatten=nc;nc.unflatten=x5;function _5(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function w5(t){return t}function nc(t,e){e=e||{};const r=e.delimiter||".",n=e.maxDepth,i=e.transformKey||w5,o={};function a(u,s,l){l=l||1,Object.keys(u).forEach(function(c){const h=u[c],v=e.safe&&Array.isArray(h),y=Object.prototype.toString.call(h),k=_5(h),_=y==="[object Object]"||y==="[object Array]",S=s?s+r+i(c):i(c);if(!v&&!k&&_&&Object.keys(h).length&&(!e.maxDepth||l<n))return a(h,S,l+1);o[S]=h})}return a(t),o}function x5(t,e){e=e||{};const r=e.delimiter||".",n=e.overwrite||!1,i=e.transformKey||w5,o={};if(_5(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function u(c){const h=Number(c);return isNaN(h)||c.indexOf(".")!==-1||e.object?c:h}function s(c,h,v){return Object.keys(v).reduce(function(y,k){return y[c+r+k]=v[k],y},h)}function l(c){const h=Object.prototype.toString.call(c),v=h==="[object Array]",y=h==="[object Object]";if(c){if(v)return!c.length;if(y)return!Object.keys(c).length}else return!0}return t=Object.keys(t).reduce(function(c,h){const v=Object.prototype.toString.call(t[h]);return!(v==="[object Object]"||v==="[object Array]")||l(t[h])?(c[h]=t[h],c):s(h,c,nc(t[h],e))},{}),Object.keys(t).forEach(function(c){const h=c.split(r).map(i);let v=u(h.shift()),y=u(h[0]),k=o;for(;y!==void 0;){if(v==="__proto__")return;const _=Object.prototype.toString.call(k[v]),S=_==="[object Object]"||_==="[object Array]";if(!n&&!S&&typeof k[v]!="undefined")return;(n&&!S||!n&&k[v]==null)&&(k[v]=typeof y=="number"&&!e.object?[]:{}),k=k[v],h.length>0&&(v=u(h.shift()),y=u(h[0]))}k[v]=x5(t[c],e)}),o}var Zz=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});Na.ServiceLogger=Na.DiagnosticsLogger=void 0;const D5=bd,eq=Zz(Qz),tq={info:console.log,imp:console.log,warn:console.warn,err:console.error};class rq extends D5.DiagnosticsLoggerBase{constructor(e){super(e,!1);this.logger=tq}log(e,r){this.logger[e](r)}}Na.DiagnosticsLogger=rq;class nq extends D5.ServiceLoggerBase{constructor(e,r){super(e,r,!1)}format(e){return JSON.stringify(eq.default(e))}}Na.ServiceLogger=nq;Object.defineProperty(yd,"__esModule",{value:!0});yd.LoggerProvider=void 0;const E5=Na,iq=bd;class oq extends iq.LoggerProviderBase{_makeDiagnosticLogger(){return new E5.DiagnosticsLogger(this.config.logLevel)}makeServiceLogger(e){return new E5.ServiceLogger(e,this.config.logLevel)}}yd.LoggerProvider=oq;var S5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Networks=void 0,function(e){e.MAINNET="mainnet",e.ELP="elp",e.TESTNET_CLAY="testnet-clay",e.DEV_UNSTABLE="dev-unstable",e.LOCAL="local",e.INMEMORY="inmemory"}(t.Networks||(t.Networks={}))})(S5);var A5={};Object.defineProperty(A5,"__esModule",{value:!0});var _d={};Object.defineProperty(_d,"__esModule",{value:!0});_d.UnreachableCaseError=void 0;class aq extends Error{constructor(e,r){super(`Unhandled ${JSON.stringify(e)}: ${r}`)}}_d.UnreachableCaseError=aq;var k5={};Object.defineProperty(k5,"__esModule",{value:!0});var wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.StreamStateSubject=void 0;const uq=bg,sq=rc;class lq extends uq.BehaviorSubject{next(e){const r=this.value;sq.StreamUtils.statesEqual(r,e)||super.next(e)}}wd.StreamStateSubject=lq;var xd={};Object.defineProperty(xd,"__esModule",{value:!0});xd.SubscriptionSet=void 0;class cq{constructor(e=new Set){this.subscriptions=e}add(e){e.add(()=>{this.subscriptions.delete(e)}),this.subscriptions.add(e)}unsubscribe(){this.subscriptions.forEach(e=>e.unsubscribe())}}xd.SubscriptionSet=cq;(function(t){var e=re&&re.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=re&&re.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(G6,t),r(V6,t),r(K6,t),r(Pm,t),r(Nm,t),r(dd,t),r(rc,t),r(gd,t),r(yd,t),r(Na,t),r(S5,t),r(bd,t),r(A5,t),r(_d,t),r(k5,t),r(wd,t),r(xd,t)})(Aa);var C5={},fq=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),M5="%[a-f0-9]{2}",I5=new RegExp(M5,"gi"),T5=new RegExp("("+M5+")+","gi");function wg(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],wg(r),wg(n))}function hq(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(I5),r=1;r<e.length;r++)t=wg(e,r).join(""),e=t.match(I5);return t}}function dq(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=T5.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=hq(r[0]);n!==r[0]&&(e[r[0]]=n)}r=T5.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),o=0;o<i.length;o++){var a=i[o];t=t.replace(new RegExp(a,"g"),e[a])}return t}var pq=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return dq(t)}},vq=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},mq=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),o=0;o<n.length;o++){var a=n[o],u=t[a];(i?e.indexOf(a)!==-1:e(a,u,t))&&(r[a]=u)}return r};(function(t){const e=fq,r=pq,n=vq,i=mq,o=C=>C==null,a=Symbol("encodeFragmentIdentifier");function u(C){switch(C.arrayFormat){case"index":return L=>(P,B)=>{const U=P.length;return B===void 0||C.skipNull&&B===null||C.skipEmptyString&&B===""?P:B===null?[...P,[c(L,C),"[",U,"]"].join("")]:[...P,[c(L,C),"[",c(U,C),"]=",c(B,C)].join("")]};case"bracket":return L=>(P,B)=>B===void 0||C.skipNull&&B===null||C.skipEmptyString&&B===""?P:B===null?[...P,[c(L,C),"[]"].join("")]:[...P,[c(L,C),"[]=",c(B,C)].join("")];case"comma":case"separator":case"bracket-separator":{const L=C.arrayFormat==="bracket-separator"?"[]=":"=";return P=>(B,U)=>U===void 0||C.skipNull&&U===null||C.skipEmptyString&&U===""?B:(U=U===null?"":U,B.length===0?[[c(P,C),L,c(U,C)].join("")]:[[B,c(U,C)].join(C.arrayFormatSeparator)])}default:return L=>(P,B)=>B===void 0||C.skipNull&&B===null||C.skipEmptyString&&B===""?P:B===null?[...P,c(L,C)]:[...P,[c(L,C),"=",c(B,C)].join("")]}}function s(C){let L;switch(C.arrayFormat){case"index":return(P,B,U)=>{if(L=/\[(\d*)\]$/.exec(P),P=P.replace(/\[\d*\]$/,""),!L){U[P]=B;return}U[P]===void 0&&(U[P]={}),U[P][L[1]]=B};case"bracket":return(P,B,U)=>{if(L=/(\[\])$/.exec(P),P=P.replace(/\[\]$/,""),!L){U[P]=B;return}if(U[P]===void 0){U[P]=[B];return}U[P]=[].concat(U[P],B)};case"comma":case"separator":return(P,B,U)=>{const f=typeof B=="string"&&B.includes(C.arrayFormatSeparator),D=typeof B=="string"&&!f&&h(B,C).includes(C.arrayFormatSeparator);B=D?h(B,C):B;const $=f||D?B.split(C.arrayFormatSeparator).map(G=>h(G,C)):B===null?B:h(B,C);U[P]=$};case"bracket-separator":return(P,B,U)=>{const f=/(\[\])$/.test(P);if(P=P.replace(/\[\]$/,""),!f){U[P]=B&&h(B,C);return}const D=B===null?[]:B.split(C.arrayFormatSeparator).map($=>h($,C));if(U[P]===void 0){U[P]=D;return}U[P]=[].concat(U[P],D)};default:return(P,B,U)=>{if(U[P]===void 0){U[P]=B;return}U[P]=[].concat(U[P],B)}}}function l(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(C,L){return L.encode?L.strict?e(C):encodeURIComponent(C):C}function h(C,L){return L.decode?r(C):C}function v(C){return Array.isArray(C)?C.sort():typeof C=="object"?v(Object.keys(C)).sort((L,P)=>Number(L)-Number(P)).map(L=>C[L]):C}function y(C){const L=C.indexOf("#");return L!==-1&&(C=C.slice(0,L)),C}function k(C){let L="";const P=C.indexOf("#");return P!==-1&&(L=C.slice(P)),L}function _(C){C=y(C);const L=C.indexOf("?");return L===-1?"":C.slice(L+1)}function S(C,L){return L.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):L.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function w(C,L){L=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},L),l(L.arrayFormatSeparator);const P=s(L),B=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return B;for(const U of C.split("&")){if(U==="")continue;let[f,D]=n(L.decode?U.replace(/\+/g," "):U,"=");D=D===void 0?null:["comma","separator","bracket-separator"].includes(L.arrayFormat)?D:h(D,L),P(h(f,L),D,B)}for(const U of Object.keys(B)){const f=B[U];if(typeof f=="object"&&f!==null)for(const D of Object.keys(f))f[D]=S(f[D],L);else B[U]=S(f,L)}return L.sort===!1?B:(L.sort===!0?Object.keys(B).sort():Object.keys(B).sort(L.sort)).reduce((U,f)=>{const D=B[f];return Boolean(D)&&typeof D=="object"&&!Array.isArray(D)?U[f]=v(D):U[f]=D,U},Object.create(null))}t.extract=_,t.parse=w,t.stringify=(C,L)=>{if(!C)return"";L=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},L),l(L.arrayFormatSeparator);const P=D=>L.skipNull&&o(C[D])||L.skipEmptyString&&C[D]==="",B=u(L),U={};for(const D of Object.keys(C))P(D)||(U[D]=C[D]);const f=Object.keys(U);return L.sort!==!1&&f.sort(L.sort),f.map(D=>{const $=C[D];return $===void 0?"":$===null?c(D,L):Array.isArray($)?$.length===0&&L.arrayFormat==="bracket-separator"?c(D,L)+"[]":$.reduce(B(D),[]).join("&"):c(D,L)+"="+c($,L)}).filter(D=>D.length>0).join("&")},t.parseUrl=(C,L)=>{L=Object.assign({decode:!0},L);const[P,B]=n(C,"#");return Object.assign({url:P.split("?")[0]||"",query:w(_(C),L)},L&&L.parseFragmentIdentifier&&B?{fragmentIdentifier:h(B,L)}:{})},t.stringifyUrl=(C,L)=>{L=Object.assign({encode:!0,strict:!0,[a]:!0},L);const P=y(C.url).split("?")[0]||"",B=t.extract(C.url),U=t.parse(B,{sort:!1}),f=Object.assign(U,C.query);let D=t.stringify(f,L);D&&(D=`?${D}`);let $=k(C.url);return C.fragmentIdentifier&&($=`#${L[a]?c(C.fragmentIdentifier,L):C.fragmentIdentifier}`),`${P}${D}${$}`},t.pick=(C,L,P)=>{P=Object.assign({parseFragmentIdentifier:!0,[a]:!1},P);const{url:B,query:U,fragmentIdentifier:f}=t.parseUrl(C,P);return t.stringifyUrl({url:B,query:i(U,L),fragmentIdentifier:f},P)},t.exclude=(C,L,P)=>{const B=Array.isArray(L)?U=>!L.includes(U):(U,f)=>!L(U,f);return t.pick(C,B,P)}})(C5);var gq=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.Document=void 0;const P5=uj,yq=fj,sn=Aa,bq=xi,_q=gq(C5);class Fa extends P5.Observable{constructor(e,r,n){super(i=>{this.state$.observers.length===0&&(this.periodicSubscription=P5.timer(0,n).pipe(yq.throttle(()=>this._syncState(this.id,{sync:sn.SyncOptions.PREFER_CACHE}))).subscribe()),this.state$.subscribe(i).add(()=>{var a;this.state$.observers.length===0&&((a=this.periodicSubscription)===null||a===void 0||a.unsubscribe())})});this._apiUrl=r,this.state$=new sn.StreamStateSubject(e)}get value(){return this.state$.value}get state(){return this.state$.value}next(e){this.state$.next(e)}async _syncState(e,r){const n=await Fa._load(e,this._apiUrl,r);this.state$.next(sn.StreamUtils.deserializeState(n))}get id(){return new bq.StreamID(this.state$.value.type,this.state$.value.log[0].cid)}static async createFromGenesis(e,r,n,i,o){const{state:a}=await sn.fetchJson(e+"/streams",{method:"post",body:{type:r,genesis:sn.StreamUtils.serializeCommit(n),opts:i}});return new Fa(sn.StreamUtils.deserializeState(a),e,o)}static async applyCommit(e,r,n,i,o){const{state:a}=await sn.fetchJson(e+"/commits",{method:"post",body:{streamId:r.toString(),commit:sn.StreamUtils.serializeCommit(n),opts:i}});return new Fa(sn.StreamUtils.deserializeState(a),e,o)}static async _load(e,r,n){const i=r+"/streams/"+e.toString()+"?"+_q.default.stringify(n),{state:o}=await sn.fetchJson(i);return o}static async load(e,r,n,i){const o=await Fa._load(e,r,i);return new Fa(sn.StreamUtils.deserializeState(o),r,n)}static async loadStreamCommits(e,r){const{commits:n}=await sn.fetchJson(`${r}/commits/${e}`);return n.map(i=>({cid:i.cid,value:sn.StreamUtils.deserializeCommit(i.value)}))}complete(){this.state$.complete()}}Mh.Document=Fa;var xg={},Dd={},gr={},Ur={};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var wq=re&&re.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ur,"__esModule",{value:!0});var xq=Object.prototype.hasOwnProperty;function Dg(t,e){return xq.call(t,e)}Ur.hasOwnProperty=Dg;function N5(t){if(Array.isArray(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)r[e]=""+e;return r}if(Object.keys)return Object.keys(t);var r=[];for(var n in t)Dg(t,n)&&r.push(n);return r}Ur._objectKeys=N5;function Dq(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}Ur._deepClone=Dq;function Eq(t){for(var e=0,r=t.length,n;e<r;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}Ur.isInteger=Eq;function Eg(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}Ur.escapePathComponent=Eg;function Sq(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Ur.unescapePathComponent=Sq;function Sg(t,e){var r;for(var n in t)if(Dg(t,n)){if(t[n]===e)return Eg(n)+"/";if(typeof t[n]=="object"&&(r=Sg(t[n],e),r!=""))return Eg(n)+"/"+r}return""}Ur._getPathRecursive=Sg;function Aq(t,e){if(t===e)return"/";var r=Sg(t,e);if(r==="")throw new Error("Object not found in root");return"/"+r}Ur.getPath=Aq;function Ag(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(Ag(t[e]))return!0}else if(typeof t=="object"){for(var n=N5(t),i=n.length,e=0;e<i;e++)if(Ag(t[n[e]]))return!0}}return!1}Ur.hasUndefined=Ag;function F5(t,e){var r=[t];for(var n in e){var i=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof i!="undefined"&&r.push(n+": "+i)}return r.join(`
`)}var kq=function(t){wq(e,t);function e(r,n,i,o,a){var u=this.constructor,s=t.call(this,F5(r,{name:n,index:i,operation:o,tree:a}))||this;return s.name=n,s.index=i,s.operation=o,s.tree=a,Object.setPrototypeOf(s,u.prototype),s.message=F5(r,{name:n,index:i,operation:o,tree:a}),s}return e}(Error);Ur.PatchError=kq;var Ed={},O5=Array.isArray,$5=Object.keys,Cq=Object.prototype.hasOwnProperty,Mq=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){var n=O5(e),i=O5(r),o,a,u;if(n&&i){if(a=e.length,a!=r.length)return!1;for(o=a;o--!=0;)if(!t(e[o],r[o]))return!1;return!0}if(n!=i)return!1;var s=e instanceof Date,l=r instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==r.getTime();var c=e instanceof RegExp,h=r instanceof RegExp;if(c!=h)return!1;if(c&&h)return e.toString()==r.toString();var v=$5(e);if(a=v.length,a!==$5(r).length)return!1;for(o=a;o--!=0;)if(!Cq.call(r,v[o]))return!1;for(o=a;o--!=0;)if(u=v[o],!t(e[u],r[u]))return!1;return!0}return e!==e&&r!==r};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Mq,r=Ur;t.JsonPatchError=r.PatchError,t.deepClone=r._deepClone;var n={add:function(h,v,y){return h[v]=this.value,{newDocument:y}},remove:function(h,v,y){var k=h[v];return delete h[v],{newDocument:y,removed:k}},replace:function(h,v,y){var k=h[v];return h[v]=this.value,{newDocument:y,removed:k}},move:function(h,v,y){var k=o(y,this.path);k&&(k=r._deepClone(k));var _=a(y,{op:"remove",path:this.from}).removed;return a(y,{op:"add",path:this.path,value:_}),{newDocument:y,removed:k}},copy:function(h,v,y){var k=o(y,this.from);return a(y,{op:"add",path:this.path,value:r._deepClone(k)}),{newDocument:y}},test:function(h,v,y){return{newDocument:y,test:e(h[v],this.value)}},_get:function(h,v,y){return this.value=h[v],{newDocument:y}}},i={add:function(h,v,y){return r.isInteger(v)?h.splice(v,0,this.value):h[v]=this.value,{newDocument:y,index:v}},remove:function(h,v,y){var k=h.splice(v,1);return{newDocument:y,removed:k[0]}},replace:function(h,v,y){var k=h[v];return h[v]=this.value,{newDocument:y,removed:k}},move:n.move,copy:n.copy,test:n.test,_get:n._get};function o(h,v){if(v=="")return h;var y={op:"_get",path:v};return a(h,y),y.value}t.getValueByPointer=o;function a(h,v,y,k,_,S){if(y===void 0&&(y=!1),k===void 0&&(k=!0),_===void 0&&(_=!0),S===void 0&&(S=0),y&&(typeof y=="function"?y(v,0,h,v.path):l(v,0)),v.path===""){var w={newDocument:h};if(v.op==="add")return w.newDocument=v.value,w;if(v.op==="replace")return w.newDocument=v.value,w.removed=h,w;if(v.op==="move"||v.op==="copy")return w.newDocument=o(h,v.from),v.op==="move"&&(w.removed=h),w;if(v.op==="test"){if(w.test=e(h,v.value),w.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",S,v,h);return w.newDocument=h,w}else{if(v.op==="remove")return w.removed=h,w.newDocument=null,w;if(v.op==="_get")return v.value=h,w;if(y)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",S,v,h);return w}}else{k||(h=r._deepClone(h));var C=v.path||"",L=C.split("/"),P=h,B=1,U=L.length,f=void 0,D=void 0,$=void 0;for(typeof y=="function"?$=y:$=l;;){if(D=L[B],_&&D=="__proto__")throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(y&&f===void 0&&(P[D]===void 0?f=L.slice(0,B).join("/"):B==U-1&&(f=v.path),f!==void 0&&$(v,0,h,f)),B++,Array.isArray(P)){if(D==="-")D=P.length;else{if(y&&!r.isInteger(D))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",S,v,h);r.isInteger(D)&&(D=~~D)}if(B>=U){if(y&&v.op==="add"&&D>P.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",S,v,h);var w=i[v.op].call(v,P,D,h);if(w.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",S,v,h);return w}}else if(D&&D.indexOf("~")!=-1&&(D=r.unescapePathComponent(D)),B>=U){var w=n[v.op].call(v,P,D,h);if(w.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",S,v,h);return w}P=P[D]}}}t.applyOperation=a;function u(h,v,y,k,_){if(k===void 0&&(k=!0),_===void 0&&(_=!0),y&&!Array.isArray(v))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");k||(h=r._deepClone(h));for(var S=new Array(v.length),w=0,C=v.length;w<C;w++)S[w]=a(h,v[w],y,!0,_,w),h=S[w].newDocument;return S.newDocument=h,S}t.applyPatch=u;function s(h,v,y){var k=a(h,v);if(k.test===!1)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",y,v,h);return k.newDocument}t.applyReducer=s;function l(h,v,y,k){if(typeof h!="object"||h===null||Array.isArray(h))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",v,h,y);if(n[h.op]){if(typeof h.path!="string")throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",v,h,y);if(h.path.indexOf("/")!==0&&h.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",v,h,y);if((h.op==="move"||h.op==="copy")&&typeof h.from!="string")throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",v,h,y);if((h.op==="add"||h.op==="replace"||h.op==="test")&&h.value===void 0)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",v,h,y);if((h.op==="add"||h.op==="replace"||h.op==="test")&&r.hasUndefined(h.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",v,h,y);if(y){if(h.op=="add"){var _=h.path.split("/").length,S=k.split("/").length;if(_!==S+1&&_!==S)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",v,h,y)}else if(h.op==="replace"||h.op==="remove"||h.op==="_get"){if(h.path!==k)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",v,h,y)}else if(h.op==="move"||h.op==="copy"){var w={op:"_get",path:h.from,value:void 0},C=c([w],y);if(C&&C.name==="OPERATION_PATH_UNRESOLVABLE")throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",v,h,y)}}}else throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",v,h,y)}t.validator=l;function c(h,v,y){try{if(!Array.isArray(h))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(v)u(r._deepClone(v),r._deepClone(h),y||!0);else{y=y||l;for(var k=0;k<h.length;k++)y(h[k],k,v,void 0)}}catch(_){if(_ instanceof t.JsonPatchError)return _;throw _}}t.validate=c,t.default={JsonPatchError:t.JsonPatchError,deepClone:t.deepClone,getValueByPointer:o,applyOperation:a,applyPatch:u,applyReducer:s,validator:l,validate:c}})(Ed);var kg=re&&re.__assign||function(){return kg=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kg.apply(this,arguments)};Object.defineProperty(gr,"__esModule",{value:!0});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017 Joachim Wester
 * MIT license
 */var yr=Ur,Iq=Ed,is=Ed;gr.applyOperation=is.applyOperation;gr.applyPatch=is.applyPatch;gr.applyReducer=is.applyReducer;gr.getValueByPointer=is.getValueByPointer;gr.validate=is.validate;gr.validator=is.validator;var Sd=Ur;gr.JsonPatchError=Sd.PatchError;gr.deepClone=Sd._deepClone;gr.escapePathComponent=Sd.escapePathComponent;gr.unescapePathComponent=Sd.unescapePathComponent;var Cg=new WeakMap,Tq=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),Pq=function(){function t(e,r){this.callback=e,this.observer=r}return t}();function Nq(t){return Cg.get(t)}function Fq(t,e){return t.observers.get(e)}function Oq(t,e){t.observers.delete(e.callback)}function L5(t,e){e.unobserve()}gr.unobserve=L5;function R5(t,e){var r=[],n,i=Nq(t);if(!i)i=new Tq(t),Cg.set(t,i);else{var o=Fq(i,e);n=o&&o.observer}if(n)return n;if(n={},i.value=yr._deepClone(t),e){n.callback=e,n.next=null;var a=function(){Ad(n)},u=function(){clearTimeout(n.next),n.next=setTimeout(a)};typeof window!="undefined"&&(window.addEventListener("mouseup",u),window.addEventListener("keyup",u),window.addEventListener("mousedown",u),window.addEventListener("keydown",u),window.addEventListener("change",u))}return n.patches=r,n.object=t,n.unobserve=function(){Ad(n),clearTimeout(n.next),Oq(i,n),typeof window!="undefined"&&(window.removeEventListener("mouseup",u),window.removeEventListener("keyup",u),window.removeEventListener("mousedown",u),window.removeEventListener("keydown",u),window.removeEventListener("change",u))},i.observers.set(e,new Pq(e,n)),n}gr.observe=R5;function Ad(t,e){e===void 0&&(e=!1);var r=Cg.get(t.object);Mg(r.value,t.object,t.patches,"",e),t.patches.length&&Iq.applyPatch(r.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}gr.generate=Ad;function Mg(t,e,r,n,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=yr._objectKeys(e),a=yr._objectKeys(t),u=!1,s=a.length-1;s>=0;s--){var l=a[s],c=t[l];if(yr.hasOwnProperty(e,l)&&!(e[l]===void 0&&c!==void 0&&Array.isArray(e)===!1)){var h=e[l];typeof c=="object"&&c!=null&&typeof h=="object"&&h!=null?Mg(c,h,r,n+"/"+yr.escapePathComponent(l),i):c!==h&&(i&&r.push({op:"test",path:n+"/"+yr.escapePathComponent(l),value:yr._deepClone(c)}),r.push({op:"replace",path:n+"/"+yr.escapePathComponent(l),value:yr._deepClone(h)}))}else Array.isArray(t)===Array.isArray(e)?(i&&r.push({op:"test",path:n+"/"+yr.escapePathComponent(l),value:yr._deepClone(c)}),r.push({op:"remove",path:n+"/"+yr.escapePathComponent(l)}),u=!0):(i&&r.push({op:"test",path:n,value:t}),r.push({op:"replace",path:n,value:e}))}if(!(!u&&o.length==a.length))for(var s=0;s<o.length;s++){var l=o[s];!yr.hasOwnProperty(t,l)&&e[l]!==void 0&&r.push({op:"add",path:n+"/"+yr.escapePathComponent(l),value:yr._deepClone(e[l])})}}}function B5(t,e,r){r===void 0&&(r=!1);var n=[];return Mg(t,e,n,"",r),n}gr.compare=B5;var $q=Ed,U5=Ur;gr.default=kg({},$q,{unobserve:L5,observe:R5,generate:Ad,compare:B5,JsonPatchError:U5.PatchError,deepClone:yr._deepClone,escapePathComponent:yr.escapePathComponent,unescapePathComponent:U5.unescapePathComponent});var Lq=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rq=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bq=re&&re.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},Uq=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lq(e,t,r);return Rq(e,t),e},jq=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Oa;Object.defineProperty(Dd,"__esModule",{value:!0});Dd.TileDocument=void 0;const zq=jq(gr),qq=Uq(Tr),Hq=Do,kd=Aa,j5=xi,z5={anchor:!0,publish:!0,sync:kd.SyncOptions.PREFER_CACHE},Wq={sync:kd.SyncOptions.PREFER_CACHE},q5={anchor:!0,publish:!0,throwOnInvalidCommit:!0};function Ig(t,e){var r,n;if(typeof(t==null?void 0:t.schema)=="string")try{j5.CommitID.fromString(t.schema)}catch{throw new Error("Schema must be a CommitID")}const i={controllers:t==null?void 0:t.controllers,family:t==null?void 0:t.family,schema:(r=t==null?void 0:t.schema)===null||r===void 0?void 0:r.toString(),tags:t==null?void 0:t.tags};if(e)(t==null?void 0:t.deterministic)||(i.unique=qq.toString(Hq.randomBytes(12),"base64")),(t==null?void 0:t.forbidControllerChange)&&(i.forbidControllerChange=!0);else{if((t==null?void 0:t.deterministic)!==void 0||((n=t)===null||n===void 0?void 0:n.unique)!==void 0)throw new Error("Cannot change 'deterministic' or 'unique' properties on existing Streams");if((t==null?void 0:t.forbidControllerChange)!==void 0)throw new Error("Cannot change 'forbidControllerChange' property on existing Streams")}return Object.keys(i).forEach(o=>i[o]===void 0&&delete i[o]),i}async function H5(t){if(t.did==null)throw new Error("No DID provided");t.did.authenticated||(await t.did.authenticate(),t.loggerProvider&&t.loggerProvider.getDiagnosticsLogger().imp(`Now authenticated as DID ${t.did.id}`))}async function Cd(t,e){return await H5(t),t.did.createDagJWS(e)}async function Tg(){throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")}let ic=Oa=class extends kd.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get content(){return super.content}static async create(e,r,n,i={}){i=Se(Se({},z5),i),!(n==null?void 0:n.deterministic)&&i.syncTimeoutSeconds==null&&(i.syncTimeoutSeconds=0);const o=await Oa.makeGenesis(e,r,n);return e.createStreamFromGenesis(Oa.STREAM_TYPE_ID,o,i)}static async createFromGenesis(e,r,n={}){var i;n=Se(Se({},z5),n),((i=r.header)===null||i===void 0?void 0:i.unique)&&n.syncTimeoutSeconds==null&&(n.syncTimeoutSeconds=0);const o=r.data?await Cd(e,r):r;return e.createStreamFromGenesis(Oa.STREAM_TYPE_ID,o,n)}static async load(e,r,n={}){n=Se(Se({},Wq),n);const i=j5.StreamRef.from(r);if(i.type!=Oa.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${Oa.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}async update(e,r,n={}){n=Se(Se({},q5),n);const i=await this.makeCommit(this.api,e,r),o=await this.api.applyCommit(this.id,i,n);this.state$.next(o.state)}async patch(e,r={}){r=Se(Se({},q5),r);const i={header:Ig(this.metadata,!1),data:e,prev:this.tip,id:this.state$.id.cid},o=await Cd(this.api,i),a=await this.api.applyCommit(this.id,o,r);this.state$.next(a.state)}makeReadOnly(){this.update=Tg,this.patch=Tg,this.sync=Tg,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}async makeCommit(e,r,n){var i;const o=Ig(n,!1);if(r==null&&(r=this.content),o.controllers&&((i=o.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const a=zq.default.compare(this.content,r),u={header:o,data:a,prev:this.tip,id:this.state.log[0].cid};return Cd(e,u)}static async makeGenesis(e,r,n){var i;if(n||(n={}),!n.controllers||n.controllers.length===0)if(e.did)await H5(e),n.controllers=[e.did.id];else throw new Error("No controllers specified");if(((i=n.controllers)===null||i===void 0?void 0:i.length)!==1)throw new Error("Exactly one controller must be specified");const o=Ig(n,!0);if((n==null?void 0:n.deterministic)&&r)throw new Error("Initial content must be null when creating a deterministic Tile document");return r==null?{header:o}:await Cd(e,{data:r,header:o})}};ic.STREAM_TYPE_NAME="tile";ic.STREAM_TYPE_ID=0;ic=Oa=Bq([kd.StreamStatic()],ic);Dd.TileDocument=ic;(function(t){var e=re&&re.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=re&&re.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Dd,t)})(xg);var W5={},Md={},Vi={},Pg={},Id={},Td={};Object.defineProperty(Td,"__esModule",{value:!0});const G5={name:"chainId",regex:"[-:a-zA-Z0-9]{5,64}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,16}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,47}"}}}},Gq={name:"accountId",regex:"[-@:a-zA-Z0-9]{7,128}",parameters:{delimiter:"@",values:{0:{name:"address",regex:"[a-zA-Z0-9]{1,63}"},1:G5}}};Td.CAIP={"2":G5,"10":Gq};var $a={};Object.defineProperty($a,"__esModule",{value:!0});function Ng(t,e){return t.split(e.parameters.delimiter)}$a.splitParams=Ng;function Vq(t,e){const r=Ng(t,e),n={};return r.forEach((i,o)=>{n[e.parameters.values[o].name]=i}),n}$a.getParams=Vq;function V5(t,e){return Object.values(e.parameters.values).map(r=>{const n=t[r.name];return typeof n=="string"?n:V5(n,r)}).join(e.parameters.delimiter)}$a.joinParams=V5;function Kq(t,e){if(!new RegExp(e.regex).test(t))return!1;const r=Ng(t,e);return!(r.length!==Object.keys(e.parameters.values).length||r.map((i,o)=>new RegExp(e.parameters.values[o].regex).test(i)).filter(i=>!!i).length!==r.length)}$a.isValidId=Kq;Object.defineProperty(Id,"__esModule",{value:!0});const Jq=Td,Fg=$a;class os{constructor(e){typeof e=="string"&&(e=os.parse(e)),this.namespace=e.namespace,this.reference=e.reference}static parse(e){if(!Fg.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new os(Fg.getParams(e,this.spec)).toJson()}static format(e){return Fg.joinParams(e,this.spec)}toString(){return os.format(this.toJson())}toJson(){return{namespace:this.namespace,reference:this.reference}}}Id.ChainID=os;os.spec=Jq.CAIP["2"];Object.defineProperty(Pg,"__esModule",{value:!0});const Yq=Id,Xq=Td,Og=$a;class as{constructor(e){typeof e=="string"&&(e=as.parse(e)),this.chainId=new Yq.ChainID(e.chainId),this.address=e.address}static parse(e){if(!Og.isValidId(e,this.spec))throw new Error(`Invalid ${this.spec.name} provided: ${e}`);return new as(Og.getParams(e,this.spec)).toJson()}static format(e){return Og.joinParams(e,this.spec)}toString(){return as.format(this.toJson())}toJson(){return{chainId:this.chainId.toJson(),address:this.address}}}Pg.AccountID=as;as.spec=Xq.CAIP["10"];(function(t){function e(r){for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n])}Object.defineProperty(t,"__esModule",{value:!0}),e(Pg),e(Id)})(Vi);var Qq=re&&re.__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(a=t[u])&&(o=(i<3?a(o):i>3?a(e,r,o):a(e,r))||o);return i>3&&o&&Object.defineProperty(e,r,o),o},La;Object.defineProperty(Md,"__esModule",{value:!0});Md.Caip10Link=void 0;const Pd=Aa,Zq=xi,eH=Vi,$g=()=>{throw new Error("Historical stream commits cannot be modified. Load the stream without specifying a commit to make updates.")},K5={anchor:!1,publish:!0,sync:Pd.SyncOptions.PREFER_CACHE},J5={anchor:!0,publish:!0,throwOnInvalidCommit:!0},tH={sync:Pd.SyncOptions.PREFER_CACHE};let oc=La=class extends Pd.Stream{constructor(){super(...arguments);this._isReadOnly=!1}get did(){return this.content}static async fromAccount(e,r,n={}){n=Se(Se({},K5),n);const i=new eH.AccountID(r),o=La.makeGenesis(i);return La.fromGenesis(e,o,n)}static async fromGenesis(e,r,n={}){return n=Se(Se({},K5),n),e.createStreamFromGenesis(La.STREAM_TYPE_ID,r,n)}async setDid(e,r,n={}){n=Se(Se({},J5),n);const i=typeof e=="string"?e:e.id,o=await r.createLink(i);return this.setDidProof(o,n)}async setDidProof(e,r={}){r=Se(Se({},J5),r);const n=this.makeCommit(e),i=await this.api.applyCommit(this.id,n,r);this.state$.next(i.state)}static async load(e,r,n={}){n=Se(Se({},tH),n);const i=Zq.StreamRef.from(r);if(i.type!=La.STREAM_TYPE_ID)throw new Error(`StreamID ${i.toString()} does not refer to a '${La.STREAM_TYPE_NAME}' stream, but to a ${i.typeName}`);return e.loadStream(i,n)}static makeGenesis(e){return e.chainId.namespace==="eip155"&&(e.address=e.address.toLowerCase()),{header:{controllers:[e.toString()],family:`caip10-${e.chainId.toString()}`}}}makeCommit(e){return{data:e,prev:this.tip,id:this.state$.id.cid}}makeReadOnly(){this.setDidProof=$g,this.setDid=$g,this.sync=$g,this._isReadOnly=!0}get isReadOnly(){return this._isReadOnly}};oc.STREAM_TYPE_NAME="caip10-link";oc.STREAM_TYPE_ID=1;oc=La=Qq([Pd.StreamStatic()],oc);Md.Caip10Link=oc;(function(t){var e=re&&re.__createBinding||(Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]}),r=re&&re.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Md,t)})(W5);var Nd={};Object.defineProperty(Nd,"__esModule",{value:!0});Nd.RemotePinApi=void 0;const Lg=Aa;class rH{constructor(e){this._apiUrl=e}async add(e){await Lg.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"post"})}async rm(e,r){await Lg.fetchJson(this._apiUrl+`/pins/${e.toString()}`,{method:"delete",body:{opts:r}})}async ls(e){let r=this._apiUrl+"/pins";e&&(r+=`/${e.toString()}`);const n=await Lg.fetchJson(r),{pinnedStreamIds:i}=n;return{[Symbol.asyncIterator](){let o=0;return{next(){return o===i.length?Promise.resolve({value:null,done:!0}):Promise.resolve({value:i[o++],done:!1})}}}}}}Nd.RemotePinApi=rH;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CeramicClient=t.DEFAULT_CLIENT_CONFIG=void 0;const e=Io,r=Mh,n=Aa,i=xg,o=W5,a=xi,u=Nd,s="/api/v0",l="http://localhost:7007";t.DEFAULT_CLIENT_CONFIG={syncInterval:5e3};const c={anchor:!0,publish:!0,sync:n.SyncOptions.PREFER_CACHE},h={anchor:!0,publish:!0,sync:n.SyncOptions.PREFER_CACHE},v={sync:n.SyncOptions.PREFER_CACHE};class y{constructor(_=l,S={}){this._config=Se(Se({},t.DEFAULT_CLIENT_CONFIG),S),this._apiUrl=e.combineURLs(_,s),this._streamCache=new Map,this.context={api:this},this.pin=new u.RemotePinApi(this._apiUrl),this._streamConstructors={[i.TileDocument.STREAM_TYPE_ID]:i.TileDocument,[o.Caip10Link.STREAM_TYPE_ID]:o.Caip10Link}}get did(){return this.context.did}set did(_){this.context.did=_}async createStreamFromGenesis(_,S,w={}){w=Se(Se({},h),w);const C=await r.Document.createFromGenesis(this._apiUrl,_,S,w,this._config.syncInterval),L=this._streamCache.get(C.id.toString());return L?(n.StreamUtils.statesEqual(C.state,L.state)||L.next(C.state),this.buildStream(L)):(this._streamCache.set(C.id.toString(),C),this.buildStream(C))}async loadStream(_,S={}){S=Se(Se({},v),S);const w=a.StreamRef.from(_);let C=this._streamCache.get(w.baseID.toString());return C?await C._syncState(w,S):(C=await r.Document.load(w,this._apiUrl,this._config.syncInterval,S),this._streamCache.set(C.id.toString(),C)),this.buildStream(C)}async multiQuery(_){const S=_.map(C=>({streamId:typeof C.streamId=="string"?C.streamId:C.streamId.toString(),paths:C.paths,atTime:C.atTime})),w=await n.fetchJson(this._apiUrl+"/multiqueries",{method:"post",body:{queries:S}});return Object.entries(w).reduce((C,L)=>{const[P,B]=L,U=n.StreamUtils.deserializeState(B),f=new r.Document(U,this._apiUrl,this._config.syncInterval);return C[P]=this.buildStream(f),C},{})}loadStreamCommits(_){const S=e.typeStreamID(_);return r.Document.loadStreamCommits(S,this._apiUrl)}async applyCommit(_,S,w={}){w=Se(Se({},c),w);const C=e.typeStreamID(_),L=await r.Document.applyCommit(this._apiUrl,C,S,w,this._config.syncInterval),P=this._streamCache.get(C.toString());return P?(P.next(L.state),this.buildStream(L)):(this._streamCache.set(C.toString(),L),this.buildStream(L))}async requestAnchor(_,S={}){S=Se(Se({},v),S);const{anchorStatus:w}=await n.fetchJson(`${this._apiUrl}/streams/${_.toString()}/anchor`,{method:"post",body:{opts:S}});return w}addStreamHandler(_){this._streamConstructors[_.name]=_.stream_constructor}findStreamConstructor(_){const S=this._streamConstructors[_];if(S)return S;throw new Error(`Failed to find constructor for stream ${_}`)}buildStream(_){const S=this.findStreamConstructor(_.state.type);return new S(_,this.context)}async setDID(_){this.context.did=_}async getSupportedChains(){if(this._supportedChains)return this._supportedChains;const{supportedChains:_}=await n.fetchJson(this._apiUrl+"/node/chains");return this._supportedChains=_,_}async close(){Array.from(this._streamCache).map(([,_])=>{_.complete()}),this._streamCache.clear()}}t.CeramicClient=y,t.default=y})(cB);var nH={},Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});var br={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.encodeRpcMessage=ln.getConsentMessage=void 0;function iH(t,e=!0){const r={message:`Link this account to your identity

`+t};return e&&(r.timestamp=Math.floor(Date.now()/1e3),r.message+=` 
Timestamp: `+r.timestamp),r}ln.getConsentMessage=iH;function oH(t,e){return{jsonrpc:"2.0",id:1,method:t,params:e}}ln.encodeRpcMessage=oH;var aH=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uH=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X5=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aH(e,t,r);return uH(e,t),e};Object.defineProperty(br,"__esModule",{value:!0});br.authenticate=br.createLink=br.normalizeAccountId=br.isERC1271=br.isEthAddress=br.EthereumAuthProvider=void 0;const sH=Vi,us=ln,Fd=X5(Tr),lH=X5(yo),Q5={ethereumEOA:"ethereum-eoa",erc1271:"erc1271"},cH="eip155";class Rg{constructor(e,r,n={}){this.provider=e,this.address=r,this.opts=n,this.isAuthProvider=!0}async accountId(){const e=us.encodeRpcMessage("eth_chainId",[]),r=await ac(e,this.provider),n=parseInt(r,16);return new sH.AccountID({address:this.address,chainId:`${cH}:${n}`})}async authenticate(e){const r=await this.accountId();return nS(e,r,this.provider)}async createLink(e){const r=await this.accountId();return rS(e,r,this.provider,this.opts)}withAddress(e){return new Rg(this.provider,e)}}br.EthereumAuthProvider=Rg;function fH(t){return/^0x[a-fA-F0-9]{40}$/.test(t)}br.isEthAddress=fH;async function hH(t,e){const r=us.encodeRpcMessage("eth_getCode",[t,"latest"]);return ac(r,e)}async function ac(t,e){const r=(e.sendAsync?e.sendAsync:e.send).bind(e);return new Promise((n,i)=>{r(t,function(o,a){o?i(o):a.error?i(a.error):n(a.result)})})}async function Z5(t,e){const r=await hH(t.address,e).catch(()=>null);return Boolean(r&&r!=="0x"&&r!=="0x0"&&r!=="0x00")}br.isERC1271=Z5;function Bg(t){return t.address=t.address.toLowerCase(),t}br.normalizeAccountId=Bg;function eS(t){const e=Fd.fromString(t),r=Fd.toString(e,"base16");return"0x"+r}async function tS(t,e,r,n={}){const{message:i,timestamp:o}=us.getConsentMessage(t,!n.skipTimestamp),a=eS(i),u=us.encodeRpcMessage("personal_sign",[a,e.address]),s=await ac(u,r),l={version:2,type:Q5.ethereumEOA,message:i,signature:s,account:e.toString()};return n.skipTimestamp||(l.timestamp=o),l}async function dH(t,e){const r=us.encodeRpcMessage("eth_chainId",[]),n=await ac(r,e),i=parseInt(n,16);if(i!==parseInt(t.chainId.reference))throw new Error(`ChainId in provider (${i}) is different from AccountID (${t.chainId.reference})`)}async function pH(t,e,r,n){const i=(n==null?void 0:n.eoaSignAccount)||e,o=await tS(t,i,r,n);return await dH(e,r),Object.assign(o,{type:Q5.erc1271,account:e.toString()})}async function rS(t,e,r,n){return e=Bg(e),await Z5(e,r)?pH(t,e,r,n):tS(t,e,r,n)}br.createLink=rS;async function nS(t,e,r){if(e&&(e=Bg(e)),r.isAuthereum)return r.signMessageWithSigningKey(t);const n=eS(t),i=us.encodeRpcMessage("personal_sign",[n,e.address]),o=await ac(i,r),a=Fd.fromString(o.slice(2)),u=lH.hash(a);return`0x${Fd.toString(u,"base16")}`}br.authenticate=nS;var Ra={},vH=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mH=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gH=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vH(e,t,r);return mH(e,t),e};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.asTransaction=Ra.FilecoinAuthProvider=void 0;const yH=Vi,bH=ln,iS=gH(Tr);class Ug{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async accountId(){const r=`fil:${this.address[0]}`;return new yH.AccountID({address:this.address,chainId:r})}async authenticate(e){const r=jg(this.address,JSON.stringify(e));return(await this.provider.sign(this.address,r)).Signature.Data}async createLink(e){const{message:r,timestamp:n}=bH.getConsentMessage(e,!0),i=jg(this.address,r),o=await this.provider.sign(this.address,i),a=await this.accountId();return{version:2,type:"eoa-tx",message:r,signature:o.Signature.Data,account:a.toString(),timestamp:n}}withAddress(e){return new Ug(this.provider,e)}}Ra.FilecoinAuthProvider=Ug;function jg(t,e){const r=iS.toString(iS.fromString(e),"base64");return{From:t,To:t,Value:"0",Method:0,GasPrice:"1",GasLimit:1e3,Nonce:0,Params:r,GasFeeCap:"1",GasPremium:"1"}}Ra.asTransaction=jg;var uc={},_H=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wH=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xH=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_H(e,t,r);return wH(e,t),e};Object.defineProperty(uc,"__esModule",{value:!0});uc.PolkadotAuthProvider=void 0;const DH=Vi,EH=ln,oS=xH(Tr),SH=t=>`0x${oS.toString(oS.fromString(t),"base16")}`,AH="polkadot:b0a8d493285c2df73290dfb7e61f870f";class zg{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async authenticate(e){throw new Error(`Not Implemented: PolkadotAuthProvider#authenticate, ${e}`)}async createLink(e){const{message:r,timestamp:n}=EH.getConsentMessage(e),i=SH(r),o=await this.accountId(),a=await this.provider.signRaw({address:this.address,data:i,type:"bytes"});return{version:2,type:"eoa",message:r,signature:a.signature,account:o.toString(),timestamp:n}}async accountId(){return new DH.AccountID({address:this.address,chainId:AH})}withAddress(e){return new zg(this.provider,e)}}uc.PolkadotAuthProvider=zg;var Ki={},kH=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CH=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aS=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kH(e,t,r);return CH(e,t),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.toSignedPayload=Ki.toPayload=Ki.EosioAuthProvider=void 0;const MH=Vi,IH=ln,TH=br,PH=aS(yo),uS=aS(Tr),NH=12;class qg{constructor(e,r){this.provider=e,this.address=r,this.isAuthProvider=!0}async accountId(){const e=sS(await this.provider.getChainId());return new MH.AccountID({address:this.address,chainId:`eosio:${e}`})}async authenticate(e){const r=await this.accountId(),n=await Hg(e,r,this.provider),i=uS.fromString(n),o=PH.hash(i);return`0x${uS.toString(o,"base16")}`}async createLink(e){const r=IH.getConsentMessage(e),n=await this.accountId(),i=await Hg(r.message,n,this.provider);return{version:2,type:"eosio",message:r.message,signature:i,account:n.toString(),timestamp:r.timestamp}}withAddress(e){return new qg(this.provider,e)}}Ki.EosioAuthProvider=qg;function sS(t){return t.substr(0,32)}function FH(t,e){return t.replace(/\s/g," ").replace(new RegExp(`(\\S{${e}})`,"g"),"$1 ")}function lS(t,e){const{address:r,chainId:n}=e,i=`${t} [For: ${r} on chain: ${n}]`;return FH(i,NH)}Ki.toPayload=lS;async function Hg(t,e,r){e=TH.normalizeAccountId(e);const{chainId:{reference:n},address:i}=e,o=await r.getAccountName(),a=sS(await r.getChainId());if(a!==n)throw new Error(`Provider returned a different chainId than requested [returned: ${a}, requested: ${n}]`);if(o!==i)throw new Error(`Provider returned a different account than requested [returned: ${o}, requested: ${i}]`);const u=lS(t,e),[s]=await r.getKeys();return r.signArbitrary(s,u)}Ki.toSignedPayload=Hg;var Ji={},OH=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$H=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LH=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OH(e,t,r);return $H(e,t),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.CosmosAuthProvider=Ji.getMetaData=Ji.asTransaction=void 0;const RH=Vi,BH=ln,UH=yo,Od=LH(Tr),Wg=t=>Od.toString(Od.fromString(t),"base64pad");function Gg(t,e){return{fee:{amount:[{amount:"0",denom:""}],gas:"0"},memo:e,msg:[{type:"cosmos-sdk/MsgSend",value:{from_address:t,to_address:t,amount:[{amount:"0",denom:"0"}]}}]}}Ji.asTransaction=Gg;function Vg(){return{account_number:"1",chain_id:"cosmos",sequence:"0"}}Ji.getMetaData=Vg;class Kg{constructor(e,r,n){this.provider=e,this.address=r,this.chainRef=n,this.isAuthProvider=!0}async authenticate(e){const r=await this.accountId(),n=Wg(e),i=await this.provider.sign(Gg(r.address,n),Vg()),o=UH.hash(Od.fromString(JSON.stringify(i.signatures[0])));return`0x${Od.toString(o,"base16")}`}async createLink(e){const{message:r,timestamp:n}=BH.getConsentMessage(e),i=await this.accountId(),o=Wg(r),a=await this.provider.sign(Gg(i.address,o),Vg()),u=Wg(JSON.stringify(a.signatures[0]));return{version:2,message:r,signature:u,account:i.toString(),timestamp:n}}async accountId(){return new RH.AccountID({address:this.address,chainId:`cosmos:${this.chainRef}`})}withAddress(e){return new Kg(this.provider,e,this.chainRef)}}Ji.CosmosAuthProvider=Kg;var Jg={};(function(t){var e=re&&re.__createBinding||(Object.create?function(v,y,k,_){_===void 0&&(_=k),Object.defineProperty(v,_,{enumerable:!0,get:function(){return y[k]}})}:function(v,y,k,_){_===void 0&&(_=k),v[_]=y[k]}),r=re&&re.__setModuleDefault||(Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y}),n=re&&re.__importStar||function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var k in v)k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)&&e(y,v,k);return r(y,v),y};Object.defineProperty(t,"__esModule",{value:!0}),t.TezosAuthProvider=t.TEZOS_CHAIN_REF=t.TEZOS_NAMESPACE=void 0;const i=Vi,o=ln,a=yo,u=n(Tr);t.TEZOS_NAMESPACE="tezos",t.TEZOS_CHAIN_REF="NetXdQprcVkpaWU";function s(v){return u.toString(u.fromString(v,"utf8"),"base16")}async function l(v,y){const{prefixSig:k}=await v.signer.sign(s(y));return k}async function c(v){return v.signer.publicKeyHash()}class h{constructor(y){if(this.provider=y,this.isAuthProvider=!0,y.signer===void 0)throw new Error("a `Signer` is required to use the `TezosAuthProvider`")}async authenticate(y){const k=await l(this.provider,y),_=a.hash(u.fromString(k));return`0x${u.toString(_,"base16")}`}async createLink(y){const{message:k,timestamp:_}=o.getConsentMessage(y),S=await l(this.provider,k),w=await c(this.provider),C=new i.AccountID({address:w,chainId:`${t.TEZOS_NAMESPACE}:${t.TEZOS_CHAIN_REF}`});return{version:2,message:k,signature:S,account:C.toString(),timestamp:_}}async accountId(){const y=await c(this.provider);return new i.AccountID({address:y,chainId:`${t.TEZOS_NAMESPACE}:${t.TEZOS_CHAIN_REF}`})}withAddress(y){throw new Error("TezosAuthProvider does not support withAddress")}}t.TezosAuthProvider=h})(Jg);var $d={},jH=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zH=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qH=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jH(e,t,r);return zH(e,t),e};Object.defineProperty($d,"__esModule",{value:!0});$d.NearAuthProvider=void 0;const cS=Vi,HH=ln,WH=yo,Yg=qH(Tr),fS=t=>Yg.toString(Yg.fromString(t),"base64pad");class Xg{constructor(e,r,n){this.provider=e,this.address=r,this.chainRef=n,this.isAuthProvider=!0}async authenticate(e){const r=fS(e),{signature:n}=await this.provider.sign(r),i=WH.hash(n);return`0x${Yg.toString(i,"base16")}`}async createLink(e){const{message:r,timestamp:n}=HH.getConsentMessage(e),i=fS(r),{signature:o,account:a}=await this.provider.sign(i),u=new cS.AccountID({address:a,chainId:`near:${this.chainRef}`});return{version:2,message:r,signature:o,account:u.toString(),timestamp:n}}async accountId(){return new cS.AccountID({address:this.address,chainId:`near:${this.chainRef}`})}withAddress(e){return new Xg(this.provider,e,this.chainRef)}}$d.NearAuthProvider=Xg;(function(t){var e=re&&re.__createBinding||(Object.create?function(y,k,_,S){S===void 0&&(S=_),Object.defineProperty(y,S,{enumerable:!0,get:function(){return k[_]}})}:function(y,k,_,S){S===void 0&&(S=_),y[S]=k[_]}),r=re&&re.__setModuleDefault||(Object.create?function(y,k){Object.defineProperty(y,"default",{enumerable:!0,value:k})}:function(y,k){y.default=k}),n=re&&re.__exportStar||function(y,k){for(var _ in y)_!=="default"&&!Object.prototype.hasOwnProperty.call(k,_)&&e(k,y,_)},i=re&&re.__importStar||function(y){if(y&&y.__esModule)return y;var k={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&e(k,y,_);return r(k,y),k};Object.defineProperty(t,"__esModule",{value:!0}),t.TezosAuthProvider=t.NearAuthProvider=t.CosmosAuthProvider=t.PolkadotAuthProvider=t.EosioAuthProvider=t.FilecoinAuthProvider=t.AvalancheAuthProvider=t.EthereumAuthProvider=t.tezos=t.cosmos=t.eosio=t.polkadot=t.filecoin=t.ethereum=void 0,n(Y5,t),t.ethereum=i(br),n(ln,t),t.filecoin=i(Ra),t.polkadot=i(uc),t.eosio=i(Ki),t.cosmos=i(Ji),t.tezos=i(Jg);var o=br;Object.defineProperty(t,"EthereumAuthProvider",{enumerable:!0,get:function(){return o.EthereumAuthProvider}});var a=br;Object.defineProperty(t,"AvalancheAuthProvider",{enumerable:!0,get:function(){return a.EthereumAuthProvider}});var u=Ra;Object.defineProperty(t,"FilecoinAuthProvider",{enumerable:!0,get:function(){return u.FilecoinAuthProvider}});var s=Ki;Object.defineProperty(t,"EosioAuthProvider",{enumerable:!0,get:function(){return s.EosioAuthProvider}});var l=uc;Object.defineProperty(t,"PolkadotAuthProvider",{enumerable:!0,get:function(){return l.PolkadotAuthProvider}});var c=Ji;Object.defineProperty(t,"CosmosAuthProvider",{enumerable:!0,get:function(){return c.CosmosAuthProvider}});var h=$d;Object.defineProperty(t,"NearAuthProvider",{enumerable:!0,get:function(){return h.NearAuthProvider}});var v=Jg;Object.defineProperty(t,"TezosAuthProvider",{enumerable:!0,get:function(){return v.TezosAuthProvider}})})(nH);function GH(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Qg(t)}function Ld(t,e){return Ld=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Ld(t,e)}function VH(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Rd(t,e,r){return VH()?Rd=Reflect.construct:Rd=function(i,o,a){var u=[null];u.push.apply(u,o);var s=Function.bind.apply(i,u),l=new s;return a&&Ld(l,a.prototype),l},Rd.apply(null,arguments)}function KH(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Zg(t){var e=typeof Map=="function"?new Map:void 0;return Zg=function(n){if(n===null||!KH(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Rd(n,arguments,Qg(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Ld(i,n)},Zg(t)}function JH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YH(t,e){return e={exports:{}},t(e,e.exports),e.exports}YH(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(x,b,d){return Object.defineProperty(x,b,{value:d,enumerable:!0,configurable:!0,writable:!0}),x[b]}try{c({},"")}catch{c=function(b,d,I){return b[d]=I}}function h(x,b,d,I){var W=b&&b.prototype instanceof C?b:C,Q=Object.create(W.prototype),j=new g(I||[]);return Q._invoke=O(x,d,j),Q}r.wrap=h;function v(x,b,d){try{return{type:"normal",arg:x.call(b,d)}}catch(I){return{type:"throw",arg:I}}}var y="suspendedStart",k="suspendedYield",_="executing",S="completed",w={};function C(){}function L(){}function P(){}var B={};B[u]=function(){return this};var U=Object.getPrototypeOf,f=U&&U(U(M([])));f&&f!==n&&i.call(f,u)&&(B=f);var D=P.prototype=C.prototype=Object.create(B);L.prototype=D.constructor=P,P.constructor=L,L.displayName=c(P,l,"GeneratorFunction");function $(x){["next","throw","return"].forEach(function(b){c(x,b,function(d){return this._invoke(b,d)})})}r.isGeneratorFunction=function(x){var b=typeof x=="function"&&x.constructor;return b?b===L||(b.displayName||b.name)==="GeneratorFunction":!1},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,P):(x.__proto__=P,c(x,l,"GeneratorFunction")),x.prototype=Object.create(D),x},r.awrap=function(x){return{__await:x}};function G(x,b){function d(Q,j,N,Z){var q=v(x[Q],x,j);if(q.type==="throw")Z(q.arg);else{var K=q.arg,H=K.value;return H&&typeof H=="object"&&i.call(H,"__await")?b.resolve(H.__await).then(function(A){d("next",A,N,Z)},function(A){d("throw",A,N,Z)}):b.resolve(H).then(function(A){K.value=A,N(K)},function(A){return d("throw",A,N,Z)})}}var I;function W(Q,j){function N(){return new b(function(Z,q){d(Q,j,Z,q)})}return I=I?I.then(N,N):N()}this._invoke=W}$(G.prototype),G.prototype[s]=function(){return this},r.AsyncIterator=G,r.async=function(x,b,d,I,W){W===void 0&&(W=Promise);var Q=new G(h(x,b,d,I),W);return r.isGeneratorFunction(b)?Q:Q.next().then(function(j){return j.done?j.value:Q.next()})};function O(x,b,d){var I=y;return function(Q,j){if(I===_)throw new Error("Generator is already running");if(I===S){if(Q==="throw")throw j;return R()}for(d.method=Q,d.arg=j;;){var N=d.delegate;if(N){var Z=p(N,d);if(Z){if(Z===w)continue;return Z}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(I===y)throw I=S,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);I=_;var q=v(x,b,d);if(q.type==="normal"){if(I=d.done?S:k,q.arg===w)continue;return{value:q.arg,done:d.done}}else q.type==="throw"&&(I=S,d.method="throw",d.arg=q.arg)}}}function p(x,b){var d=x.iterator[b.method];if(d===o){if(b.delegate=null,b.method==="throw"){if(x.iterator.return&&(b.method="return",b.arg=o,p(x,b),b.method==="throw"))return w;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var I=v(d,x.iterator,b.arg);if(I.type==="throw")return b.method="throw",b.arg=I.arg,b.delegate=null,w;var W=I.arg;if(!W)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,w;if(W.done)b[x.resultName]=W.value,b.next=x.nextLoc,b.method!=="return"&&(b.method="next",b.arg=o);else return W;return b.delegate=null,w}$(D),c(D,l,"Generator"),D[u]=function(){return this},D.toString=function(){return"[object Generator]"};function E(x){var b={tryLoc:x[0]};1 in x&&(b.catchLoc=x[1]),2 in x&&(b.finallyLoc=x[2],b.afterLoc=x[3]),this.tryEntries.push(b)}function m(x){var b=x.completion||{};b.type="normal",delete b.arg,x.completion=b}function g(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(E,this),this.reset(!0)}r.keys=function(x){var b=[];for(var d in x)b.push(d);return b.reverse(),function I(){for(;b.length;){var W=b.pop();if(W in x)return I.value=W,I.done=!1,I}return I.done=!0,I}};function M(x){if(x){var b=x[u];if(b)return b.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var d=-1,I=function W(){for(;++d<x.length;)if(i.call(x,d))return W.value=x[d],W.done=!1,W;return W.value=o,W.done=!0,W};return I.next=I}}return{next:R}}r.values=M;function R(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(m),!x)for(var b in this)b.charAt(0)==="t"&&i.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=o)},stop:function(){this.done=!0;var x=this.tryEntries[0],b=x.completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var b=this;function d(Z,q){return Q.type="throw",Q.arg=x,b.next=Z,q&&(b.method="next",b.arg=o),!!q}for(var I=this.tryEntries.length-1;I>=0;--I){var W=this.tryEntries[I],Q=W.completion;if(W.tryLoc==="root")return d("end");if(W.tryLoc<=this.prev){var j=i.call(W,"catchLoc"),N=i.call(W,"finallyLoc");if(j&&N){if(this.prev<W.catchLoc)return d(W.catchLoc,!0);if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else if(j){if(this.prev<W.catchLoc)return d(W.catchLoc,!0)}else if(N){if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,b){for(var d=this.tryEntries.length-1;d>=0;--d){var I=this.tryEntries[d];if(I.tryLoc<=this.prev&&i.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var W=I;break}}W&&(x==="break"||x==="continue")&&W.tryLoc<=b&&b<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=x,Q.arg=b,W?(this.method="next",this.next=W.finallyLoc,w):this.complete(Q)},complete:function(x,b){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&b&&(this.next=b),w},finish:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.finallyLoc===x)return this.complete(d.completion,d.afterLoc),m(d),w}},catch:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.tryLoc===x){var I=d.completion;if(I.type==="throw"){var W=I.arg;m(d)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(x,b,d){return this.delegate={iterator:M(x),resultName:b,nextLoc:d},this.method==="next"&&(this.arg=o),w}},r}(t.exports);try{regeneratorRuntime=e}catch{Function("r","regeneratorRuntime = r")(e)}});var Ba,$n;(function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"})($n||($n={}));var hS=(Ba={},Ba[$n.PARSE_ERROR]="Parse error",Ba[$n.INVALID_REQUEST]="Invalid request",Ba[$n.METHOD_NOT_FOUND]="Method not found",Ba[$n.INVALID_PARAMS]="Invalid params",Ba[$n.INTERNAL_ERROR]="Internal error",Ba);function XH(t){return-32e3>=t&&t>=-32099}function QH(t){var e;return(e=hS[t.toString()])!=null?e:XH(t)?"Server error":"Application error"}var ZH=function(t){GH(e,t);function e(n,i,o){var a;return a=t.call(this)||this,Object.setPrototypeOf(JH(a),e.prototype),a.code=n,a.data=o,a.message=i!=null?i:QH(n),a}e.fromObject=function(i){return new e(i.code,i.message,i.data)};var r=e.prototype;return r.toObject=function(){return{code:this.code,data:this.data,message:this.message}},e}(Zg(Error));function sc(t){var e=hS[t];return function(n){return new ZH(t,e,n)}}$n.PARSE_ERROR;$n.INVALID_REQUEST;$n.METHOD_NOT_FOUND;$n.INVALID_PARAMS;$n.INTERNAL_ERROR;function eW(t,e){return e={exports:{}},t(e,e.exports),e.exports}eW(function(t){var e=function(r){var n=Object.prototype,i=n.hasOwnProperty,o,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(x,b,d){return Object.defineProperty(x,b,{value:d,enumerable:!0,configurable:!0,writable:!0}),x[b]}try{c({},"")}catch{c=function(b,d,I){return b[d]=I}}function h(x,b,d,I){var W=b&&b.prototype instanceof C?b:C,Q=Object.create(W.prototype),j=new g(I||[]);return Q._invoke=O(x,d,j),Q}r.wrap=h;function v(x,b,d){try{return{type:"normal",arg:x.call(b,d)}}catch(I){return{type:"throw",arg:I}}}var y="suspendedStart",k="suspendedYield",_="executing",S="completed",w={};function C(){}function L(){}function P(){}var B={};c(B,u,function(){return this});var U=Object.getPrototypeOf,f=U&&U(U(M([])));f&&f!==n&&i.call(f,u)&&(B=f);var D=P.prototype=C.prototype=Object.create(B);L.prototype=P,c(D,"constructor",P),c(P,"constructor",L),L.displayName=c(P,l,"GeneratorFunction");function $(x){["next","throw","return"].forEach(function(b){c(x,b,function(d){return this._invoke(b,d)})})}r.isGeneratorFunction=function(x){var b=typeof x=="function"&&x.constructor;return b?b===L||(b.displayName||b.name)==="GeneratorFunction":!1},r.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,P):(x.__proto__=P,c(x,l,"GeneratorFunction")),x.prototype=Object.create(D),x},r.awrap=function(x){return{__await:x}};function G(x,b){function d(Q,j,N,Z){var q=v(x[Q],x,j);if(q.type==="throw")Z(q.arg);else{var K=q.arg,H=K.value;return H&&typeof H=="object"&&i.call(H,"__await")?b.resolve(H.__await).then(function(A){d("next",A,N,Z)},function(A){d("throw",A,N,Z)}):b.resolve(H).then(function(A){K.value=A,N(K)},function(A){return d("throw",A,N,Z)})}}var I;function W(Q,j){function N(){return new b(function(Z,q){d(Q,j,Z,q)})}return I=I?I.then(N,N):N()}this._invoke=W}$(G.prototype),c(G.prototype,s,function(){return this}),r.AsyncIterator=G,r.async=function(x,b,d,I,W){W===void 0&&(W=Promise);var Q=new G(h(x,b,d,I),W);return r.isGeneratorFunction(b)?Q:Q.next().then(function(j){return j.done?j.value:Q.next()})};function O(x,b,d){var I=y;return function(Q,j){if(I===_)throw new Error("Generator is already running");if(I===S){if(Q==="throw")throw j;return R()}for(d.method=Q,d.arg=j;;){var N=d.delegate;if(N){var Z=p(N,d);if(Z){if(Z===w)continue;return Z}}if(d.method==="next")d.sent=d._sent=d.arg;else if(d.method==="throw"){if(I===y)throw I=S,d.arg;d.dispatchException(d.arg)}else d.method==="return"&&d.abrupt("return",d.arg);I=_;var q=v(x,b,d);if(q.type==="normal"){if(I=d.done?S:k,q.arg===w)continue;return{value:q.arg,done:d.done}}else q.type==="throw"&&(I=S,d.method="throw",d.arg=q.arg)}}}function p(x,b){var d=x.iterator[b.method];if(d===o){if(b.delegate=null,b.method==="throw"){if(x.iterator.return&&(b.method="return",b.arg=o,p(x,b),b.method==="throw"))return w;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var I=v(d,x.iterator,b.arg);if(I.type==="throw")return b.method="throw",b.arg=I.arg,b.delegate=null,w;var W=I.arg;if(!W)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,w;if(W.done)b[x.resultName]=W.value,b.next=x.nextLoc,b.method!=="return"&&(b.method="next",b.arg=o);else return W;return b.delegate=null,w}$(D),c(D,l,"Generator"),c(D,u,function(){return this}),c(D,"toString",function(){return"[object Generator]"});function E(x){var b={tryLoc:x[0]};1 in x&&(b.catchLoc=x[1]),2 in x&&(b.finallyLoc=x[2],b.afterLoc=x[3]),this.tryEntries.push(b)}function m(x){var b=x.completion||{};b.type="normal",delete b.arg,x.completion=b}function g(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(E,this),this.reset(!0)}r.keys=function(x){var b=[];for(var d in x)b.push(d);return b.reverse(),function I(){for(;b.length;){var W=b.pop();if(W in x)return I.value=W,I.done=!1,I}return I.done=!0,I}};function M(x){if(x){var b=x[u];if(b)return b.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var d=-1,I=function W(){for(;++d<x.length;)if(i.call(x,d))return W.value=x[d],W.done=!1,W;return W.value=o,W.done=!0,W};return I.next=I}}return{next:R}}r.values=M;function R(){return{value:o,done:!0}}return g.prototype={constructor:g,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(m),!x)for(var b in this)b.charAt(0)==="t"&&i.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=o)},stop:function(){this.done=!0;var x=this.tryEntries[0],b=x.completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var b=this;function d(Z,q){return Q.type="throw",Q.arg=x,b.next=Z,q&&(b.method="next",b.arg=o),!!q}for(var I=this.tryEntries.length-1;I>=0;--I){var W=this.tryEntries[I],Q=W.completion;if(W.tryLoc==="root")return d("end");if(W.tryLoc<=this.prev){var j=i.call(W,"catchLoc"),N=i.call(W,"finallyLoc");if(j&&N){if(this.prev<W.catchLoc)return d(W.catchLoc,!0);if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else if(j){if(this.prev<W.catchLoc)return d(W.catchLoc,!0)}else if(N){if(this.prev<W.finallyLoc)return d(W.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,b){for(var d=this.tryEntries.length-1;d>=0;--d){var I=this.tryEntries[d];if(I.tryLoc<=this.prev&&i.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var W=I;break}}W&&(x==="break"||x==="continue")&&W.tryLoc<=b&&b<=W.finallyLoc&&(W=null);var Q=W?W.completion:{};return Q.type=x,Q.arg=b,W?(this.method="next",this.next=W.finallyLoc,w):this.complete(Q)},complete:function(x,b){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&b&&(this.next=b),w},finish:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.finallyLoc===x)return this.complete(d.completion,d.afterLoc),m(d),w}},catch:function(x){for(var b=this.tryEntries.length-1;b>=0;--b){var d=this.tryEntries[b];if(d.tryLoc===x){var I=d.completion;if(I.type==="throw"){var W=I.arg;m(d)}return W}}throw new Error("illegal catch attempt")},delegateYield:function(x,b,d){return this.delegate={iterator:M(x),resultName:b,nextLoc:d},this.method==="next"&&(this.arg=o),w}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}});var tW={},Bd={},dS={exports:{}},Ud=1;function rW(){return Ud=(Ud*9301+49297)%233280,Ud/233280}function nW(t){Ud=t}var iW={nextValue:rW,seed:nW},ey=iW,Ua="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",Fo,pS,lc;function ty(){lc=!1}function vS(t){if(!t){Fo!==Ua&&(Fo=Ua,ty());return}if(t!==Fo){if(t.length!==Ua.length)throw new Error("Custom alphabet for shortid must be "+Ua.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter(function(r,n,i){return n!==i.lastIndexOf(r)});if(e.length)throw new Error("Custom alphabet for shortid must be "+Ua.length+" unique characters. These characters were not unique: "+e.join(", "));Fo=t,ty()}}function oW(t){return vS(t),Fo}function aW(t){ey.seed(t),pS!==t&&(ty(),pS=t)}function uW(){Fo||vS(Ua);for(var t=Fo.split(""),e=[],r=ey.nextValue(),n;t.length>0;)r=ey.nextValue(),n=Math.floor(r*t.length),e.push(t.splice(n,1)[0]);return e.join("")}function mS(){return lc||(lc=uW(),lc)}function sW(t){var e=mS();return e[t]}function lW(){return Fo||Ua}var ry={get:lW,characters:oW,seed:aW,lookup:sW,shuffled:mS},ny=typeof window=="object"&&(window.crypto||window.msCrypto),iy;!ny||!ny.getRandomValues?iy=function(t){for(var e=[],r=0;r<t;r++)e.push(Math.floor(Math.random()*256));return e}:iy=function(t){return ny.getRandomValues(new Uint8Array(t))};var cW=iy,fW=function(t,e,r){for(var n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*r/e.length),o="";;)for(var a=t(i),u=i;u--;)if(o+=e[a[u]&n]||"",o.length===+r)return o},hW=ry,dW=cW,pW=fW;function vW(t){for(var e=0,r,n="";!r;)n=n+pW(dW,hW.get(),1),r=t<Math.pow(16,e+1),e++;return n}var mW=vW,jd=mW,gW=1567752802062,yW=7,zd,gS;function bW(t){var e="",r=Math.floor((Date.now()-gW)*.001);return r===gS?zd++:(zd=0,gS=r),e=e+jd(yW),e=e+jd(t),zd>0&&(e=e+jd(zd)),e=e+jd(r),e}var _W=bW,wW=ry;function xW(t){if(!t||typeof t!="string"||t.length<6)return!1;var e=new RegExp("[^"+wW.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]");return!e.test(t)}var DW=xW;(function(t){var e=ry,r=_W,n=DW,i=0;function o(l){return e.seed(l),t.exports}function a(l){return i=l,t.exports}function u(l){return l!==void 0&&e.characters(l),e.shuffled()}function s(){return r(i)}t.exports=s,t.exports.generate=s,t.exports.seed=o,t.exports.worker=a,t.exports.characters=u,t.exports.isValid=n})(dS);var EW=dS.exports;Object.defineProperty(Bd,"__esModule",{value:!0});Bd.default=yS;Bd.call=CW;var SW=EW,AW=kW(SW);function kW(t){return t&&t.__esModule?t:{default:t}}function yS(t,e){e=e||{};var r=e.addListener||window.addEventListener,n=e.removeListener||window.removeEventListener,i=e.postMessage||window.postMessage,o=e.targetOrigin||"*",a=e.getMessageData||function(u){return u.data};return function(){var u={sender:"postmsg-rpc/client",id:(0,AW.default)(),func:t,args:Array.from(arguments)},s=void 0,l=new Promise(function(c,h){var v=function y(){var k=a.apply(null,arguments);if(!!k&&!(k.sender!=="postmsg-rpc/server"||k.id!==u.id)){if(n("message",y),k.err){var _=new Error("Unexpected error calling "+t);return Object.assign(_,k.err),h(_)}c(k.res)}};s=function(){n("message",v);var k=new Error("Canceled call to "+t);k.isCanceled=!0,h(k)},r("message",v),i(u,o)});return l.cancel=function(){return s()},l}}function CW(t){return yS(t).apply(null,[].slice.call(arguments,1))}var oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.default=MW;function MW(t,e,r){r=r||{};var n=r.addListener||window.addEventListener,i=r.removeListener||window.removeEventListener,o=r.postMessage||window.postMessage,a=r.targetOrigin||"*",u=r.getMessageData||function(c){return c.data},s=r.isCallback||!1,l=function(){var h=u.apply(null,arguments);if(!!h&&!(h.sender!=="postmsg-rpc/client"||h.func!==t)){var v={sender:"postmsg-rpc/server",id:h.id},y=function(w){v.res=w,o(v,a)},k=function(w){v.err=Object.assign({message:w.message},w.output&&w.output.payload),o(v,a)};if(s)e.apply(null,h.args.concat(function(S,w){if(S)return k(S);y(w)}));else{var _=e.apply(null,h.args);Promise.resolve(_).then(y).catch(k)}}};return n("message",l),{close:function(){return i("message",l)}}}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Bd;Object.defineProperty(t,"caller",{enumerable:!0,get:function(){return n(e).default}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return e.call}});var r=oy;Object.defineProperty(t,"expose",{enumerable:!0,get:function(){return n(r).default}});function n(i){return i&&i.__esModule?i:{default:i}}})(tW);var qd={},Hd={},IW=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TW=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PW=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&IW(e,t,r);return TW(e,t),e};Object.defineProperty(Hd,"__esModule",{value:!0});Hd.keyToDidDoc=void 0;const NW=PW(Tr);function FW(t,e){const r=`did:key:${e}`,n=`${r}#${e}`;return{id:r,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:r,publicKeyBase58:NW.toString(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}Hd.keyToDidDoc=FW;var Wd={},OW=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$W=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LW=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&OW(e,t,r);return $W(e,t),e};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.keyToDidDoc=void 0;const ay=LW(Tr),RW=Kf;function BW(t){const e=new Uint8Array(t.length+2);return e[0]=236,e[1]=1,e.set(t,2),`z${ay.toString(e,"base58btc")}`}function UW(t,e){const r=`did:key:${e}`,n=`${r}#${e}`,i=RW.convertPublicKeyToX25519(t),o=`${r}#${BW(i)}`;return{id:r,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:r,publicKeyBase58:ay.toString(t,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:r,publicKeyBase58:ay.toString(i,"base58btc")}]}}Wd.keyToDidDoc=UW;var jW=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zW=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bS=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jW(e,t,r);return zW(e,t),e},_S=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qd,"__esModule",{value:!0});qd.getResolver=void 0;const wS=_S(ca),qW=_S(fa.exports),HW=bS(Hd),WW=bS(Wd),GW="application/did+ld+json",xS="application/did+json",VW={231:HW,237:WW};function DS(){return{key:async(t,e,r,n)=>{const i=n.accept||xS,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const a=qW.default.decode(e.id),u=wS.default.decode(a),s=a.slice(wS.default.decode.bytes),l=await VW[u].keyToDidDoc(s,e.id);i===GW?(l["@context"]="https://w3id.org/did/v1",o.didDocument=l):i===xS?o.didDocument=l:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(a){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=a.toString()}return o}}}qd.getResolver=DS;qd.default={getResolver:DS};var ss={},uy={},sy={exports:{}};(function(t,e){(function(r,n){n(e)})(re,function(r){const n=Symbol("newer"),i=Symbol("older");class o{constructor(h,v){typeof h!="number"&&(v=h,h=0),this.size=0,this.limit=h,this.oldest=this.newest=void 0,this._keymap=new Map,v&&(this.assign(v),h<1&&(this.limit=this.size))}_markEntryAsUsed(h){h!==this.newest&&(h[n]&&(h===this.oldest&&(this.oldest=h[n]),h[n][i]=h[i]),h[i]&&(h[i][n]=h[n]),h[n]=void 0,h[i]=this.newest,this.newest&&(this.newest[n]=h),this.newest=h)}assign(h){let v,y=this.limit||Number.MAX_VALUE;this._keymap.clear();let k=h[Symbol.iterator]();for(let _=k.next();!_.done;_=k.next()){let S=new a(_.value[0],_.value[1]);if(this._keymap.set(S.key,S),v?(v[n]=S,S[i]=v):this.oldest=S,v=S,y--==0)throw new Error("overflow")}this.newest=v,this.size=this._keymap.size}get(h){var v=this._keymap.get(h);return v?(this._markEntryAsUsed(v),v.value):void 0}set(h,v){var y=this._keymap.get(h);return y?(y.value=v,this._markEntryAsUsed(y),this):(this._keymap.set(h,y=new a(h,v)),this.newest?(this.newest[n]=y,y[i]=this.newest):this.oldest=y,this.newest=y,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var h=this.oldest;if(h)return this.oldest[n]?(this.oldest=this.oldest[n],this.oldest[i]=void 0):(this.oldest=void 0,this.newest=void 0),h[n]=h[i]=void 0,this._keymap.delete(h.key),--this.size,[h.key,h.value]}find(h){let v=this._keymap.get(h);return v?v.value:void 0}has(h){return this._keymap.has(h)}delete(h){var v=this._keymap.get(h);return v?(this._keymap.delete(v.key),v[n]&&v[i]?(v[i][n]=v[n],v[n][i]=v[i]):v[n]?(v[n][i]=void 0,this.oldest=v[n]):v[i]?(v[i][n]=void 0,this.newest=v[i]):this.oldest=this.newest=void 0,this.size--,v.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new s(this.oldest)}values(){return new l(this.oldest)}entries(){return this}[Symbol.iterator](){return new u(this.oldest)}forEach(h,v){typeof v!="object"&&(v=this);let y=this.oldest;for(;y;)h.call(v,y.value,y.key,this),y=y[n]}toJSON(){for(var h=new Array(this.size),v=0,y=this.oldest;y;)h[v++]={key:y.key,value:y.value},y=y[n];return h}toString(){for(var h="",v=this.oldest;v;)h+=String(v.key)+":"+v.value,v=v[n],v&&(h+=" < ");return h}}r.LRUMap=o;function a(c,h){this.key=c,this.value=h,this[n]=void 0,this[i]=void 0}function u(c){this.entry=c}u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let c=this.entry;return c?(this.entry=c[n],{done:!1,value:[c.key,c.value]}):{done:!0,value:void 0}};function s(c){this.entry=c}s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let c=this.entry;return c?(this.entry=c[n],{done:!1,value:c.key}):{done:!0,value:void 0}};function l(c){this.entry=c}l.prototype[Symbol.iterator]=function(){return this},l.prototype.next=function(){let c=this.entry;return c?(this.entry=c[n],{done:!1,value:c.value}):{done:!0,value:void 0}}})})(sy,sy.exports);var KW=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JW=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YW=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KW(e,t,r);return JW(e,t),e},XW=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uy,"__esModule",{value:!0});const QW=XW(pd.exports),ly=YW(Tr),ZW=sy.exports,eG="https://ipfs.3box.io",tG=100,ES=new ZW.LRUMap(tG),rG=async t=>{const e=ES.get(t);if(e)return e;const r=await QW.default(t);if(r.ok){const n=await r.json();return ES.set(t,n),n}else throw new Error("Not a valid 3ID")},nG=t=>`${eG}/did-doc?cid=${encodeURIComponent(t)}`,iG={dag:{get:async t=>rG(nG(t))}},SS=(t,e)=>{const r=new Uint8Array(t.length+2);return e?r[0]=236:r[0]=231,r[1]=1,r.set(t,2),`z${ly.toString(r,"base58btc")}`},oG=t=>{const e=t.slice(2,66);return`${(t.slice(66,130)&1)==0?"02":"03"}${e}`},aG=async(t,e=iG)=>{const r=(await e.dag.get(t)).value;let n,i;try{const s=r.publicKey.findIndex(c=>c.id.endsWith("signingKey")),l=r.publicKey.findIndex(c=>c.id.endsWith("encryptionKey"));n=r.publicKey[s].publicKeyHex,i=r.publicKey[l].publicKeyBase64}catch{throw new Error("Not a valid 3ID")}const o=oG(n),a=SS(ly.fromString(o,"base16")),u=SS(ly.fromString(i,"base64pad"),!0);return{keyDid:`did:key:${a}`,publicKeys:{[a.slice(-15)]:a,[u.slice(-15)]:u}}};uy.default=aG;var AS={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withResolutionError=t.errorRepresentation=void 0;const e=n=>({didResolutionMetadata:n,didDocument:null,didDocumentMetadata:{}});t.errorRepresentation=e;const r=n=>n().catch(i=>t.errorRepresentation({error:"invalidDid",message:i.toString()}));t.withResolutionError=r})(AS);var uG=re&&re.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sG=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lG=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uG(e,t,r);return sG(e,t),e},kS=re&&re.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ss,"__esModule",{value:!0});ss.getResolver=ss.wrapDocument=void 0;const cG=xg,fG=kS(uy),CS=lG(Tr),hG=xi,dG=kS(Mo),MS=AS,pG=Aa,IS="application/did+ld+json",cy="application/did+json",vG=t=>{try{return new dG.default(t),!0}catch{return!1}},TS=t=>new Date(t*1e3).toISOString().split(".")[0]+"Z";function fy(t,e){if(!(t&&t.publicKeys))return null;const r={id:e,verificationMethod:[],authentication:[],keyAgreement:[]};return Object.entries(t.publicKeys).reduce((n,[i,o])=>{const a=CS.fromString(o.slice(1),"base58btc"),u={id:`${e}#${i}`,type:"",controller:e,publicKeyBase58:CS.toString(a.slice(2),"base58btc")};return a[0]===231?(u.type="EcdsaSecp256k1Signature2019",n.verificationMethod.push(u),n.authentication.push(u)):a[0]===236&&(u.type="X25519KeyAgreementKey2019",n.verificationMethod.push(u),n.keyAgreement.push(u)),n},r)}ss.wrapDocument=fy;function mG(t){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r.type===pG.CommitType.ANCHOR)return r}return t[0]}function gG(t,e){const r={},{timestamp:n,cid:i}=mG(t.log),{timestamp:o,cid:a}=e.log.find(({timestamp:u})=>u>n||!n&&u)||{};return n&&(r.updated=TS(n)),o&&(r.nextUpdate=TS(o)),i&&(r.versionId=t.log.length===1?"0":i==null?void 0:i.toString()),a&&(r.nextVersionId=a.toString()),r}function yG(t=""){const e=t.split("&").find(n=>n.includes("versionId")||n.includes("version-id")),r=t.split("&").find(n=>n.includes("versionTime"));return{commit:e?e.split("=")[1]:void 0,timestamp:r?Math.floor(new Date(r.split("=")[1]).getTime()/1e3):void 0}}const bG=async(t,e,r)=>{const n=await fG.default(e),i={controllers:[n.keyDid],family:"3id",deterministic:!0},o=(await cG.TileDocument.create(t,null,i,{anchor:!1,publish:!1})).id,a=await PS(t,o.toString(),r,e);return a.didDocument===null&&(a.didDocument=fy(n,`did:3:${e}`)),a},PS=async(t,e,r,n)=>{var i;const o=hG.StreamID.fromString(e);let a;const u=[{streamId:o}];r.commit?(a=o.atCommit(r.commit),u.push({streamId:a})):r.timestamp&&u.push({streamId:o,atTime:r.timestamp});const s=await t.multiQuery(u),l=s[e].state,c=(a==null?void 0:a.toString())||Object.keys(s).find(S=>S!==e),h=((i=s[c])===null||i===void 0?void 0:i.state)||l,v=gG(h,l),y=s[c||e];if(c&&!y)throw new Error(`No resolution for commit ${c}`);const k=y.state.content,_=fy(k,`did:3:${n||e}`);return{didResolutionMetadata:{contentType:cy},didDocument:_,didDocumentMetadata:v}};function NS(t){return{"3":(e,r,n,i)=>MS.withResolutionError(async()=>{const o=i.accept||cy,a=yG(r.query),u=r.id,s=()=>vG(u)?bG(t,u,a):PS(t,u,a);switch(o){case cy:return s();case IS:{const l=await s();return l.didDocument["@context"]="https://www.w3.org/ns/did/v1",l.didResolutionMetadata.contentType=IS,l}default:return MS.errorRepresentation({error:"representationNotSupported"})}})}}ss.getResolver=NS;ss.default={getResolver:NS};const _G=async()=>({address:await _A()});class wG extends X.Component{constructor(){super(...arguments);Ay(this,"onClose",e=>{this.props.onClose&&this.props.onClose(e)})}render(){return this.props.show?X.createElement("div",{className:"modal",id:"modal"},X.createElement("div",{className:"content"},this.props.children)):null}}let FS="";const cc={postMessage:"function () { [native code] }",generateKey:"function generateKey() { [native code] }",freeze:"function freeze() { [native code] }",sign:"function sign() { [native code] }"};class xG{constructor(){this.launched=!1}async waitForLoad(){const e=this;let r="";await new Promise(async(n,i)=>{if(document.querySelector(`iframe[src^="${Ha}"]`))return n();if(e.iframe=document.createElement("iframe"),e.iframe.width="0px",e.iframe.height="0px",document.body.appendChild(e.iframe),e.iframe.src=Ha,window.crypto.subtle.generateKey.toString()===cc.generateKey){const{publicKey:s,privateKey:l}=await window.crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-384"},!1,["sign","verify"]);FS=l,r=s}else new Promise((s,l)=>{l()});n();const a=u=>{`${u.origin}`===Ha&&(u.data.method==="wallet_launched"?cc.postMessage===e.iframe.contentWindow.postMessage.toString()&&e.iframe.contentWindow.postMessage({action:"register",key:r},Ha):u.data.method==="wallet_registered"&&(window.removeEventListener("message",a,!1),e.launched=!0,cc.freeze===Object.freeze.toString()?Object.freeze(e):new Promise((s,l)=>{l()})))};window.addEventListener("message",a)}).catch(n=>{console.warn(n)})}async waitForLaunch(){const e=this;return await new Promise((r,n)=>{let i;const o=setInterval(()=>{if(e.launched)return clearInterval(o),clearTimeout(i),r()},1e3);i=setTimeout(()=>(clearInterval(o),n("Failed to load wallet in 30 seconds")),30*1e3)}).catch(r=>{console.warn(r)})}async walletPromise(e,r,n,i=30){const o=this,a=await this.sign(Nr(Se({},r),{action:e}));return new Promise((u,s)=>{cc.postMessage===o.iframe.contentWindow.postMessage.toString()?o.iframe.contentWindow.postMessage({action:"signed_message",message:a},Ha):new Promise((h,v)=>{v()});let l;const c=setTimeout(()=>{window.removeEventListener("message",l,!1),s(`Failed to process ${e} in ${i} seconds`)},i*1e3);l=h=>{`${h.origin}`===Ha&&h.data.method===n&&(clearTimeout(c),window.removeEventListener("message",l,!1),u(h.data.data))},window.addEventListener("message",l)}).catch(u=>{console.warn(u)})}async sign(e){const r=window.crypto.subtle.sign.toString(),n=new TextEncoder().encode(JSON.stringify(e));let i;return r===cc.sign?i=await window.crypto.subtle.sign({name:"ECDSA",hash:{name:"SHA-384"}},FS,n):new Promise((o,a)=>{a()}),{encoded:n,signature:i}}async autoLogin(){return this.walletPromise("getUserData",{},"wallet_userdata").catch(e=>{console.warn(e)})}async loginDiscord(e,r){return this.walletPromise("doLoginViaDiscord",{code:e,id:r},"wallet_userdata",60).catch(n=>{console.warn(n)})}async logout(){return this.walletPromise("logout",{},"logout").catch(e=>{console.warn(e)})}}const ls=new xG,DG=({address:t,setAddress:e,open:r,setOpen:n,toggleOpen:i,setLoginFrom:o})=>{const[a,u]=be.exports.useState(!1),s=async C=>{C.preventDefault(),u(!a)},[l,c]=be.exports.useState(!1),[h,v]=be.exports.useState(!1),[y,k]=be.exports.useState(null),[_,S]=be.exports.useState(!1),w=async C=>{if(C.preventDefault(),C.stopPropagation(),t)i("user");else if(!l){c(!0);try{const{address:L,profile:P}=await _G();e(L),o("metamask"),u(!1),o("metamask")}catch(L){console.warn(L)}finally{c(!1)}}};return be.exports.useEffect(()=>{const{error:C,code:L,id:P,play:B,realmId:U,twitter:f}=Xd(window.location.search);_||(S(!0),L?(c(!0),ls.waitForLaunch().then(async()=>{const{address:D,error:$}=await ls.loginDiscord(L,P);D?(e(D),o("discord"),u(!1)):$&&k(String($).toLocaleUpperCase()),window.history.pushState({},"",window.location.origin),c(!1)})):ls.waitForLaunch().then(async()=>{const{address:D,error:$}=await ls.autoLogin();D?(e(D),o("discord"),u(!1)):$&&k(String($).toLocaleUpperCase())}))},[t,e]),X.createElement("div",null,X.createElement("div",{className:ht(ue.user,l?ue.loggingIn:null),onClick:async C=>{C.preventDefault(),C.stopPropagation(),t?i("user"):(v(!0),n(null),n("login"))}},X.createElement("img",{src:"images/soul.png",className:ue.icon}),X.createElement("div",{className:ue.name,onClick:C=>{s(C)}},l?"Logging in... ":t||y||"Log in")),t?X.createElement("div",{className:ue.logoutBtn,onClick:C=>{C.preventDefault(),C.stopPropagation(),ls.logout(),e(null)}},"Logout"):"",r==="login"?X.createElement("div",{className:ue.login_options},h?X.createElement(X.Fragment,null,X.createElement(wG,{onClose:s,show:a},X.createElement("div",{className:ue.loginDiv},X.createElement("div",{className:ue.loginBtn,onClick:w},X.createElement("div",{className:ue.loginBtnText},X.createElement("img",{className:ue.loginBtnImg,src:"images/metamask.png",alt:"metamask",width:"28px"}),X.createElement("span",null,"MetaMask"))),X.createElement("a",{href:`https://discord.com/api/oauth2/authorize?client_id=${wA}&redirect_uri=${window.location.origin}%2Flogin&response_type=code&scope=identify`},X.createElement("div",{className:ue.loginBtn,style:{marginTop:"10px"}},X.createElement("div",{className:ue.loginBtnText},X.createElement("img",{className:ue.loginBtnImg,src:"images/discord-dark.png",alt:"discord",width:"28px"}),X.createElement("span",null,"Discord"))))))):""):X.createElement("div",null))},EG=(t=8)=>(Math.random().toString(36)+"00000000000000000").slice(2,t+2),SG=({universe:t,Z:e,world:r,sceneName:n,sceneNames:i,setSceneName:o,roomName:a,setRoomName:u,open:s,setOpen:l,toggleOpen:c,multiplayerConnected:h,micOn:v,toggleMic:y})=>{const[k,_]=be.exports.useState([]),S=s==="scenes",w=s==="multiplayer",C=async()=>{const L=await fetch(t.getWorldsHost());if(L.ok){const P=await L.json();_(P)}else{const P=await L.text();console.warn("failed to fetch",L.status,P)}};return be.exports.useEffect(C,[]),X.createElement("div",{className:ue.location},X.createElement("div",{className:ue.row},X.createElement("div",{className:ue["button-wrap"],onClick:L=>{c("scenes")}},X.createElement("button",{className:ht(ue.button,ue.primary,S?null:ue.disabled)},X.createElement("img",{src:"images/webarrow.svg"}))),X.createElement("div",{className:ue["input-wrap"]},X.createElement("input",{type:"text",className:ue.input,value:h?a:n,onChange:L=>{o(L.target.value)},disabled:h,onKeyDown:L=>{switch(L.which){case 13:{L.preventDefault(),t.pushUrl(`/?src=${encodeURIComponent(n)}`);break}}},onFocus:L=>{l(null)},placeholder:"Goto..."}),X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.green)})),X.createElement("div",{className:ue["button-wrap"],onClick:L=>{h?(t.pushUrl(`/?src=${encodeURIComponent(n)}`),l(null)):c("multiplayer")}},X.createElement("button",{className:ht(ue.button,w||h?null:ue.disabled)},X.createElement("img",{src:"images/wifi.svg"}))),X.createElement("div",{className:ue["button-wrap"],onClick:y},X.createElement("button",{className:ht(ue.button,v?null:ue.disabled)},X.createElement("img",{src:"images/microphone.svg",className:ht(ue["mic-on"],v?null:ue.hidden)}),X.createElement("img",{src:"images/microphone-slash.svg",className:ht(ue["mic-off"],v?ue.hidden:null)})))),S?X.createElement("div",{className:ue.rooms},i.map((L,P)=>X.createElement("div",{className:ue.room,onClick:async B=>{t.pushUrl(`/?src=${encodeURIComponent("./scenes/"+L)}`),l(null)},key:P},X.createElement("img",{className:ue.image,src:"images/world.jpg"}),X.createElement("div",{className:ue.name},L)))):null,w?X.createElement("div",{className:ue.rooms},X.createElement("div",{className:ue.create},X.createElement("button",{className:ue.button,onClick:async L=>{L.preventDefault(),L.stopPropagation();const P=EG();console.log("got room name 0",{roomName:P},t.getWorldsHost()+P);const B=e.encodeStateAsUpdate(r.getState(!0));console.log("post",t.getWorldsHost()+P);const U=await fetch(t.getWorldsHost()+P,{method:"POST",body:B});if(console.log("got room name 1",{roomName:P}),U.ok)C(),t.pushUrl(`/?src=${encodeURIComponent(n)}&room=${P}`);else{const f=await U.text();console.warn("error creating room",U.status,f)}}},"Create room")),k.map((L,P)=>X.createElement("div",{className:ue.room,onClick:async B=>{r.isConnected()||t.pushUrl(`/?src=${encodeURIComponent(n)}&room=${L.name}`)},key:P},X.createElement("img",{className:ue.image,src:"images/world.jpg"}),X.createElement("div",{className:ue.name},L.name),X.createElement("div",{className:ue.delete},X.createElement("button",{className:ht(ue.button,ue.warning),onClick:async B=>{B.preventDefault(),B.stopPropagation();const U=await fetch(t.getWorldsHost()+L.name,{method:"DELETE"});if(U.ok)C();else{const f=await U.text();console.warn("failed to fetch",U.status,f)}}},"Delete"))))):null)},fc=({className:t,type:e,left:r,right:n,top:i,bottom:o,index:a,disabled:u,label:s,panels:l,before:c,after:h,open:v,toggleOpen:y,onclick:k,panelsRef:_})=>{k||(k=w=>{y(e)});const S=w=>{w.stopPropagation()};return X.createElement("div",{className:ht(t,ue.tab,r?ue.left:null,n?ue.right:null,i?ue.top:null,o?ue.bottom:null,a!==void 0?ue["index-"+a]:null,u?ue.disabled:null,v===e?ue.open:null),onClick:k},r?X.createElement(X.Fragment,null,c,l?X.createElement("div",{className:ue.panels,onClick:S,ref:_},X.createElement("div",{className:ue["panels-wrap"]},l)):null,s,h):X.createElement(X.Fragment,null,c,s,l?X.createElement("div",{className:ue.panels,onClick:S,ref:_},X.createElement("div",{className:ue["panels-wrap"]},l)):null,h))},AG=({open:t,game:e,wearActions:r,panelsRef:n,setOpen:i,toggleOpen:o,previewCanvasRef:a})=>{const u=400;return X.createElement(fc,{type:"character",top:!0,left:!0,label:X.createElement("div",{className:ue.label},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.blue)}),X.createElement("span",{className:ue.text},"\u4EBA Character"),X.createElement("span",{className:ue.key},"Tab")),panels:[X.createElement("div",{className:ue.panel,key:"left"},X.createElement("canvas",{id:"previewCanvas",className:ue.avatar,ref:a,width:u,height:u}),X.createElement("div",{className:ue["panel-header"]},X.createElement("div",{className:ht(ue["panel-section"],ue.name)},X.createElement("h1",null,"Scillia")),X.createElement("div",{className:ht(ue["panel-section"],ue["name-placeholder"])}),X.createElement("div",{className:ht(ue["panel-section"],ue["main-stats"])},X.createElement("div",{className:ue["panel-row"]},X.createElement("h2",null,"HP"),X.createElement("progress",{value:61})),X.createElement("div",{className:ue["panel-row"]},X.createElement("h2",null,"MP"),X.createElement("progress",{value:83})))),r.map((s,l)=>X.createElement("div",{className:ue.equipment,key:l,onMouseEnter:c=>{var y;const h=zr.getAppByInstanceId(s.instanceId);e.setMouseHoverObject(null);const v=(y=h.getPhysicsObjects()[0])==null?void 0:y.physicsId;e.setMouseDomEquipmentHoverObject(h,v)},onMouseLeave:c=>{e.setMouseDomEquipmentHoverObject(null)}},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.violet)}),X.createElement("img",{src:"images/flower.png",className:ue.icon}),X.createElement("div",{className:ue.name},s.instanceId),X.createElement("button",{className:ue.button,onClick:c=>{const h=zr.useLocalPlayer(),v=zr.getAppByInstanceId(s.instanceId);h.unwear(v)}},X.createElement("img",{src:"images/remove.svg"})),X.createElement("div",{className:ue.background2}))))],open:t,toggleOpen:o,panelsRef:n})},kG=({claims:t,open:e,toggleOpen:r,panelsRef:n})=>X.createElement(fc,{type:"claims",bottom:!0,left:!0,disabled:t.length===0,className:"skew",label:X.createElement("div",{className:ue.label},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.blue)}),X.createElement("span",{className:ue.text},"\u54C1 Claims (",t.length,")")),after:X.createElement("div",{className:ue["transparent-panel"]},X.createElement("div",{className:ue.buttons},X.createElement("button",{className:ue.button},"Claim all"),X.createElement("button",{className:ue.button},"Reject"))),before:X.createElement("div",{className:ue.slide}),open:e,toggleOpen:r,panelsRef:n}),CG=t=>t.replace(/^[\s\S]*\/([^\/]+)$/,"$1"),Yi=({input:t})=>X.createElement("input",{type:"number",className:ue.input,value:t.value,onChange:t.onChange,onKeyDown:e=>{e.which===13&&e.target.blur()}}),MG=({open:t,game:e,apps:r,selectedApp:n,selectApp:i,setSelectedApp:o,px:a,py:u,pz:s,rx:l,ry:c,rz:h,sx:v,sy:y,sz:k,panelsRef:_,setOpen:S,toggleOpen:w})=>X.createElement(fc,{type:"world",top:!0,right:!0,className:ue["selected-panel-"+(n?2:1)],label:X.createElement("div",{className:ue.label},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.blue)}),X.createElement("span",{className:ue.text},"\u4E16 World"),X.createElement("span",{className:ue.key},"Z")),panels:[X.createElement("div",{className:ue.panel,key:"left"},X.createElement("div",{className:ue["panel-header"]},X.createElement("h1",null,"Tokens")),X.createElement("div",{className:ue.objects},r.map((C,L)=>X.createElement("div",{className:ht(ue.object,C===n?ue.selected:null),key:L,onClick:P=>{P.preventDefault(),P.stopPropagation();const U=C.getPhysicsObjects()[0]||null,f=U?U.physicsId:0;i(C,f),zr.useLocalPlayer().lookAt(C.position)},onMouseEnter:P=>{const U=C.getPhysicsObjects()[0]||null,f=U?U.physicsId:0;e.setMouseHoverObject(null),e.setMouseDomHoverObject(C,f)},onMouseLeave:P=>{e.setMouseDomHoverObject(null)},onMouseMove:P=>{P.stopPropagation()}},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue["background-inner"],ue.lime)}),X.createElement("img",{src:"images/object.jpg",className:ue.img}),X.createElement("div",{className:ue.wrap},X.createElement("div",{className:ue.name},C.contentId.replace(/^[\s\S]*\/([^\/]+)$/,"$1"))))))),n?X.createElement("div",{className:ue.panel,key:"right"},X.createElement("div",{className:ue["panel-header"]},X.createElement("div",{className:ht(ue.button,ue.back),onClick:C=>{C.preventDefault(),C.stopPropagation(),o(null)}},X.createElement("img",{src:"images/webchevron.svg",className:ue.img})),X.createElement("h1",null,CG(n.contentId))),X.createElement("div",{className:ue["panel-subheader"]},"Position"),X.createElement("div",{className:ue.inputs},X.createElement(Yi,{input:a}),X.createElement(Yi,{input:u}),X.createElement(Yi,{input:s})),X.createElement("div",{className:ue["panel-subheader"]},"Rotation"),X.createElement("div",{className:ue.inputs},X.createElement(Yi,{input:l}),X.createElement(Yi,{input:c}),X.createElement(Yi,{input:h})),X.createElement("div",{className:ue["panel-subheader"]},"Scale"),X.createElement("div",{className:ue.inputs},X.createElement(Yi,{input:v}),X.createElement(Yi,{input:y}),X.createElement(Yi,{input:k}))):null],open:t,toggleOpen:w,panelsRef:_}),IG=({app:t,open:e,toggleOpen:r,panelsRef:n})=>{const[i,o]=be.exports.useState(4),[a,u]=be.exports.useState(4);return X.createElement(fc,{type:"options",onclick:async s=>{r("options")},top:!0,right:!0,index:1,label:X.createElement("div",{className:ue.label},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.blue)}),X.createElement("span",{className:ue.text},"\u30AA\u30D7\u30B7\u30E7\u30F3 Option")),panels:[X.createElement("div",{className:ue.panel,key:"left"},X.createElement("div",{className:ue["panel-header"]},X.createElement("h1",null,"Options")),X.createElement("h2",null,"Avatar style"),X.createElement("input",{type:"range",min:1,max:4,step:1,value:i,onChange:s=>o(parseInt(s.target.value,10)),className:ue.slider}),X.createElement("p",{className:ue.description},(()=>{switch(i){case 1:return X.createElement(X.Fragment,null,X.createElement("b",null,"1 - Sprite sheet"),X.createElement("span",null,"Pixels on a plane.",X.createElement("br",null),"Fast style of avatar! One draw call, one texture.",X.createElement("br",null),"\u4EBA(_ _*)"));case 2:return X.createElement(X.Fragment,null,X.createElement("b",null,"2 - Optimized avatar"),X.createElement("span",null,"Avatar squished into one draw call w/atlas uv! Maybe loses shading (\uB208_\uB208)"));case 3:return X.createElement(X.Fragment,null,X.createElement("b",null,"3 - Standard avatar"),X.createElement("span",null,"Standard GLB avatar render. High quality materials if u work hard",X.createElement("br",null),"__\u3006(\uFFE3\u30FC\uFFE3 )"));case 4:return X.createElement(X.Fragment,null,X.createElement("b",null,"4 - VRM MToon avatar"),X.createElement("span",null,"The highest level to aspire to.",X.createElement("br",null),"MToon effect enabled will blow your GPU!"));default:return null}})()),i!==a?X.createElement("button",{className:ht(ue.big,ue["mint-button"]),onClick:s=>{Ht.setAvatarQuality(i),u(i)}},X.createElement("div",{className:ue["button-background"]}),X.createElement("span",null,"Switch style")):null)],open:e,toggleOpen:r,panelsRef:n})},TG=({app:t,xrSupported:e,open:r,toggleOpen:n,panelsRef:i})=>X.createElement(fc,{type:"xr",onclick:async o=>{e&&await t.enterXr()},bottom:!0,right:!0,disabled:!e,label:X.createElement("div",{className:ue.label},X.createElement("img",{src:"images/webpencil.svg",className:ht(ue.background,ue.blue)}),X.createElement("span",{className:ue.text},"\u4EEE\u60F3\u73FE\u5B9F VR",e?"":" (no)")),open:r,toggleOpen:n,panelsRef:i}),PG=({userOpen:t,loginFrom:e,hacks:r,address:n})=>{const[i,o]=be.exports.useState({}),[a,u]=be.exports.useState(null);return be.exports.useState([]),be.exports.useEffect(()=>{n&&!a&&e&&(u([]),(async()=>{if(e==="metamask"){const l=await(await fetch(`https://api.opensea.io/api/v1/assets?owner=${n}&limit=${50}`,{headers:{"X-API-KEY":"6a7ceb45f3c44c84be65779ad2907046"}})).json(),{assets:c}=l;u(c)}else if(e==="discord"){let s=await fetch(`${xA}/${n}`);s=await s.json(),s=s.map(l=>(l.image_preview_url=l.hash,l)),u(s)}})())},[n,a,e]),be.exports.useEffect(()=>{if(a){for(const s of a)i[s.image_preview_url]||(i[s.image_preview_url]="images/object.jpg",e==="metamask"&&fetch(s.image_preview_url).then(l=>l.blob()).then(l=>{const c=URL.createObjectURL(l);i[s.image_preview_url]=c,o(i)}));o(i)}}),X.createElement("section",{className:ht(ue.sidebar,t?ue.open:null),onClick:s=>{s.preventDefault(),s.stopPropagation()}},(a||[]).map((s,l)=>{const{id:c,asset_contract:h,hash:v,name:y,description:k}=s;return X.createElement("div",{className:ue.nft,onDragStart:_=>{_.dataTransfer.setData("application/json",JSON.stringify(s))},draggable:!0,key:l},X.createElement("img",{src:i[s.image_preview_url]||"images/object.jpg",className:ue.preview}),X.createElement("div",{className:ue.wrap},X.createElement("div",{className:ue.name},y),X.createElement("div",{className:ue.description},k),X.createElement("div",{className:ue.tokenid},h?h.address:v," / ",c)))}))},NG=new UA,OS=()=>{const t=Xd(window.location.search);let{src:e}=t;return e===void 0&&(e="./scenes/"+ky[0]),e},$S=()=>{const t=Xd(window.location.search),{room:e}=t;return e||""};function FG({app:t}){const e=()=>p.getActionsArray().filter(oe=>oe.type==="wear"),r=be.exports.useRef(),n=be.exports.useRef(),[i,o]=be.exports.useState(null),[a,u]=be.exports.useState(null),[s,l]=be.exports.useState(!1),[c,h]=be.exports.useState(null),[v,y]=be.exports.useState(Tt.appManager.getApps().slice()),[k,_]=be.exports.useState(OS()),[S,w]=be.exports.useState($S()),[C,L]=be.exports.useState(!1),[P,B]=be.exports.useState(!1),[U,f]=be.exports.useState([]),[D,$]=be.exports.useState(!1),[G,O]=be.exports.useState(""),p=zr.useLocalPlayer(),[E,m]=be.exports.useState(e());let[g,M]=be.exports.useState(0),[R,x]=be.exports.useState(0),[b,d]=be.exports.useState(0),[I,W]=be.exports.useState(0),[Q,j]=be.exports.useState(0),[N,Z]=be.exports.useState(0),[q,K]=be.exports.useState(1),[H,A]=be.exports.useState(1),[V,ie]=be.exports.useState(1);g={value:g,onChange:oe=>{const fe=oe.target.value;a.position.x=fe,a.updateMatrixWorld(),M(fe)}},R={value:R,onChange:oe=>{const fe=oe.target.value;a.position.y=fe,a.updateMatrixWorld(),x(fe)}},b={value:b,onChange:oe=>{const fe=oe.target.value;a.position.z=fe,a.updateMatrixWorld(),d(fe)}},I={value:I,onChange:oe=>{const fe=oe.target.value;a.rotation.x=fe,a.updateMatrixWorld(),W(fe)}},Q={value:Q,onChange:oe=>{const fe=oe.target.value;a.rotation.y=fe,a.updateMatrixWorld(),j(fe)}},N={value:N,onChange:oe=>{const fe=oe.target.value;a.rotation.z=fe,a.updateMatrixWorld(),Z(fe)}},q={value:q,onChange:oe=>{const fe=oe.target.value;a.scale.x=fe,a.updateMatrixWorld(),K(fe)}},H={value:H,onChange:oe=>{const fe=oe.target.value;a.scale.y=fe,a.updateMatrixWorld(),A(fe)}},V={value:V,onChange:oe=>{const fe=oe.target.value;a.scale.z=fe,a.updateMatrixWorld(),ie(fe)}};const ce=i==="user",he=i==="multiplayer",ge=i==="character",z=i==="world",T=i==="magicMenu",F=!!S,J=oe=>{o(oe===i?null:oe)},te=async oe=>{Tt.micEnabled()?(Tt.disableMic(),L(!1)):(await Tt.enableMic(),L(!0))},ne=(oe,fe,le)=>{Ht.setMouseSelectedObject(oe,fe,le)};be.exports.useEffect(()=>{const oe=fe=>{y(Tt.appManager.getApps().slice())};Tt.appManager.addEventListener("appadd",oe),Tt.appManager.addEventListener("appremove",oe)},[]),be.exports.useEffect(()=>{p.addEventListener("wearupdate",oe=>{const fe=e();m(fe);const le=Ht.getMouseDomEquipmentHoverObject();le&&!fe.some(me=>me.type==="wear"&&me.instanceId===le.instanceId)&&Ht.setMouseDomEquipmentHoverObject(null)})},[]),be.exports.useEffect(()=>{const oe=fe=>{document.pointerLockElement&&o(null)};return window.document.addEventListener("pointerlockchange",oe),()=>{window.document.removeEventListener("pointerlockchange",oe)}},[]),be.exports.useEffect(()=>{i&&document.pointerLockElement&&i!=="chat"&&document.exitPointerLock(),Ht.playerDiorama&&(Ht.playerDiorama.enabled=!!i)},[i]);const ae=()=>{const oe=OS();_(oe);const fe=$S();w(fe),he&&o(null)};be.exports.useEffect(()=>{const oe=le=>{ae()},fe=le=>{ae(),Cy()};return window.addEventListener("pushstate",oe),window.addEventListener("popstate",fe),()=>{window.removeEventListener("pushstate",oe),window.removeEventListener("popstate",fe)}},[]),be.exports.useEffect(()=>{ae()},[]),be.exports.useEffect(()=>{const oe=fe=>{const{app:le}=fe.data,{contentId:me}=le,Ne=U.slice();Ne.push({contentId:me}),f(Ne)};return Tt.appManager.addEventListener("pickup",oe),()=>{Tt.appManager.removeEventListener("pickup",oe)}},[U]),be.exports.useEffect(()=>{r.current&&!Ht.playerDiorama&&t.bindPreviewCanvas(r.current)},[r.current]),be.exports.useEffect(()=>{a&&n.current&&n.current.scrollTo(0,0)},[a,n.current]);const ye=oe=>{switch(oe.which){case 13:return oe.preventDefault(),oe.stopPropagation(),o("chat"),!0;case 84:return oe.preventDefault(),oe.stopPropagation(),te(),!0;case 90:return oe.preventDefault(),oe.stopPropagation(),z?a?ne(null):Qd.requestPointerLock():o("world"),!0;case 191:return!T&&!mn.inputFocused()&&(oe.preventDefault(),oe.stopPropagation(),o("magicMenu")),!0}return!1},pe=oe=>{switch(oe.which){case 9:return oe.preventDefault(),oe.stopPropagation(),ge||T?(mn.click(new MouseEvent("click")),Qd.requestPointerLock()):o("character"),!0}return!1};return be.exports.useEffect(()=>{const oe=fe=>{let le=!1;const me=document.activeElement&&["INPUT","TEXTAREA"].includes(document.activeElement.nodeName);me||(le=ye(fe)),le||(le=pe(fe)),le||me||mn.keydown(fe)};return window.addEventListener("keydown",oe),()=>{window.removeEventListener("keydown",oe)}},[i,a]),be.exports.useEffect(async()=>{const oe=await t.isXrSupported();B(oe)},[]),be.exports.useEffect(async()=>{window.addEventListener("click",oe=>{const fe=Ht.getMouseHoverObject();if(fe){oe.preventDefault(),oe.stopPropagation();const le=Ht.getMouseHoverPhysicsId(),me=Ht.getMouseHoverPosition();ne(fe,le,me)}})},[]),be.exports.useEffect(()=>{if(a){const{position:oe,quaternion:fe,scale:le}=a,me=NG.setFromQuaternion(fe,"YXZ");M(oe.x),x(oe.y),d(oe.z),W(me.x),j(me.y),Z(me.z),K(le.x),A(le.y),ie(le.z)}},[a]),be.exports.useEffect(()=>{const oe=le=>{const{dragging:me}=le.data;$(me)};Tt.appManager.addEventListener("dragchange",oe);const fe=le=>{u(le.data.app)};return Tt.appManager.addEventListener("selectchange",fe),()=>{Tt.appManager.removeEventListener("dragchange",oe),Tt.appManager.removeEventListener("selectchange",fe)}},[D]),X.createElement("div",{className:ue.container,onClick:oe=>{oe.stopPropagation()}},X.createElement(dM,{open:i,setOpen:o,selectedApp:a,dragging:D}),X.createElement(AM,{open:i,setOpen:o}),X.createElement(Yk,{open:i,setOpen:o}),X.createElement("div",{className:ue.inner},X.createElement("header",{className:ue.header},X.createElement("div",{className:ue.row},X.createElement("a",{href:"/",className:ue.logo},X.createElement("img",{src:"images/arrow-logo.svg",className:ue.image})),X.createElement(SG,{sceneName:k,setSceneName:_,roomName:S,setRoomName:w,open:i,setOpen:o,toggleOpen:J,multiplayerConnected:F,micOn:C,toggleMic:te,universe:DA,sceneNames:ky}),X.createElement(DG,{address:s,setAddress:l,open:i,setOpen:o,toggleOpen:J,setLoginFrom:O}))),X.createElement("header",{className:ht(ue.header,ue.subheader)},X.createElement("div",{className:ue.row},X.createElement(AG,{open:i,setOpen:o,toggleOpen:J,panelsRef:n,wearActions:E,previewCanvasRef:r,game:Ht}),X.createElement(MG,{open:i,setOpen:o,toggleOpen:J,panelsRef:n,game:Ht,apps:v,selectApp:ne,setSelectedApp:u,selectedApp:a,px:g,py:R,pz:b,rx:I,ry:Q,rz:N,sx:q,sy:H,sz:V}),X.createElement(IG,{app:t,open:i,toggleOpen:J,panelsRef:n}),X.createElement(TG,{xrSupported:P,app:t,open:i,toggleOpen:J,panelsRef:n}),X.createElement(kG,{claims:U,open:i,toggleOpen:J,panelsRef:n}))),X.createElement(PG,{userOpen:ce,nfts:c,hacks:MM,address:s,setNfts:h,loginFrom:G})))}const OG="_overflow_77cq2_73",$G="_hidden_77cq2_105",LG="_bar_77cq2_129",RG="_spinner_77cq2_145",BG="_spin_77cq2_145",UG="_header_77cq2_155",jG="_icon_77cq2_181",zG="_img_77cq2_181",qG="_openable_77cq2_199",HG="_open_77cq2_199",WG="_navs_77cq2_207",GG="_name_77cq2_215",VG="_primary_77cq2_229",KG="_secondary_77cq2_239",JG="_tertiary_77cq2_249",YG="_highlight_77cq2_259",XG="_disabled_77cq2_269",QG="_nav_77cq2_207",ZG="_double_77cq2_315",eV="_marginer_77cq2_333",tV="_full_77cq2_381",rV="_square_77cq2_407",nV="_label_77cq2_439",iV="_selector_77cq2_487",oV="_spacer_77cq2_489",aV="_head_77cq2_155",uV="_tail_77cq2_537",sV="_footer_77cq2_545",lV="_enabled_77cq2_607",cV="_selections_77cq2_673",fV="_selection_77cq2_673",hV="_dim_77cq2_711",dV="_wrap_77cq2_739",pV="_pagination_77cq2_781",vV="_subheader_77cq2_817",mV="_subtab_77cq2_831",gV="_subcontent_77cq2_861",yV="_loader_77cq2_883",bV="_body_77cq2_915",_V="_loading_77cq2_923",wV="_grid_77cq2_925",xV="_menu_77cq2_941",DV="_unmenu_77cq2_943",EV="_sidebar_77cq2_1039",SV="_tools_77cq2_1047",AV="_row_77cq2_1047",kV="_tool_77cq2_1047",CV="_weapons_77cq2_1049",MV="_weapon_77cq2_1049",IV="_functions_77cq2_1051",TV="_ops_77cq2_1053",PV="_op_77cq2_199",NV="_colors_77cq2_1055",FV="_color_77cq2_1055",OV="_enters_77cq2_1057",$V="_enter_77cq2_1057",LV="_selected_77cq2_1151",RV="_fill_77cq2_1247",BV="_subpage_77cq2_1433",UV="_subtabs_77cq2_1467",jV="_search_77cq2_1555",zV="_title_77cq2_1571",qV="_packages_77cq2_1827",HV="_inventory_77cq2_1829",WV="_worlds_77cq2_1609",GV="_world_77cq2_1609",VV="_item_77cq2_1849",KV="_background_77cq2_1913",JV="_button_77cq2_1023",YV="_objects_77cq2_2015",XV="_object_77cq2_2015",QV="_hover_77cq2_2043",ZV="_placeholder_77cq2_2065",eK="_children_77cq2_2093",tK="_tokens_77cq2_2199",rK="_token_77cq2_2199",nK="_preview_77cq2_2241",iK="_actions_77cq2_2263",oK="_text_77cq2_2291",aK="_action_77cq2_2263",uK="_description_77cq2_2435",sK="_container_77cq2_977",lK="_canvas_77cq2_2519",cK="_popup_77cq2_2543",fK="_buttons_77cq2_2563",hK="_main_77cq2_2713",dK="_createForm_77cq2_2799",pK="_sidebarTextInput_77cq2_2757",vK="_sidebarCreateButton_77cq2_2815",mK="_sidebarProgressButton_77cq2_2817",gK="_minting_77cq2_2867",yK="_formContainer_77cq2_1",bK="_blocker_77cq2_1023",_K="_unlocked_77cq2_1023",wK="_unblocker_77cq2_2985",xK="_unlocking_77cq2_2987",DK="_form_77cq2_3063",EK="_type_77cq2_3135",SK="_screenshot_77cq2_3191",AK="_schema_77cq2_3207",kK="_views_77cq2_3287",CK="_view_77cq2_3287",MK="_manifest_77cq2_3345",IK="_heading_77cq2_3393",TK="_files_77cq2_3401",PK="_file_77cq2_3401",NK="_exports_77cq2_3505",FK="_mode_77cq2_3545",OK="_subbutton_77cq2_3813",$K="_error_77cq2_3843",LK="_ftu_77cq2_3997",RK="_content_77cq2_4085",BK="_top_77cq2_4121",UK="_bottom_77cq2_4129",jK="_avatar_77cq2_2111",zK="_key_77cq2_4261",qK="_keyInfo_77cq2_4285",HK="_helper_77cq2_4317",WK="_left_77cq2_4333",GK="_right_77cq2_4343",VK="_loadout_77cq2_4365",KK="_box_77cq2_4381",JK="_keys_77cq2_4445",YK="_center_77cq2_4479",XK="_store_77cq2_4557",QK="_profile_77cq2_4643",ZK="_users_77cq2_4649",eJ="_content2_77cq2_4611",tJ="_items_77cq2_4719",rJ="_big_77cq2_2461",nJ="_small_77cq2_4769",iJ="_favorites_77cq2_4873",oJ="_tiles_77cq2_4897",aJ="_tile_77cq2_4897",uJ="_booth_77cq2_5029",sJ="_side_77cq2_1039",lJ="_wide_77cq2_5145",cJ="_solid_77cq2_5151",fJ="_closed_77cq2_5191",hJ="_tabs_77cq2_1339",dJ="_card_77cq2_3077",pJ="_details_77cq2_3237",vJ="_video_77cq2_5467",mJ="_progress_77cq2_113",gJ="_running_77cq2_5507",yJ="_notifications_77cq2_5517",bJ="_notification_77cq2_5517",_J="_chat_77cq2_5655",wJ="_input_77cq2_5681",xJ="_messages_77cq2_5707",DJ="_message_77cq2_5707",EJ="_slot_77cq2_5817";var $e={overflow:OG,hidden:$G,"progress-bar":"_progress-bar_77cq2_113",bar:LG,spinner:RG,spin:BG,header:UG,icon:jG,img:zG,openable:qG,open:HG,navs:WG,name:GG,primary:VG,secondary:KG,tertiary:JG,highlight:YG,disabled:XG,nav:QG,double:ZG,"bar-left":"_bar-left_77cq2_325",marginer:eV,full:tV,square:rV,label:nV,selector:iV,spacer:oV,head:aV,"header-label":"_header-label_77cq2_531",tail:uV,footer:sV,enabled:lV,"enable-icon":"_enable-icon_77cq2_625","disable-icon":"_disable-icon_77cq2_627","early-access-label":"_early-access-label_77cq2_661",selections:cV,selection:fV,dim:hV,wrap:dV,pagination:pV,"pagination-control":"_pagination-control_77cq2_793","header-gap":"_header-gap_77cq2_809",subheader:vV,subtab:mV,subcontent:gV,loader:yV,body:bV,loading:_V,grid:wV,"no-ui":"_no-ui_77cq2_937",menu:xV,unmenu:DV,sidebar:EV,tools:SV,row:AV,tool:kV,weapons:CV,weapon:MV,functions:IV,function:"_function_77cq2_1051",ops:TV,op:PV,colors:NV,color:FV,enters:OV,enter:$V,selected:LV,fill:RV,subpage:BV,subtabs:UV,search:jV,"search-input":"_search-input_77cq2_1561",title:zV,"close-button":"_close-button_77cq2_1577","subtab-content":"_subtab-content_77cq2_1601","worlds-wrap":"_worlds-wrap_77cq2_1609",packages:qV,inventory:HV,"worlds-list":"_worlds-list_77cq2_1831",package:"_package_77cq2_1827",worlds:WV,world:GV,item:VV,"worlds-subpage":"_worlds-subpage_77cq2_1869","name-input":"_name-input_77cq2_1887",background:KV,button:JV,objects:YV,object:XV,hover:QV,placeholder:ZV,children:eK,"depth-1":"_depth-1_77cq2_2103",tokens:tK,token:rK,preview:nK,actions:iK,text:oK,action:aK,"world-objects":"_world-objects_77cq2_2407","world-object":"_world-object_77cq2_2407",description:uK,"big-buttons":"_big-buttons_77cq2_2461","big-button":"_big-button_77cq2_2461",container:sK,canvas:lK,popup:cK,buttons:fK,main:hK,createForm:dK,sidebarTextInput:pK,sidebarCreateButton:vK,sidebarProgressButton:mK,minting:gK,formContainer:yK,blocker:bK,unlocked:_K,unblocker:wK,unlocking:xK,form:DK,type:EK,"object-detail":"_object-detail_77cq2_3175",screenshot:SK,schema:AK,"subpage-wrap":"_subpage-wrap_77cq2_3231","details-wrap":"_details-wrap_77cq2_3237","side-tabs":"_side-tabs_77cq2_3243","side-tab":"_side-tab_77cq2_3243","side-content":"_side-content_77cq2_3281",views:kK,view:CK,"manifest-wrap":"_manifest-wrap_77cq2_3345",manifest:MK,"manifest-side":"_manifest-side_77cq2_3377",heading:IK,"files-wrap":"_files-wrap_77cq2_3401",files:TK,file:PK,"remove-button":"_remove-button_77cq2_3441","files-side":"_files-side_77cq2_3459","file-input":"_file-input_77cq2_3489",exports:NK,"export-button":"_export-button_77cq2_3517",mode:FK,"create-ui":"_create-ui_77cq2_3561","login-form":"_login-form_77cq2_3589","phase-1":"_phase-1_77cq2_3599","phase-1-content":"_phase-1-content_77cq2_3599","phase-2":"_phase-2_77cq2_3601","phase-2-content":"_phase-2-content_77cq2_3601","phase-3":"_phase-3_77cq2_3603","phase-3-content":"_phase-3-content_77cq2_3603","phaseless-content":"_phaseless-content_77cq2_3605","login-notice":"_login-notice_77cq2_3619","login-error":"_login-error_77cq2_3621","phase-content":"_phase-content_77cq2_3643","user-button":"_user-button_77cq2_3655","avatar-icon-placeholder":"_avatar-icon-placeholder_77cq2_3695","user-details":"_user-details_77cq2_3733","unregistered-warning":"_unregistered-warning_77cq2_3745","user-name":"_user-name_77cq2_3807",subbutton:OK,error:$K,"drop-zones":"_drop-zones_77cq2_3855","drop-zone":"_drop-zone_77cq2_3855","dragging-package":"_dragging-package_77cq2_3955",ftu:LK,"ftu-phase-1":"_ftu-phase-1_77cq2_4007","ftu-phase-2":"_ftu-phase-2_77cq2_4009","ftu-phase-3":"_ftu-phase-3_77cq2_4011","ftu-phase":"_ftu-phase_77cq2_4007",content:RK,top:BK,bottom:UK,"avatar-grid":"_avatar-grid_77cq2_4157",avatar:jK,"controls-wrapper":"_controls-wrapper_77cq2_4241","controls-grid":"_controls-grid_77cq2_4247","controls-header":"_controls-header_77cq2_4253",key:zK,keyInfo:qK,helper:HK,left:WK,right:GK,"map-canvas":"_map-canvas_77cq2_1",loadout:VK,box:KK,keys:JK,center:YK,"enter-xr-button":"_enter-xr-button_77cq2_4501",store:XK,profile:QK,users:ZK,"detail-2":"_detail-2_77cq2_4691",content2:eJ,items:tJ,big:rJ,small:nJ,"detail-1":"_detail-1_77cq2_4847","detail-3":"_detail-3_77cq2_4851",favorites:iJ,tiles:oJ,tile:aJ,booth:uJ,side:sJ,"switch-network-link":"_switch-network-link_77cq2_5081",wide:lJ,solid:cJ,"key-helpers":"_key-helpers_77cq2_5165","key-helper":"_key-helper_77cq2_5165","profile-picture":"_profile-picture_77cq2_5175",closed:fJ,tabs:hJ,card:dJ,details:pJ,video:vJ,progress:mJ,running:gJ,notifications:yJ,notification:bJ,chat:_J,input:wJ,messages:xJ,message:DJ,"network-name":"_network-name_77cq2_1","inventory-menu":"_inventory-menu_77cq2_5763","equip-slots":"_equip-slots_77cq2_5805",slot:EJ,"flip-horizontal":"_flip-horizontal_77cq2_5865","inventory-slots":"_inventory-slots_77cq2_5871"},SJ=()=>X.createElement("footer",null,X.createElement("div",{className:ht($e.helper,$e.left)},X.createElement("div",{className:$e.loadout},(()=>{const t=8,e=Array(t);for(let r=0;r<t;r++)e[r]=X.createElement("div",{className:$e.item,key:r},X.createElement("div",{className:$e.box}),X.createElement("div",{className:$e.label},r+1));return e})())),X.createElement("div",{className:ht($e.helper,$e.right)},X.createElement("div",{className:$e.chat,id:"chat"},X.createElement("div",{className:$e.messages,id:"chat-messages"}),X.createElement("input",{type:"text",className:$e.input})),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.label},"Move"),X.createElement("div",{className:$e.row},X.createElement("div",{className:$e.key}),X.createElement("div",{className:$e.key},"W"),X.createElement("div",{className:$e.key})),X.createElement("div",{className:$e.row},X.createElement("div",{className:$e.key},"A"),X.createElement("div",{className:$e.key},"S"),X.createElement("div",{className:$e.key},"D"))),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.row}),X.createElement("div",{className:$e.row},X.createElement("div",{className:ht($e.label,$e.center)},"Fly"),X.createElement("div",{className:$e.key},"F"))),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.row}),X.createElement("div",{className:$e.row},X.createElement("div",{className:ht($e.label,$e.center)},"Camera"),X.createElement("div",{className:$e.key},X.createElement("i",{className:"far fa-mouse-alt"})))),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.row}),X.createElement("div",{className:$e.row},X.createElement("div",{className:ht($e.label,$e.center)},"Talk"),X.createElement("div",{className:$e.key},"T"))),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.row}),X.createElement("div",{className:$e.row},X.createElement("div",{className:ht($e.label,$e.center)},"Upload"),X.createElement("div",{className:$e.key},"U"))),X.createElement("div",{className:$e.keys},X.createElement("div",{className:$e.row}),X.createElement("div",{className:$e.row},X.createElement("div",{className:ht($e.label,$e.center)},"Text chat"),X.createElement("div",{className:$e.key},"Enter")))));const{useLocalPlayer:AJ}=zr,hy=new Qn;var kJ=function(){var t=0,e=Date.now(),r=e,n=AJ(),i=document.createElement("div");i.style.cssText="width:120px;opacity:0.9;cursor:pointer",i.id="statsBox";var o=document.createElement("div");o.style.cssText="padding:0 3px 3px 3px;text-align:left;background-color:rgba(0,0,0,0.3);;",i.appendChild(o);var a=document.createElement("div");a.style.cssText="color:white;font-family:Helvetica,Arial,sans-serif;font-size:13px;line-height:15px",a.innerHTML="Renderer Stats",o.appendChild(a);for(var u=[],s=11,l=0;l<s;l++)u[l]=document.createElement("div"),u[l].style.cssText="color:white;background-color:rgba(0,0,0,0.3);font-family:Helvetica,Arial,sans-serif;font-size:13px;line-height:15px",o.appendChild(u[l]),u[l].innerHTML="-";var r=Date.now();return{domElement:i,update:function(c){t++;var h=0;n&&(u[h++].textContent="X: "+n.position.x.toFixed(2),u[h++].textContent="Y: "+n.position.y.toFixed(2),u[h++].textContent="Z: "+n.position.z.toFixed(2),u[h++].textContent="Velocity: "+n.characterPhysics.velocity.toArray().map(v=>v.toFixed(2)).join(", "),u[h++].textContent="Speed: "+n.characterPhysics.velocity.length().toFixed(2),hy.copy(n.characterPhysics.velocity),hy.y=0,u[h++].textContent="HSpeed: "+hy.length().toFixed(2)),Date.now()>r+1e3&&(u[h++].textContent="FPS: "+Math.round(t*1e3/(Date.now()-r)),u[h++].textContent="== Memory =====",u[h++].textContent="Programs: "+c.info.programs.length,u[h++].textContent="Geometries: "+c.info.memory.geometries,u[h++].textContent="Textures: "+c.info.memory.textures,t=0,r=Date.now())}}};const CJ=new Qn,MJ=new Qn;new Qn;const IJ=new t0;new t0;new t0;const TJ=new Iy,PJ=new Iy;Array(4);Array(4);Array(4);Array(4);const dy="immersive-vr",NJ={requiredFeatures:["local-floor"],optionalFeatures:["hand-tracking"]},py=new MessageEvent("frame",{data:{now:0,timeDiff:0}});var cs=kJ();class FJ extends EventTarget{constructor(){super();cs.domElement.style.position="absolute",cs.domElement.style.left="0px",cs.domElement.style.bottom="0px",cs.domElement.style.display="none",document.body.appendChild(cs.domElement);{const e=EA.getAudioContext();Zd.setAudioContext(e)}this.loadPromise=(async()=>{await Promise.all([SA.waitForLoad(),Zd.waitForLoad(),AA(),My.waitForLoad(),kA(),ls.waitForLoad()])})(),this.contentLoaded=!1}waitForLoad(){return this.loadPromise}getRenderer(){return vc()}getScene(){return CA}getSceneHighPriority(){return MA}getSceneLowPriority(){return IA}getCamera(){return qa}setContentLoaded(){this.contentLoaded=!0}bindInput(){mn.bindInput()}bindInterface(){mn.bindInterface(),TA()}bindCanvas(e){PA(e),NA.bindCanvas()}bindPreviewCanvas(e){Ht.bindPreviewCanvas(e)}async isXrSupported(){if(navigator.xr){let e=!1;try{e=await navigator.xr.isSessionSupported(dy)}catch(r){console.warn(r)}return e}else return!1}async enterXr(){const e=vc(),r=e.xr.getSession();if(r===null){let n=null;try{n=await navigator.xr.requestSession(dy,NJ)}catch{try{n=await navigator.xr.requestSession(dy)}catch(o){console.warn(o)}}if(n){let i=function(o){n.removeEventListener("end",i),e.xr.setSession(null)};n.addEventListener("end",i),e.xr.setSession(n)}}else await r.end()}render(e,r){const n=vc();py.data.now=e,py.data.timeDiff=r,this.dispatchEvent(py),FA().render(),mn.debugMode&&cs.update(n)}startLoop(){const e=vc();if(!e)throw new Error("must bind canvas first");let r=performance.now();const n=(i,o)=>{i=i!=null?i:performance.now();const a=i-r,u=Math.min(Math.max(a,0),100);mn.update(u),Qd.update(u);const s=zr.useLocalPlayer();this.contentLoaded&&(OA.simulatePhysics(u),s.updatePhysics(i,u)),r=i,My.update(),Ht.update(i,u),s.updateAvatar(i,u),$A.update(i,u),Tt.appManager.tick(i,u,o),LA.update(i,u),mn.updatePost(),Ht.pushAppUpdates(),Ht.pushPlayerUpdates(),e0.update(i,u);const c=e.xr.getSession()?e.xr.getCamera(qa):qa;TJ.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse),PJ.copy(c.matrix).premultiply(RA.matrix).decompose(CJ,IJ,MJ),this.render(i,u)};e.setAnimationLoop(n),OJ()}}const OJ=()=>{const t=zr.useLocalPlayer(),e=Zd.getAnimations().filter(c=>c.name.endsWith(".vpd"));let r=null,n=null;const i={key:-1,timestamp:0};let o=-1,a=-1;const u=c=>{const h=performance.now();if(h-i.timestamp<1e3){const v=i.key,y=c;o=v*10+y,i.key=-1,i.timestamp=0}else i.key=c,i.timestamp=h},s=()=>{if(t.removeAction("emote"),o!==-1){const c={type:"emote",index:o};t.addAction(c)}},l=()=>{if(t.removeAction("pose"),a!==-1){const c=e[a],h={type:"pose",animation:c.name};t.addAction(h)}};window.addEventListener("keydown",c=>{if(c.which===219)t.avatar&&(async()=>{const h="/sounds/vocals.mp3",v="/sounds/music.mp3",y=_=>new Promise((S,w)=>{const C=new Audio(_);C.addEventListener("canplaythrough",async L=>{S(C)},{once:!0}),C.addEventListener("error",L=>{w(L)})}),k=await Promise.all([y(h),y(v)]);t.avatar.say(k[0]),await t.avatar.microphoneWorker.waitForLoad(),k[0].play(),k[1].play(),k[0].addEventListener("ended",_=>{t.avatar.setMicrophoneMediaStream(null)})})();else if(c.which===221){const h=zr.useLocalPlayer();h.avatar&&(r?(r.destroy(),r=null):r=e0.createPlayerDiorama(h,{label:!0,outline:!0,lightningBackground:!0}))}else if(c.which===220){const h=(()=>{const y=Tt.appManager.getApps().find(k=>/sword/i.test(k.contentId));if(y)return y;{const k=t.getAction("wear");return k?t.appManager.getAppByInstanceId(k.instanceId):null}})();n?(n.destroy(),n=null):h?n=e0.createAppDiorama(h,{outline:!0,radialBackground:!0}):console.warn("no target app")}else if(c.which===46)o=-1,s();else if(c.which===107)a++,a=Math.min(Math.max(a,-1),e.length-1),l();else if(c.which===109)a--,a=Math.min(Math.max(a,-1),e.length-1),l();else{const h=c.code.match(/^Numpad([0-9])$/);if(h){const v=parseInt(h[1],10);u(v),s()}}})};class $J extends EventTarget{constructor(){super()}dropToken(e,r,n){}claimVoucher(e,r,n){this.dispatchEvent(new MessageEvent("claimvoucher",{data:{contractAddress:e,tokenId:r,voucher:n}}))}}new $J;const LJ=async(t,e)=>{t.setContentLoaded(),t.bindInput(),t.bindInterface(),t.bindCanvas(e),await t.waitForLoad(),Cy(),await t.startLoop(),await zr.useLocalPlayer().setAvatarUrl(BA)},RJ=()=>X.createElement("div",{className:rv.crosshair,id:"crosshair"},X.createElement("img",{src:"./assets/crosshair.svg",width:30,height:30}));function BJ(){const t=be.exports.useRef(),[e,r]=be.exports.useState(()=>new FJ);return be.exports.useEffect(()=>{t.current&&LJ(e,t.current)},[t.current]),X.createElement("div",{className:rv.App,id:"app"},X.createElement(FG,{app:e}),X.createElement(RJ,null),X.createElement("canvas",{id:"canvas",className:rv.canvas,ref:t}),X.createElement(SJ,null))}var UJ=({errors:t})=>X.createElement("div",null,X.createElement("h1",null,"Browser not supported"),X.createElement("p",null,"Your browser is missing the following required features:"),X.createElement("ul",null,t.map((e,r)=>X.createElement("li",{key:r},e))),X.createElement("p",null,"Supported browsers include Chrome, Safari and Opera."));const jJ=!navigator.userAgent.match(/(Firefox|MSIE)/);$k.render(X.createElement(X.StrictMode,null,jJ?X.createElement(BJ,null):X.createElement(UJ,{errors:["WebWorker modules"]})),document.getElementById("root"));
